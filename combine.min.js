function clsAnimationLottie(){var l=this;this.config=null,this.init=function(){var e;$("body #animation_one").length||$("body").prepend('<div id="animation_one" style="position: fixed; z-index: 99; pointer-events: none;"></div>'),$("body #animation_two").length||$("body").prepend('<div id="animation_two" style="position: fixed; z-index: 100; pointer-events: none;"></div>'),$("body #animation_three").length||$("body").prepend('<div id="animation_three" style="position: fixed; display: none; pointer-events: none; z-index: 100; top: 0px; left: 0px; width: '+SPA.convertScale(1920)+"px; height: "+SPA.convertScale(1080)+'px;"></div>'),l.getConfig(),$("#lottie-lib").length?(l.runAnimationOne(),l.runAnimationThree()):((e=document.createElement("script")).async=!1,e.onload=function(){l.runAnimationOne(),l.runAnimationThree()},e.id="lottie-lib",e.src=gConfig.getDomainAPI().slice(0,-3)+"bitmovin/lottie-lib.js",document.head.appendChild(e))},this.getConfig=function(){try{l.config=gAuthenCtlData.define_config.animation}catch(e){console.log(e)}},this.runAnimationOne=function(){try{for(var e,t=null,i=0;i<l.config.length;i++)"HU001"==l.config[i].code&&(t=getParam(l.config[i],null));null!=t&&t&&(e=JSON.parse(t.extra),$("#animation_one").css({left:e.x_axis,top:e.y_axis}),$("#animation_one").css({width:SPA.convertScale(e.width)+"px",height:SPA.convertScale(e.height)+"px"}),""==$("body #animation_one").html())&&lottie.loadAnimation({container:document.getElementById("animation_one"),path:t.url,renderer:"svg",loop:!0,autoplay:!0})}catch(e){console.log(e)}},this.runAnimationThree=function(){try{for(var e=null,t=0;t<l.config.length;t++)"HU003"==l.config[t].code&&(e=getParam(l.config[t],null));null!=e&&e&&""==$("body #animation_three").html()&&bodymovin.loadAnimation({container:document.getElementById("animation_three"),path:e.url,renderer:"svg",loop:!0,autoplay:!0})}catch(e){console.log(e)}},this.AnimationTwoObj=null,this.runAnimationTwo=function(e,t){try{for(var i,o,n,a=null,r=0;r<l.config.length;r++)"HU002"==l.config[r].code&&(a=getParam(l.config[r],null));null!=a&&(i=$(e).offset(),o=$(e).width(),n=$(e).height(),a?($("#animation_two").css({left:i.left,top:i.top,width:o,height:n}),$("#animation_two").show(),""==$("body #animation_two").html()&&(null==l.AnimationTwoObj?(l.AnimationTwoObj=bodymovin.loadAnimation({container:document.getElementById("animation_two"),path:a.url,renderer:"svg",loop:!1,autoplay:!0}),l.AnimationTwoObj.setSpeed(1),l.AnimationTwoObj.addEventListener("complete",function(){$("#animation_two").hide(),l.AnimationTwoObj.destroy(),l.AnimationTwoObj=null})):l.AnimationTwoObj.play()),setTimeout(function(){t()},300)):t())}catch(e){console.log(e),t()}}}function clLogBehaviorV2(e){var r=this;function a(e){var t={},i=document.createElement("a");i.href=e;for(var o=i.search.substring(1).split("&"),n=0;n<o.length;n++){var a=o[n].split("=");t[a[0]]=decodeURIComponent(a[1])}return t}function l(e){var e=new Date(e),t=e.getFullYear(),i=e.getMonth()+1,o=e.getDate(),n=e.getHours(),a=e.getMinutes(),e=e.getSeconds();return t+""+(i=1==i.toString().length?"0"+i:i)+(o=1==o.toString().length?"0"+o:o)+" "+(n=1==n.toString().length?"0"+n:n)+":"+(a=1==a.toString().length?"0"+a:a)+":"+(e=1==e.toString().length?"0"+e:e)}function s(){var e=new Date,t=e.getFullYear(),i=e.getMonth()+1,o=e.getDate(),n=e.getHours(),a=e.getMinutes(),e=e.getSeconds();return t+""+(i=1==i.toString().length?"0"+i:i)+(o=1==o.toString().length?"0"+o:o)+" "+(n=1==n.toString().length?"0"+n:n)+":"+(a=1==a.toString().length?"0"+a:a)+":"+(e=1==e.toString().length?"0"+e:e)}function c(e){return null!=getParam(e,null)&&e.length>=getParam(r.push_size,10)&&""!=r.logBehaviorApiUrl}function u(){try{var e=r.logBehaviorOldScreen.split("?");return-1!=[].indexOf(e[0])?1:void 0}catch(e){console.log(e)}}function p(e){var t=localStorage.getItem(r.logBehaviorKeyName),i=[];return null==getParam(e,null)?t:((null===t?i:i=JSON.parse(t)).push(e),localStorage.setItem(r.logBehaviorKeyName,JSON.stringify(i)),i)}this.logBehaviorKeyName="LogBehaviorV2",this.logBehaviorTimeIn=(new Date).getTime(),this.logBehaviorOldScreen="",this.logForAdd=null,this.platform="b2c-html5",this.logBehaviorApiUrl="",this.refer="",this.referer="",this.other="",this.type_id="",this.cate_id="",this.LogBehaviorScreenName="",this.action="",this.title="",this.count_sending=0,this.savedScreenLimit=100,this.limitMaxError=15,this.notification_id="",this.notification_style="",this.notification_request_id=0,this.notifyIsLinkable="",this.notifyScreenName="",this.advertise_id="",this.rule_id=null,this.content_id="",this.action_data=null,this.type=0,this.max_row=0,this.keyword="",this.sendNow=0,this.idleInterval=300,this.isStartInterval=0,this.screenBeforePopup="",this.pushSize=10,this.cacheSizeMax=20,this.isSendingLog=!1,this.bill_number=0,this.module_id="",this.banner_mytv_id="",this.sendLogLocal=function(){try{var e=localStorage.getItem(r.logBehaviorKeyName),t=JSON.parse(e);0<t.length&&r.sendLog(t)}catch(e){console.log(e)}},this.onSPALocation=function(e){r.saveLogAction(e,LOG_BEHAVIOR_TYPE.AUTOMATIC),r.saveLogImpressed(e,LOG_BEHAVIOR_TYPE.AUTOMATIC),SPA.resetMoveCount()},this.onClassFireClick=function(e,t,i){clsLogBehaviorV2.getLogBehaviorParam(e),clsLogBehaviorV2.setOther(getParam(t,""),getParam(i,""))},this.onClassFocus=function(e){r.saveLogFocus(e)},this.deleteLogCacheSizeMax=function(){try{var e=localStorage.getItem(r.logBehaviorKeyName);JSON.parse(e).length>=r.cacheSizeMax&&localStorage.setItem(r.logBehaviorKeyName,JSON.stringify([]))}catch(e){console.log(e)}},this.saveLogAction=function(e,t){try{var i,o;t=getParam(t,LOG_BEHAVIOR_TYPE.MANUAL),u()||(r.setNewLogURL(),!1!==(i=function(e,t){var i=e,i=(e=handle_path(e),a(i)),o=getParam(r.LogBehaviorScreenName,"");""==o&&(1==getParam(routerConfig[e].IsWriteLogBehavior,!0)?o=getParam(routerConfig[e].LogBehaviorScreenName,""):"system_back"!=r.action&&"back"!=r.action||(o=getParam(SPA.screenNameBack,"")));SPA.getScreenName()==o&&(o="");e={start_time:l(r.logBehaviorTimeIn),type_id:getParam(r.type_id),cate_id:getParam(r.cate_id),member_id:getParam(gServerResponse.member_id,""),user_name:getParam(gServerResponse.username_mytv,""),action:r.action,referer:r.referer,row:"",column:"",keyword:r.keyword,current_screen:SPA.getScreenName(),to_screen:o,content_id:getParam(r.content_id,""),action_time:s(),series_id:""};if(""==getParam(r.action,""))return!1;r.addLogAdditionData(e,i),t!=LOG_BEHAVIOR_TYPE.AUTOMATIC&&!1!==e&&r.clearData();return console.log("log behavior v2 item: ",e),e}(e=getParam(e,""),t))&&c(o=p(i))&&r.sendLog(o))}catch(e){console.log(e)}},this.saveLogActionPopup=function(e){try{r.setNewLogURL();var t,i=function(e){e=getParam(e,""),e={start_time:l(r.logBehaviorTimeIn),type_id:getParam(r.typeID,""),cate_id:getParam(r.cateId,""),member_id:getParam(gServerResponse.member_id,""),user_name:getParam(gServerResponse.username_mytv,""),action:r.action,referer:r.referer,row:"",column:"",keyword:r.keyword,current_screen:SPA.getScreenName(),to_screen:e,content_id:getParam(r.content_id,""),action_time:s(),series_id:""};r.addLogAdditionData(e),!1!==e&&r.clearData();return console.log("log behavior v2 item: ",e),e}(e);!1!==i&&c(t=p(i))&&r.sendLog(t)}catch(e){console.log(e)}},this.saveLogFocus=function(e){try{var t,i;r.setNewLogURL(),"#"==e.slice(0,1)&&(e=e.slice(1)),0!=getParam($("#"+e).attr("write-focus"),0)&&(r.setAction("focus"),r.setContentID(getParam($("#"+e).attr("content-id"),"")),r.setTypeId(getParam($("#"+e).attr("type-id"),"")),r.setCateId(getParam($("#"+e).attr("cate-id"),"")),r.setKeyword(getParam($("#"+e).attr("keyword"),"")),!1!==(t=r.createLogFocus())&&c(i=p(t)))&&r.sendLog(i)}catch(e){console.log(e)}},this.createLogFocus=function(){var e={start_time:l(r.logBehaviorTimeIn),type_id:getParam(r.type_id,""),cate_id:getParam(r.cate_id,""),member_id:getParam(gServerResponse.member_id,""),user_name:getParam(gServerResponse.username_mytv,""),action:"focus",referer:r.referer,row:"",column:"",keyword:r.keyword,current_screen:SPA.getScreenName(),to_screen:"",content_id:getParam(r.content_id,""),action_time:s(),series_id:"",module_id:routerManager.getParam("module_id",""),service_code:routerManager.getParam("service_code","")};return!1!==(e=r.addLogAdditionData(e))&&r.clearData(),console.log("log behavior v2 item: ",e),e},this.addLogAdditionData=function(e,t){""!=getParam(t,"")&&(""!=(n=getParam(t.cate_id,""))&&"0"==getParam(e.cate_id,"")||(n=getParam(t.cateId,"")),""!=r.cate_id&&(n=r.cate_id),""==(o=getParam(t.type_id,""))&&(o=getParam(t.typeid,"")),""!=getParam(r.type_id,"")&&(o=r.type_id),"PLAYER"==e.to_screen&&""!=getParam(gPlayParam.type_id,"")&&(o=gPlayParam.type_id),""!=getParam(e.cate_id,"")&&"0"==getParam(e.cate_id,"")||(e.cate_id=String(n)),1==isNaN(e.cate_id)&&(e.cate_id=""),""==getParam(e.type_id,"")&&(e.type_id=String(o)),e.module_id=getParam(t.module_id,""),e.service_code=getParam(t.service_code,""));var i,o,n=r.other.split(",");return o=0<n.length?(i=n[0],n[1]):i="",e.row=getParam(i,""),e.column=getParam(o,""),"undefined"!=typeof g_currentProfile&&null!=g_currentProfile&&(e=appendProfileInfo(e),null!=r.rule_id)&&(e.rule_id=r.rule_id,e.content_id=r.content_id,window.ReccommendHome=JSON.parse(JSON.stringify(e))),""!=r.notification_id&&(e.notification_id=parseInt(r.notification_id),e.notification_style=parseInt(r.notification_style)),e.bill_number=getParam(r.bill_number,0),e.banner_mytv_id=getParam(r.banner_mytv_id,0),6!=r.notification_style&&1!=r.notifyIsLinkable||"view"!=r.action||"buy_package"!=r.notifyScreenName||(t=(new Date).getTime(),n=gServerResponse.member_id,i=gDeviceType,o=parseInt(t)+parseInt(n)+parseInt(i),window.billNumber="n"+o,e.bill_number=window.billNumber),null!=r.action_data&&(e.type=r.type,e.action_data=r.action_data),(e=function(e){void 0===window.uuid?window.uuid=gDeviceInfo.ManufacturerID+Date.now():e.uuid=window.uuid;return e}(e=function(e){"undefined"==typeof event_connection?window.event_connection=1:(window.event_connection=window.event_connection+1,e.event_connection=window.event_connection);return e}(e))).move_count=moveCount,e.version_number=gVersionNumber,e.version_name=gVersionApp,e.os_version=gOS,e.ABTestingCampaign="","1"==getParam(gAuthenCtlData.abtesting_status,1)&&(e.ABTestingCampaign=getParam(gAuthenCtlData.abtesting_campaign,"")),e},this.saveLogImpressed=function(e,t){try{if(e=getParam(e,""),(t=getParam(t,LOG_BEHAVIOR_TYPE.MANUAL))==LOG_BEHAVIOR_TYPE.AUTOMATIC){var i=handle_path(e);if(0==getParam(routerConfig[i].IsWriteLogBehavior,!0))return console.log("module cấu hình ko ghi log ",i),!1}var o,n;u()||(r.setNewLogURL(),!1!==(o=function(e){var t=e,i=(e=handle_path(e),a(t)),t=r.LogBehaviorScreenName;if(""==t&&""==(t=getParam(routerConfig[e].LogBehaviorScreenName,"")))return void console.warn("Không thể ghi log behavior cho trang ",routerConfig[e]," vì không có thông tin LogBehaviorScreenName");var e=getParam(t,""),o={start_time:l(r.logBehaviorTimeIn),type_id:"",cate_id:"",member_id:getParam(gServerResponse.member_id,""),user_name:getParam(gServerResponse.username_mytv,""),action:"impressed",referer:r.referer,row:"",column:"",keyword:"",current_screen:e,to_screen:"",content_id:getParam(r.content_id,""),action_time:s(),series_id:""};""!=routerManager.getParam("DATAMODE","")&&("watchLater"==routerManager.getParam("DATAMODE","")&&(lod_add.keyword="watch-later"),"watching-list"==routerManager.getParam("DATAMODE","")&&(lod_add.keyword="watching-home"),"watching-service-list"==routerManager.getParam("DATAMODE",""))&&(lod_add.keyword="watching-service");try{null!=getParam(gPlayParam,null)&&"PLAYER"==e&&"1"!=getParam(r.type_id,"1")&&(o.series_id=getParam(gPlayParam.partition,"1"))}catch(e){console.log(e)}{if("PLAYER"!=e||"1"==getParam(r.type_id,"1"))return r.addLogAdditionData(o,i),!1!==o&&r.clearData(),console.log("log behavior v2 item: ",o),o;setTimeout(function(){try{null!=getParam(gPlayParam,null)?o.series_id=getParam(gPlayParam.partition,"1"):o.series_id="1"}catch(e){console.log(e)}return r.addLogAdditionData(o,i),!1!==o&&r.clearData(),console.log("log behavior v2 item: ",o),o.series_id=Number(o.series_id),o},700)}}(e))&&c(n=p(o))&&r.sendLog(n))}catch(e){console.log(e)}},this.saveLogImpressedPopup=function(e){try{r.setNewLogURL();var t,i=function(e,t){r.action=t;t={start_time:l(r.logBehaviorTimeIn),type_id:"",cate_id:"",member_id:getParam(gServerResponse.member_id,""),user_name:getParam(gServerResponse.username_mytv,""),action:r.action,referer:r.referer,row:"",column:"",keyword:r.keyword,current_screen:e,to_screen:"",content_id:getParam(r.content_id,""),action_time:s(),series_id:""};r.addLogAdditionData(t),!1!==t&&r.clearData();return console.log("log behavior v2 item: ",t),t}(e,"impressed");!1!==i&&(t=p(i),r.push(t))}catch(e){console.log(e)}},this.saveLogImpressedClosePopup=function(){try{SPA.getScreenBeforePopup(),r.setNewLogURL();var e,t=createLogData(path,0,1);!1!==t&&c(e=p(t))&&r.sendLog(e)}catch(e){console.log(e)}},this.push=function(e){c(e)&&r.sendLog(e)},this.setRefer=function(e){r.refer=function(t){accents_arr=new Array("à","á","ạ","ả","ã","â","ầ","ấ","ậ","ẩ","ẫ","ă","ằ","ắ","ặ","ẳ","ẵ","è","é","ẹ","ẻ","ẽ","ê","ề","ế","ệ","ể","ễ","ì","í","ị","ỉ","ĩ","ò","ó","ọ","ỏ","õ","ô","ồ","ố","ộ","ổ","ỗ","ơ","ờ","ớ","ợ","ở","ỡ","ù","ú","ụ","ủ","ũ","ư","ừ","ứ","ự","ử","ữ","ỳ","ý","ỵ","ỷ","ỹ","đ","À","Á","Ạ","Ả","Ã","Â","Ầ","Ấ","Ậ","Ẩ","Ẫ","Ă","Ằ","Ắ","Ặ","Ẳ","Ẵ","È","É","Ẹ","Ẻ","Ẽ","Ê","Ề","Ế","Ệ","Ể","Ễ","Ì","Í","Ị","Ỉ","Ĩ","Ò","Ó","Ọ","Ỏ","Õ","Ô","Ồ","Ố","Ộ","Ổ","Ỗ","Ơ","Ờ","Ớ","Ợ","Ở","Ỡ","Ù","Ú","Ụ","Ủ","Ũ","Ư","Ừ","Ứ","Ự","Ử","Ữ","Ỳ","Ý","Ỵ","Ỷ","Ỹ","Đ"),no_accents_arr=new Array("a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","a","e","e","e","e","e","e","e","e","e","e","e","i","i","i","i","i","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","o","u","u","u","u","u","u","u","u","u","u","u","y","y","y","y","y","d","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","A","E","E","E","E","E","E","E","E","E","E","E","I","I","I","I","I","O","O","O","O","O","O","O","O","O","O","O","O","O","O","O","O","O","U","U","U","U","U","U","U","U","U","U","U","Y","Y","Y","Y","Y","D");try{return function(e,t,i){var o=t instanceof Array,n=i instanceof Array,a=(e=[].concat(e)).length,t=[].concat(t),r=(i=[].concat(i)).length;for(;j=0,r--;)for(;i[r]=i[r].split(e[j]).join(o?t[j]||"":t[0]),++j<a;);return n?i:i[0]}(accents_arr,no_accents_arr,t)}catch(e){return t}}(e)},this.setOther=function(e,t){r.other=e+","+t},this.setTypeId=function(e){r.type_id=e},this.setAction=function(e){r.action=e},this.setBillNumber=function(e){r.bill_number=e},this.setCateId=function(e){r.cate_id=e},this.setTitle=function(e){r.title=e},this.setNotificationID=function(e){r.notification_id=e},this.setNotificationStyle=function(e){r.notification_style=e},this.setNotificationRequestID=function(e){r.notification_request_id=e},this.setLogBehaviorScreenName=function(e){r.LogBehaviorScreenName=e},this.setNotifyIsLinkable=function(e){r.notifyIsLinkable=e},this.setNotifyScreenName=function(e){r.notifyScreenName=e},this.setAdvertiseID=function(e){r.advertise_id=e},this.setRuleID=function(e){r.rule_id=e},this.setContentID=function(e){r.content_id=e},this.clearData=function(){r.cate_id="",r.type_id="",r.other="",r.refer="",r.LogBehaviorScreenName="",r.action="",r.title="",r.notification_id="",r.notification_style="",r.notification_request_id=0,r.notifyIsLinkable="",r.notifyScreenName="",r.advertise_id="",r.rule_id=null,r.content_id="",r.type=0,r.action_data=null,r.max_row=0,r.keyword="",r.referer="",r.send_now=0,r.bill_number=0,r.banner_mytv_id=0},this.setApiUrl=function(e){r.logBehaviorApiUrl=e},this.setSavedScreenLimit=function(e){try{isNaN(e)&&(e=10),r.savedScreenLimit=e}catch(e){r.savedScreenLimit=10}},this.setNotificationPopup=function(e,t,i,o,n,a){r.setAction(e),r.setTypeId(t),r.setCateId(i),r.setNotificationID(o),r.setNotificationStyle(n),r.setContentID(a)},this.setNotificationPopupPlayRequest=function(e){r.setNotificationRequestID(e)},this.createNotificationRequestID=function(e){return(new Date).getTime()+"_"+gServerResponse.member_id+"_"+e},this.setNewLogData=function(e,t){r.type=e,r.action_data=t},this.setMaxRow=function(e){r.max_row=e},this.setLimitMaxError=function(e){try{isNaN(e)&&(e=5),r.limitMaxError=e+r.savedScreenLimit}catch(e){r.limitMaxError=5+r.savedScreenLimit}},this.setPushSize=function(e){r.pushSize=e},this.setcacheSizeMax=function(e){r.cacheSizeMax=e},this.setIdleInterval=function(e){r.idleInterval=e},this.setNewLogURL=function(){try{r.deleteLogCacheSizeMax();var e=getParam(gPlugin_server.log_behaviour,""),t=e=(e=e.replace("tv/","")).replace("/tv/",""),i=(""!=e&&(t=e.split("?")[0]+"/"),a(e));r.setApiUrl(t),r.setIdleInterval(parseInt(getParam(i.idle_interval,r.idleInterval))),r.setPushSize(parseInt(getParam(i.push_size,10))),r.setcacheSizeMax(parseInt(getParam(i.cache_size_max,20))),r.startIntervalLog()}catch(e){console.log("e",e),r.setApiUrl(""),r.setSavedScreenLimit(10),r.setLimitMaxError(5)}},this.setKeyword=function(e){r.keyword=e},this.setReferer=function(e){r.referer=e},this.addLogBehaviorParam=function(e,t){"#"==e.slice(0,1)&&(e=e.slice(1)),""!=getParam(t.action,"")&&$("#"+e).attr("action",getParam(t.action,"")),""!=getParam(t.keyword,"")&&$("#"+e).attr("keyword",getParam(t.keyword,"")),""!=getParam(t.contentId,"")&&$("#"+e).attr("content-id",getParam(t.contentId,"")),""!=getParam(t.typeId,"")&&$("#"+e).attr("type-id",getParam(t.typeId,"")),""!=getParam(t.writeAction,"")&&$("#"+e).attr("write-action",getParam(t.writeAction,"")),""!=getParam(t.cateId,"")&&$("#"+e).attr("cate-id",getParam(t.cateId,"")),""!=getParam(t.sendNow,"")&&$("#"+e).attr("send-now",getParam(t.sendNow,"")),""!=getParam(t.screenName,"")&&$("#"+e).attr("screen-name",getParam(t.screenName,"")),""!=getParam(t.billNumber,"")&&$("#"+e).attr("bill-number",getParam(t.billNumber,"")),""!=getParam(t.bannerMytvId,"")&&$("#"+e).attr("banner-mytv-id",getParam(t.bannerMytvId,""))},this.addLogBehaviorParamString=function(e){try{var t="";return""!=getParam(e.action,"")&&(t=t+' action = "'+e.action+'"'),""!=getParam(e.keyword,"")&&(t=t+' keyword = "'+e.keyword+'"'),""!=getParam(e.contentId,"")&&(t=t+' content-id = "'+e.contentId+'"'),""!=getParam(e.typeId,"")&&(t=t+' type-id = "'+e.typeId+'"'),""!=getParam(e.writeAction,"")&&(t=t+' write-action = "'+e.writeAction+'"'),""!=getParam(e.cateId,"")&&(t=t+' cate-id = "'+e.cateId+'"'),""!=getParam(e.sendNow,"")&&(t=t+' send-now = "'+e.sendNow+'"'),""!=getParam(e.screenName,"")&&(t=t+' screen-name = "'+e.screenName+'"'),""!=getParam(e.writeFocus,"")&&(t=t+' write-focus = "'+e.writeFocus+'"'),""!=getParam(e.billNumber,"")&&(t=t+' bill-number = "'+e.billNumber+'"'),""!=getParam(e.bannerMytvId,"")&&(t=t+' banner-mytv-id = "'+e.bannerMytvId+'"'),t+=" "}catch(e){console.log(e)}},this.getLogBehaviorParam=function(e){try{"#"==e.slice(0,1)&&(e=e.slice(1)),r.setAction(getParam($("#"+e).attr("action"),"")),r.setKeyword(getParam($("#"+e).attr("keyword"),"")),r.setContentID(getParam($("#"+e).attr("content-id"),"")),r.setTypeId(getParam($("#"+e).attr("type-id"),"")),r.setCateId(getParam($("#"+e).attr("cate-id"),"")),r.setBillNumber(getParam($("#"+e).attr("bill-number"),""));var t=getParam($("#"+e).attr("write-action"),0);r.setSendNow(getParam($("#"+e).attr("send-now"),"")),r.setLogBehaviorScreenName(getParam($("#"+e).attr("screen-name"),"")),r.setBannerMytvId(getParam($("#"+e).attr("banner-mytv-id"),"")),"1"==t&&r.saveLogAction(SPA.getCurrentPath(),LOG_BEHAVIOR_TYPE.MANUAL)}catch(e){console.log(e)}},this.sendLog=function(e){1!=r.isSendingLog&&(r.isSendingLog=!0,r.count_sending=e.length,"string"==typeof e||e instanceof String||(e=JSON.stringify(e)),e={device_id:gDeviceInfo.ManufacturerID,platform:r.platform,device_type:gDeviceType,manufacturer_id:gDeviceInfo.ManufacturerID,device_manu:"",device_model:gDeviceInfo.DeviceModel,is_tv:!0,data:e},$.ajax({type:"POST",url:r.logBehaviorApiUrl+"v8/kafka/producer",timeout:1e4,data:e,error:function(e,t,i){r.isSendingLog=!1,r.deleteLogCacheSizeMax(),console.log("log behavior send error case")},success:function(e){r.isSendingLog=!1,console.log("log behavior send success case");for(var t=JSON.parse(localStorage.getItem(r.logBehaviorKeyName)),i=0;i<r.count_sending;i++)t.shift();localStorage.setItem(r.logBehaviorKeyName,JSON.stringify(t))},complete:function(e,t){console.log("complete called "),r.isSendingLog=!1}}))},this.setSendNow=function(e){r.sendNow=e},this.getScreenBeforePopup=function(){return r.screenBeforePopup},this.setScreenBeforePopup=function(e){r.screenBeforePopup=e},this.startIntervalLog=function(){try{var e;0==r.isStartInterval&&(e={type:1,name:"sendLogBehavior",count:clsLogBehaviorV2.idleInterval,funObj:function(){clsLogBehaviorV2.sendLogLocal()}},r.isStartInterval=1,gClsTaskManager.registerTask(e))}catch(e){console.log(e)}},this.setBannerMytvId=function(e){r.banner_mytv_id=e}}function clsControlPlayer(){var t=this,i=(this.param=null,this.url="",this.iPlayer=gPlayer.WJPLAYER,this.containerId="videoContainer",window.videoElem=null),e="PLAYING",o="PAUSED";this.state=o,this.getName=function(){return"clsControlPlayer"},this.setParam=function(e){consoleLog("set param Control",e),videoElem=null,t.param=e,t.url=e.url,t.iPlayer=getParam(e.iPlayer,gPlayer.WJPLAYER),t.containerId=getParam(e.divID,"videoContainer")},this.showVideoPlayer=function(){t.iPlayer==gPlayer.AVPLAYERSS?0==getParam(t.param.is_home_trailer,0)&&$("#ss-player").show():t.iPlayer==gPlayer.WJPLAYER||t.iPlayer==gPlayer.VIDEOJS||t.iPlayer==gPlayer.BITMOVIN?0==getParam(t.param.is_home_trailer,0)&&$("#player_container").show():t.iPlayer==gPlayer.LGPLAYER&&0==getParam(t.param.is_home_trailer,0)&&$("#player_container_drm").show()},this.hideVideoPlayer=function(){t.iPlayer==gPlayer.AVPLAYERSS?1==gCheckSS2015||gConfig.getDeviceType()==DEVICE_TYPE.SS2015?$("#ss-player").css({width:"1px",height:"1px"}):$("#ss-player").hide():t.iPlayer==gPlayer.WJPLAYER||t.iPlayer==gPlayer.VIDEOJS||t.iPlayer==gPlayer.BITMOVIN?$("#player_container").hide():t.iPlayer==gPlayer.LGPLAYER&&$("#player_container_drm").hide()},this.Play=function(){t.state=e;try{t.iPlayer==gPlayer.AVPLAYERSS?videoElem.playContinue():t.iPlayer!=gPlayer.WJPLAYER&&t.iPlayer!=gPlayer.VIDEOJS&&t.iPlayer!=gPlayer.BITMOVIN&&t.iPlayer!=gPlayer.LGPLAYER||videoElem.play()}catch(e){ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog({pathSteps:"clsControlPlayer.play error",content:JSON.stringify(e)})}catch(e){console.log("error",e)}},null,!0)}},this.skipAd=function(){try{videoElem.skipAd()}catch(e){console.log("error ",e)}},this.Pause=function(){try{t.state=o,t.iPlayer!=gPlayer.AVPLAYERSS&&t.iPlayer!=gPlayer.WJPLAYER&&t.iPlayer!=gPlayer.VIDEOJS&&t.iPlayer!=gPlayer.BITMOVIN&&t.iPlayer!=gPlayer.LGPLAYER||videoElem.pause()}catch(e){console.log(e)}},this.Stop=function(){t.iPlayer==gPlayer.AVPLAYERSS?"IDLE"!==webapis.avplay.getState()&&"NONE"!==webapis.avplay.getState()&&videoElem.stop():t.iPlayer!=gPlayer.WJPLAYER&&t.iPlayer!=gPlayer.VIDEOJS&&t.iPlayer!=gPlayer.BITMOVIN&&t.iPlayer!=gPlayer.LGPLAYER||videoElem.pause()},this.seek=function(e){try{videoElem&&t.iPlayer==gPlayer.BITMOVIN&&videoElem.seek(e)}catch(e){console.info("err",e)}},this.removeEventPlayer=function(){consoleLog("---this.removeEventPlayer---"),console.log("removeEventPlayer called ");try{videoElem&&(t.iPlayer==gPlayer.AVPLAYERSS?t.Stop():t.iPlayer==gPlayer.WJPLAYER?videoElem.dispose():t.iPlayer==gPlayer.LGPLAYER?(1==i.is_play_qnet&&i.QnetCallEnd(),videoElem.removeEventListener("canplaythrough",t.param.onEventCanplay,!1),videoElem.removeEventListener("ended",t.param.onEventEnded,!1),videoElem.removeEventListener("error",t.param.onEventError,!1),videoElem.removeEventListener("timeupdate",t.param.onEventTimeUpdate,!1),videoElem.innerHTML="",videoElem.dispose()):t.iPlayer==gPlayer.VIDEOJS?(videoElem.dispose(),$("#"+t.containerId).html('<video id="player" src="" style="" class="video-js vjs-default-skin"></video>')):t.iPlayer==gPlayer.BITMOVIN&&videoElem.destroy())}catch(e){}},this.currentTime=function(){if(videoElem)return t.iPlayer==gPlayer.AVPLAYERSS?videoElem.getCurrentTime():t.iPlayer==gPlayer.WJPLAYER||t.iPlayer==gPlayer.VIDEOJS||t.iPlayer==gPlayer.BITMOVIN?videoElem.currentTime():t.iPlayer==gPlayer.LGPLAYER?videoElem.currentTime:void 0},this.setCurrentTime=function(e){videoElem&&(t.iPlayer==gPlayer.AVPLAYERSS?(t.Pause(),videoElem.seekTo(e,function(){t.Play()})):t.iPlayer==gPlayer.WJPLAYER||t.iPlayer==gPlayer.VIDEOJS?(t.Pause(),videoElem.currentTime(e),t.Play()):t.iPlayer==gPlayer.BITMOVIN?videoElem.setCurrentTime(e):t.iPlayer==gPlayer.LGPLAYER&&(t.Pause(),videoElem.currentTime=e,t.Play()))},this.duration=function(){if(videoElem)return t.iPlayer==gPlayer.AVPLAYERSS?videoElem.getDuration():t.iPlayer==gPlayer.WJPLAYER||t.iPlayer==gPlayer.VIDEOJS||t.iPlayer==gPlayer.BITMOVIN?videoElem.duration():t.iPlayer==gPlayer.LGPLAYER?videoElem.duration:void 0},this.loadNewSource=function(e){console.info("loadsrc called",e);try{videoElem.changeSrc(e)}catch(e){console.info(e)}},this.changeSrc=function(e){console.log("changeSrc called here");try{gConfig.getDeviceType()==DEVICE_TYPE.PANASONIC||gConfig.getDeviceType()==DEVICE_TYPE.LG2015?videoElem.src({src:e,type:"video/mp4"}):videoElem.src({src:e,type:"application/x-mpegURL"})}catch(e){ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog({pathSteps:"error changeSrc in clscontrol player",content:e})}catch(e){console.log("error",e)}},null,!0)}console.log("end call src ")},this.initVideoEvent=function(){if(t.iPlayer==gPlayer.AVPLAYERSS){(videoElem=videoElem||new AVPlayerSS(t.param)).setParam(t.param);try{videoElem.play()}catch(e){null!=t.param.onEventError&&t.param.onEventError()}try{1!=clsClientLog.debug&&1!=player_config.is_show_player||showAutoHideWarning("Current player: AVPLAYERSS")}catch(e){console.log(e)}}else if(t.iPlayer==gPlayer.WJPLAYER){try{1!=clsClientLog.debug&&1!=player_config.is_show_player||showAutoHideWarning("Current player: WJPLAYER")}catch(e){console.log(e)}try{var e={containerId:t.containerId,skin:"nmd",autoplay:!0,responsive:!0,width:t.param.resolutionWidth,height:t.param.resolutionHeight,controls:!0,preload:"auto"};(videoElem=wjplayer(e)).reloadSourceOnError(),videoElem.on("play",t.param.onEventCanplay),videoElem.on("ended",t.param.onEventEnded),videoElem.on("error",function(){console.info("WJPLAYER error",videoElem.error()),ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog({pathSteps:"error wjplayer",content:JSON.stringify(videoElem.error())})}catch(e){console.log("error",e)}},null,!0),t.param.onEventError(JSON.stringify(videoElem.error()))}),videoElem.on("click",function(){}),videoElem.on("loadedmetadata",function(){consoleLog("---loadedmetadata---"),videoElem.on("waiting",function(){t.param.onEventWaiting&&t.param.onEventWaiting()}),videoElem.on("buffering",function(){}),videoElem.on("timeupdate",function(){t.param.onEventTimeUpdate&&t.param.onEventTimeUpdate()}),videoElem.on("progress",function(){t.param.onEventProgress&&t.param.onEventProgress()})}),t.changeSrc(t.param.url)}catch(e){console.log(e),null!=t.param.onEventError&&t.param.onEventError()}}else if(t.iPlayer==gPlayer.BITMOVIN){try{1!=clsClientLog.debug&&1!=player_config.is_show_player||showAutoHideWarning("Current player: BITMOVIN")}catch(e){console.log(e)}try{(videoElem=null==videoElem?new BitMovinPlayer:videoElem).setParam(t.param),videoElem.on("play",t.param.onEventCanplay),videoElem.on("playbackfinished",t.param.onEventEnded),videoElem.on("error",function(e){console.info(e),ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog({pathSteps:"error controlplayer bitmovin",content:JSON.stringify(e)})}catch(e){console.log("error",e)}},null,!0),t.param.onEventError(JSON.stringify(e))}),videoElem.on("playing",function(){t.param.onEventProgress&&t.param.onEventProgress()}),videoElem.on("stallstarted",function(){t.param.onEventWaiting&&t.param.onEventWaiting()}),videoElem.on("stallended",function(){t.param.onEventProgress&&t.param.onEventProgress()}),videoElem.on("timechanged",function(){t.param.onEventTimeUpdate&&t.param.onEventTimeUpdate()}),videoElem.initVideoEvent()}catch(e){console.log(e),null!=t.param.onEventError?t.param.onEventError():SPA.goBack()}}else if(t.iPlayer==gPlayer.VIDEOJS){try{1!=clsClientLog.debug&&1!=player_config.is_show_player||showAutoHideWarning("Current player: VIDEOJS")}catch(e){console.log(e)}$("#player").attr("style","width:"+t.param.resolutionWidth+"px; height:"+t.param.resolutionHeight+"px; position:fixed;");e={containerId:t.containerId,autoplay:!0,responsive:!0,width:t.param.resolutionWidth+"px",height:t.param.resolutionHeight+"px",controls:!1,preload:"auto"};(videoElem=videojs("player",e)).reloadSourceOnError(),videoElem.on("play",t.param.onEventCanplay),videoElem.on("ended",t.param.onEventEnded),videoElem.on("error",function(){console.log("come here 9232828392"),console.log(videoElem.error()),t.param.onEventError()}),videoElem.on("timeupdate",t.param.onEventTimeUpdate),videoElem.on("click",function(){}),t.changeSrc(t.param.url)}else t.iPlayer==gPlayer.LGPLAYER&&((i=i||new LGPlayer(t.param)).setParam(t.param),i.getOptionVideo(function(e){document.getElementById("myVideo").appendChild(e),document.getElementById("myVideo").load(),videoElem=document.getElementById("myVideo"),t.Play(),1==i.is_play_qnet&&(i.PingQnet(),i.startloopPingQnet()),videoElem.addEventListener("canplaythrough",t.param.onEventCanplay,!1),videoElem.addEventListener("ended",t.param.onEventEnded,!1),videoElem.addEventListener("error",t.param.onEventError,!1),videoElem.addEventListener("timeupdate",t.param.onEventTimeUpdate,!1),setTimeout(function(){SPA.enable()},3e3)}))},this.changeSubtitle=function(e){try{videoElem.changeSubtitle(e)}catch(e){console.info(e)}},this.changeAudio=function(e){try{videoElem.changeAudio(e)}catch(e){console.info(e)}},this.init=function(){},this.init()}function AVPlayerSS(e){var i,o=this,t=!0,n=null,a=(e.resolutionWidth,0),r={x:e.x,y:e.y,width:e.resolutionWidth,height:e.resolutionHeight},l=!1;this.param=null,this.linkURL=e.url,this.setParam=function(e){console.log("set param for SS player",e),o.linkURL=e.url,n=null,n=1==e.drms.PLAYREADY.drmProvider&&""!=e.drms.PLAYREADY.customData&&null!=e.drms.PLAYREADY.customData||2==e.drms.PLAYREADY.drmProvider&&""!=e.drms.PLAYREADY.deviceId&&null!=e.drms.PLAYREADY.deviceId||3==e.drms.PLAYREADY.drmProvider&&""!=e.drms.PLAYREADY.customData&&null!=e.drms.PLAYREADY.customData?e.drms.PLAYREADY:null,r.x=e.x,r.y=e.y,r.width=e.resolutionWidth,r.height=e.resolutionHeight,a=getParam(e.bVOD,0),o.param=e},this.play=function(){console.log("Starting playback");var e={onbufferingstart:function(){console.log("onbufferingstart")},onbufferingprogress:function(e){console.log("onbufferingprogress")},onbufferingcomplete:function(){console.log("onbufferingcomplete"),o.param.onEventCanplay&&o.param.onEventCanplay()},oncurrentplaytime:function(e){console.log("oncurrentplaytime"),o.param.onEventTimeUpdate&&o.param.onEventTimeUpdate()},onevent:function(e,t){console.log("onevent: "+e+", data: "+t)},ondrmevent:function(e,t){console.log("DRM callback: "+e+", data: "+t),console.log(" drmEvent: "),console.log(e),console.log(" drmData: "),console.log(t),"DrmError"==t.name&&(console.log("Error drm license"),o.param.onEventError)&&o.param.onEventError()},onstreamcompleted:function(){console.log("Stream Completed"),o.stop(),o.param.onEventEnded&&o.param.onEventEnded()}.bind(this),onerror:function(e){o.param.onEventError&&o.param.onEventError()}};console.log("videoPlayer open: "+o.linkURL);try{webapis.avplay.open(o.linkURL),webapis.avplay.setDisplayRect(r.x,r.y,r.width,r.height),webapis.avplay.setListener(e),l&&o.set4K(),null!=n?(consoleLog("chosenDrm: ",n),o.setPlayready()):0==a&&webapis.avplay.setStreamingProperty("PREBUFFER_MODE","20000"),1!=gCheckSS2015&&gConfig.getDeviceType()!=DEVICE_TYPE.SS2015?webapis.avplay.prepareAsync(function(){console.log("prepareAsync success"),console.log("current stage",webapis.avplay.getState());try{setTimeout(function(){console.log("call play after wait 2 sec");try{console.log("start webapis.avplay.play"),webapis.avplay.play(),console.log("end webapi.avplay.play")}catch(e){console.log("avplayer: ",e),o.stop(),o.param.onEventError();var t={content:JSON.stringify(e),pathSteps:"error webapis.avplay.play"};ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog(t)}catch(e){console.log("error",e)}},null,!0)}},2e3),""!==getParam(n,"")&&3==n.drmProvider&&""!=n.qnet_token&&(console.log("start pinging every 60s"),o.PingQnet(),i=setInterval(function(){o.PingQnet()},1e3*gdrm_today_info_ping_timeout))}catch(e){console.log(e);var t={content:JSON.stringify(e),pathSteps:"error when trying to play with SS avplayer"};ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog(t)}catch(e){console.log("error",e)}},null,!0),o.stop(),o.param.onEventError()}},function(e){console.log("Current state: "+webapis.avplay.getState()),console.log("prepareAsync Fail"),console.log(e);var t={content:JSON.stringify(e),pathSteps:"error webapis.avplay.play"};ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog(t)}catch(e){console.log("error",e)}},null,!0),o.param.onEventError&&o.param.onEventError();try{o.stop()}catch(e){console.log(e)}}):webapis.avplay.prepareAsync(function(){console.log("prepareAsync success"),console.log("current stage"),console.log(webapis.avplay.getState());try{webapis.avplay.play(),""!==getParam(n,"")&&3==n.drmProvider&&""!=n.qnet_token&&(console.log("start pinging every 60s"),o.PingQnet(),i=setInterval(function(){o.PingQnet()},1e3*gdrm_today_info_ping_timeout))}catch(e){console.log(e),ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog({content:e,pathSteps:"error call webapis.avplay.play"})}catch(e){console.info("error : ",e)}},null,!0),o.stop(),o.param.onEventError()}},function(e){console.log("Current state: "+webapis.avplay.getState()),console.log("prepareAsync Fail"),console.log(e),ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog({content:e,pathSteps:"error prepareasync ss avplayer"})}catch(e){console.info("error : ",e)}},null,!0),o.param.onEventError&&o.param.onEventError();try{o.stop()}catch(e){console.log(e)}})}catch(e){ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog({content:e,pathSteps:"error SS avplayer"})}catch(e){console.info("error : ",e)}},null,!0),consoleLog(e),o.stop(),o.param.onEventError()}},this.playContinue=function(){"PLAYING"!==webapis.avplay.getState()&&webapis.avplay.play()},this.stop=function(){var e;i&&clearInterval(i),webapis.avplay.stop(),webapis.avplay.close(),""!==getParam(n,"")&&3==n.drmProvider&&""!=n.qnet_token&&(console.log("trying to call /csl/end to qnet"),e={data:{token:n.qnet_token}},ApiPost_Qnet("/csl/end",e,function(e){console.log("called /csl/end for qnet success event"),console.log(e)},function(e){console.log("called /csl/end for qnet error event"),console.log(e);e={data:{session:n.qnet_session,operatorId:n.qnet_operatorid}};ApiPost_Qnet("/csl/refresh",e,function(e){console.log("call qnet to get new token: "),console.log(e);try{var t;null!=e.token&&null!=e.token&&(n.qnet_token=e.token,t={data:{token:n.qnet_token}},ApiPost_Qnet("/csl/end",t,function(e){console.log("called /csl/end for qnet success event"),console.log(e)},function(e){console.log("called /csl/end for qnet error event"),console.log(e)}))}catch(e){console.log("error when trying to refrest token -- ping to qnet",e)}},function(e){})})),hideLoading()},this.pause=function(){"PLAYING"===webapis.avplay.getState()&&webapis.avplay.pause()},this.seekTo=function(e,t){webapis.avplay.seekTo(1e3*e,t)},this.ff=function(){webapis.avplay.jumpForward("3000")},this.rew=function(){webapis.avplay.jumpBackward("3000")},this.setUhd=function(e){l=e},this.set4K=function(){webapis.avplay.setStreamingProperty("SET_MODE_4K","true")},this.setBitrate=function(e,t,i,o){e="|BITRATES="+e+"~"+t;""!==i&&void 0!==i&&(e+="|STARTBITRATE="+i),""!==t&&void 0!==t&&(e+="|SKIPBITRATE="+o),webapis.avplay.setStreamingProperty("ADAPTIVE_INFO",e)},this.setTrack=function(e,t){webapis.avplay.setSelectTrack(e,t)},this.setPlayready=function(){var e={DeleteLicenseAfterUse:!0};""!==n.licenseServer&&void 0!==n.licenseServer&&(console.log("chosenDrm.licenseServer: "+n.licenseServer),1!=n.drmProvider&&3!=n.drmProvider&&2!=n.drmProvider||(e.LicenseServer=n.licenseServer),e.HttpHeader="Authorization:"+n.vmx_token),1!=n.drmProvider&&3!=n.drmProvider||""!==n.customData&&void 0!==n.customData&&(consoleLog("chosenDrm.customData: "+n.customData),e.CustomData=n.customData),console.log("setDrm Playready param: "+JSON.stringify(e)),console.log("drmParam value");try{webapis.avplay.setDrm("PLAYREADY","SetProperties",JSON.stringify(e))}catch(e){consoleLog(e.name)}},this.getTracks=function(){},this.getProperties=function(){},this.toggleFullscreen=function(){if(!1===t)webapis.avplay.setDisplayRect(0,0,1920,1080),t=!0;else{try{webapis.avplay.setDisplayRect(r.x,r.y,r.width,r.height)}catch(e){consoleLog(e)}t=!1}},this.getDuration=function(){return Math.floor(webapis.avplay.getDuration()/1e3)},this.getCurrentTime=function(){return Math.floor(webapis.avplay.getCurrentTime()/1e3)},this.PingQnet=function(){console.log("PingQnet called"),console.log("qnet_token"),console.log(n.qnet_token),console.log("qnet_operatorid"),console.log(n.qnet_operatorid);var e={data:{token:n.qnet_token,operatorId:n.qnet_operatorid}};ApiPost_Qnet("/csl/ping",e,function(e){console.log("data from ping after play qnet: "),console.log(e);try{var t;200==e.ec?localStorage.setItem("Qnet_token",n.qnet_token):202==e.ec?(n.qnet_token=e.token,localStorage.setItem("Qnet_token",n.qnet_token)):405==e.ec||401==e.ec?o.param.onEventError&&o.param.onEventError():426==e.ec&&(t={data:{session:n.qnet_session,operatorId:n.qnet_operatorid}},ApiPost_Qnet(" /csl/refresh",t,function(e){console.log("call qnet to get new token: "),console.log(e);try{null!=e.token&&null!=e.token&&(n.qnet_token=e.token,o.PingQnet())}catch(e){console.log("error when trying to refrest token -- ping to qnet",e)}},function(e){}))}catch(e){console.log("error when first ping to qnet success case",e)}},function(e){console.log("error when pinging qnet every 60s"),console.log(e),426==e.ec&&(e={data:{session:n.qnet_session,operatorId:n.qnet_operatorid}},ApiPost_Qnet("/csl/refresh",e,function(e){console.log("call qnet to get new token: "),console.log(e);try{null!=e.token&&null!=e.token&&(n.qnet_token=e.token,console.log(e.token),o.PingQnet())}catch(e){console.log("error when trying to refrest token -- ping to qnet",e)}},function(e){}))})}}window.clAnimationLottie=new clsAnimationLottie,window.clsTextArea=function(e){var i=this;this.wrapObjId=e.wrap_obj_id,this.holderObjId=this.wrapObjId+"_holder",this.borderObjId=this.wrapObjId+"_border",this.dataObjId=this.wrapObjId+"_data",this.scrollObjId=this.wrapObjId+"_scroll",this.scrollBarObjId=this.wrapObjId+"_scrollbar",this.name=e.wrap_obj_id,this.textAlign=getParam(e.text_align,"justify"),this.fontSize=getParam(e.font_size,35),this.stepLine=getParam(e.stepLine,1),this.deltaX=getParam(e.delta_x,0),this.deltaY=getParam(e.delta_y,0),this.deltaWidth=getParam(e.delta_width,0),this.deltaHeight=getParam(e.delta_height,0),this.padding=getParam(e.padding,{left:25,top:25,right:5,bottom:60}),this.deltaScrollX=getParam(e.delta_scroll_x,0),this.deltaScrollY=getParam(e.delta_scroll_y,0),this.onBackFn=e.onBackFn,this.onClickFn=e.onClickFn,this.onLostFocusUpFn=e.onLostFocusUpFn,this.onLostFocusDownFn=e.onLostFocusDownFn,this.onLostFocusLeftFn=e.onLostFocusLeftFn,this.onLostFocusRightFn=e.onLostFocusRightFn,this.speed="fast",this.bReadyToMove=!0,this.translateY=0,this.borderWidth=3,this.widthScrollBar=10,this.heightScroll=0,this.heightScrollBar=0,this.numberOfImg=0,this.imgList=null,this.lineNum=0,this.currentLine=1,this.visibleLine=0,this.caculateLineNum=function(){var e=$("#"+this.wrapObjId).css("line-height");"normal"==e&&(e=25),this.lineHeight=parseInt(e),this.lineNum=Math.ceil(($("#"+this.dataObjId).height()-$("#"+this.borderObjId).height())/this.lineHeight)+1,this.lineNum<0&&(this.lineNum=0),0<this.lineNum&&0<$("#"+this.borderObjId).height()%this.lineHeight&&this.lineNum++,this.visibleLine=Math.floor($("#"+this.wrapObjId).height()/this.lineHeight)},this.getCurrentLine=function(){return i.currentLine},this.setContent=function(e,t){e=(e=(e=function(e){for(var t,i,o,n=!1;!n;)((o=e.length)<=3||(i=0," "!=(t=e.substring(o-1))&&"\t"!=t&&"\r"!=t||(e=e.substring(0,o-1),i=1),0==i&&(o=e.length,"<br>"!=(t=e.substring(o-4))&&"<BR>"!=t&&"<Br>"!=t&&"<bR>"!=t||(e=e.substring(0,o-4),i=1)),0==i&&(o=e.length,"<br/>"!=(t=e.substring(o-5))&&"<BR/>"!=t&&"<Br/>"!=t&&"<bR/>"!=t||(e=e.substring(0,o-5),i=1)),0==i&&(o=e.length,"<br />"!=(t=e.substring(o-6))&&"<BR />"!=t&&"<Br />"!=t&&"<bR />"!=t||(e=e.substring(0,o-6),i=1)),0==i))&&(n=!0);return e}(e.replace(/\n/g," "))).replace(/font-size/g,"font-size-tmp")).replace(/line-height/g,"line-height-tmp"),this.numberOfImg=0,this.content=e,this.imgList=[],$("#"+this.wrapObjId).css("font-size",this.fontSize+"px"),$("#"+this.dataObjId).html(this.content),$("#"+this.dataObjId).css("text-align",this.textAlign),$("#"+this.dataObjId).find("img").each(function(){i.numberOfImg++,i.imgList.push({src:$(this).attr("src"),alt:$(this).attr("alt"),url:$(this).attr("url"),index:$(this).attr("index")}),$(this).attr("objname",i.name);$(this).error(function(){fn("onImageComplete")}),$(this).load(function(){fn("onImageComplete")})}),setTimeout(function(){t&&t()},0)},this.onImageComplete=function(){this.numberOfImg--,0==this.numberOfImg&&(i.caculateLineNum(),i.addScrollBarContent())},this.addContentDiv=function(e){var t='<div id="'+this.holderObjId+'" class="textarea-holder">',t=(t=(t+='<div id="'+this.dataObjId+'" class="textarea-data"></div>')+('<div id="'+this.borderObjId+'"></div>'))+"</div>"+('<div id="'+i.scrollObjId+'" class="textarea-scroll-background"><div id="'+i.scrollBarObjId+'" class="textarea-scrollbar"></div></div>');$("#"+this.wrapObjId).append(t),setTimeout(function(){e&&e()},0)},this.addBorderContent=function(){$("#"+this.wrapObjId).width(),$("#"+this.holderObjId).width($("#"+this.wrapObjId).width()-this.padding.left-this.padding.right-$("#"+this.scrollObjId).width()),$("#"+this.holderObjId).height($("#"+this.wrapObjId).height()-this.padding.top-this.padding.bottom+this.deltaHeight),$("#"+this.holderObjId).css("top",this.padding.top),$("#"+this.holderObjId).css("left",this.padding.left),$("#"+this.holderObjId).width()},this.addScrollBarContent=function(){this.heightScroll=$("#"+i.holderObjId).height(),this.heightScrollBar=$("#"+this.scrollBarObjId).height(),$("#"+this.scrollObjId).height(this.heightScroll),$("#"+this.scrollObjId).css("top",this.padding.top+this.deltaScrollY),$("#"+this.scrollObjId).css("right",this.padding.right+this.deltaScrollX),this.lineNum<=this.visibleLine?$("#"+this.scrollBarObjId).css("background-color","#33424d"):$("#"+this.scrollBarObjId).css("background-color","#929ba2")},this.moveContent=function(e){SPA.transform({element:"#"+i.dataObjId,transform:"translateY("+e+"px)",transition:1})},this.moveScrollBar=function(){var e=Math.ceil((this.heightScroll-this.heightScrollBar)/(this.lineNum-this.visibleLine+3)*i.currentLine);e<0&&(e=0),SPA.transform({element:"#"+i.scrollBarObjId,transform:"translateY("+e+"px)",transition:1})},this.getName=function(){return this.wrapObjId},this.disable=function(){this.bReadyToMove=!1},this.enable=function(){this.bReadyToMove=!0},this.isEnable=function(){return this.bReadyToMove},this.setFocus=function(){i.bSetFocus&&i.setActive()},this.lostFocus=function(){},this.onMouseWheel=function(e){0<e?this.sendKey(KEY_UP):this.sendKey(KEY_DOWN)},this.onKeyPressed=function(e){try{if(this.isEnable()){this.disable();var t=e.which;switch(t){case KEY_ENTER:this.enable(),this.onClickFn&&this.onClickFn();break;case KEY_RETURN:this.enable(),this.onBackFn&&this.onBackFn(i);break;case KEY_RIGHT:i.onLostFocusRightFn&&i.onLostFocusRightFn(),this.enable();break;case KEY_LEFT:i.onLostFocusLeftFn&&i.onLostFocusLeftFn(),this.enable();break;case KEY_DOWN:i.currentLine+this.visibleLine-3==i.lineNum||i.lineNum-i.visibleLine<0?(i.onLostFocusDownFn&&i.onLostFocusDownFn(),this.enable()):(i.translateY=i.translateY-i.lineHeight,i.moveContent(i.translateY),i.currentLine++,i.moveScrollBar(),this.enable());break;case KEY_UP:this.currentLine<=1?(i.onLostFocusUpFn&&i.onLostFocusUpFn(),this.enable()):(i.currentLine--,i.translateY=i.translateY+i.lineHeight,i.moveContent(i.translateY),i.moveScrollBar(),this.enable());break;default:isBackKey(t)&&i.onBackFn(),i.enable()}}}catch(e){gotoHomeError(e.message+" (909)")}},this.sendKey=function(e){this.onKeyPressed({which:e})},this.onMouseWheel=function(e){0<e?this.sendKey(KEY_UP):this.sendKey(KEY_DOWN)},this.reset=function(e){for(var t=e;1<t;t--)i.sendKey(KEY_UP)},this.init=function(){i.VMP=e.VMP,i.VMP.getObjById(i.wrapObjId)||i.VMP.register(i),i.addContentDiv(function(){i.addBorderContent(),i.setContent(e.content,function(){i.caculateLineNum(),i.addScrollBarContent()})})},this.init()},window.clsLogBehaviorV2=new clLogBehaviorV2,window.REFERER={RCU:"RCU",DEEPLINK:"Deeplink",NOTIFICATION:"Notification"},window.clsControlPlayer=clsControlPlayer,window.AVPlayerSS=AVPlayerSS,window.gInCastMode=0,window.changeVolumeFromCast=0,window.clsSmartView={id:"vn.mytv.multiscreen.smartView",channel:null,isConnect:!1,dataMobile:null,dataPlay:null,dataPlayTemp:null,funcAction:null,phonePlaying:!1,lgID:null,lgIDTemp:null,isReturn2Acc:!1,init:function(){try{0==isSS()&&0==isLG()||(isSS()?clsSmartView.initLocal():isLG()&&clsSmartView.initLocalLG())}catch(e){console.error("**CAST** Error smartview_lib: ",e)}},initLocalLG:function(){"undefined"!=typeof connectsdk&&connectsdk&&(clsSmartView.channel=new connectsdk.ConnectManager,clsSmartView.channel.on("ready",function(e){console.info("**CAST** LG ready.")}),clsSmartView.channel.on("message",function(e){var t=e.message;console.info("**CAST** Receive msg:",e),"client_connect"==t.event_name?(e={attributes:t.data},clsSmartView.executeClientConnect(e)):"play_content"==t.event_name?clsSmartView.processPlay(t.data):"handle_content"==t.event_name?clsSmartView.handleContent(t.data):"switch_profile"==t.event_name?switchProfile(t.data.profile_id,1):"tv_volume"==t.event_name&&null!=(e=getParam(t.data.volume,null))&&(100<(e=(e=parseInt(e))<0?0:e)&&(e=100),changeVolumeFromCast=1,gVolumeControl.volumeControlValue(e),setTimeout(function(){changeVolumeFromCast=0},5e3))}),clsSmartView.channel.on("join",function(e){console.info("**CAST** LG client joined",e),clsSmartView.lgIDTemp=e.id}),clsSmartView.channel.on("depart",function(e){console.info("**CAST** client departed ",e),clsSmartView.executeClientDisconnect(e)}),clsSmartView.channel.init())},initLocal:function(){"undefined"!=typeof msf&&msf.local(function(e,t){e?console.error("**CAST** msf.local error: "+e,logBox):(clsSmartView.channel=t.channel(clsSmartView.id),clsSmartView.channel.connect({name:"SmartTV SamSung"},function(e){if(e)return console.error(e);console.info("**CAST** MultiScreen initialized, channel opened.")}),clsSmartView.channel.on("play_content",function(e,t){console.info("**CAST** play_content",JSON.stringify(e)),clsSmartView.processPlay(e)}),clsSmartView.channel.on("handle_content",function(e,t){clsSmartView.handleContent(e)}),clsSmartView.channel.on("switch_profile",function(e,t){e&&(console.info("**CAST** switch_profile",JSON.stringify(e)),e=JSON.parse(e),switchProfile(e.profile_id,1))}),clsSmartView.channel.on("tv_volume",function(e,t){e&&(console.info("**CAST** tv_volume",e),e=JSON.parse(e),null!=(e=getParam(e.volume,null)))&&(100<(e=(e=parseInt(e))<0?0:e)&&(e=100),changeVolumeFromCast=1,gVolumeControl.volumeControlValue(e),setTimeout(function(){changeVolumeFromCast=0},5e3))}),clsSmartView.channel.on("clientConnect",function(e){clsSmartView.executeClientConnect(e)}),clsSmartView.channel.on("clientDisconnect",function(e){clsSmartView.executeClientDisconnect(e)}))})},executeClientConnect:function(e){try{if(console.info("**CAST** Let's welcome a new client: ",e),e)if(clsSmartView.isConnect)isLG()&&clsSmartView.channel.sendMessage(e.id,{event_name:"tv_message",data:JSON.stringify({code:4,message:"Tivi đang kết nối với 1 thiết bị khác. Vui lòng thử lại sau!"})});else if(gIsLogin){var t,i,o=!1;if((t=e.attributes).member_id!=gServerResponse.member_id)clsSmartView.sendEvent("tv_message",{code:1,message:"Vui lòng đăng nhập 2 thiết bị cùng 1 tài khoản để sử dụng tính năng."}),clsSmartView.isReturn2Acc=!0;else{if(clsSmartView.isReturn2Acc=!1,t.profile_id==g_currentProfileID)o=!0;else{var n=!1;if(null==g_profileList||0==g_profileList.profiles.length||""==g_profileList.profiles)return clsSmartView.sendEvent("tv_message",{code:2,message:"TV không có danh sách Profile"}),void SPA.location("chooseProfile");for(var a=0;a<g_profileList.profiles.length;a++)if(g_profileList.profiles[a].PROFILE_ID==t.profile_id){n=!0;break}if(!n)return void clsSmartView.sendEvent("tv_message",{code:2,message:"Profile không tồn tại trên TV"});o=!0,switchProfile(t.profile_id,1)}o&&(showAutoHideWarning("Đã kết nối với "+getParam(e.attributes.device_name,"")),clsSmartView.isConnect=!0,gInCastMode=1,clsSmartView.dataMobile=t,isSS()?(i={volume:gVolumeControl.getVolumeValue()},clsSmartView.sendEvent("tv_volume",i)):isLG()&&(clsSmartView.lgID=clsSmartView.lgIDTemp,webOS.service.request("luna://com.webos.audio",{method:"getVolume",onSuccess:function(e){console.log(e),1==e.returnValue&&clsSmartView.sendEvent("tv_volume",{volume:e.volume})},onFailure:function(e){console.log("Failed to get Volume")}})))}}else clsSmartView.sendEvent("tv_message",{code:1,message:"Vui lòng đăng nhập 2 thiết bị cùng 1 tài khoản để sử dụng tính năng."}),clsSmartView.isReturn2Acc=!0}catch(e){console.info("**CAST** clientConnect error: ",e)}},executeClientDisconnect:function(e){try{if(showAutoHideWarning("Đã ngắt kết nối với "+getParam(clsSmartView.dataMobile.device_name,"")),gInCastMode=0,clsSmartView.isConnect=!1,gIsLogin){var t=SPA.getCurrentPath();try{"channelPlayer"==t||"hboChannelPlayer"==t?clUIChannelPlayer&&clUIChannelPlayer.HandleBack():"playlistPlayer"==t?clUIPlaylistPlayer&&clUIPlaylistPlayer.HandleBack():"channelTvodPlayer"==t?clUIChannelVODPlayer&&clUIChannelVODPlayer.HandleBack():"moviePlayerNew"==t?clUIVODPlayerNew&&clUIVODPlayerNew.HandleBack():"clipPlayer"!=t&&"hboPlayer"!=t||clUIVODPlayer&&clUIVODPlayer.HandleBack()}catch(e){}setTimeout(function(){gIsLogin?"homeNewUI"!=(t=SPA.getCurrentPath())&&"kidHome"!=t&&(g_currentProfileType==GProfileType.KID?SPA.location("kidHome"):SPA.location("homeNewUI")):"loginSelfCare"!=SPA.currentPath&&SPA.location("loginSelfCare")},500)}}catch(e){console.error("**CAST** clientDisconnect error: ",e)}},processPlay:function(e){try{var t;gIsLogin&&e&&(clsSmartView.funcAction=null,t=JSON.parse(e),clsSmartView.dataPlayTemp=t,getParam(t.member_id,0)!=gServerResponse.member_id?clsSmartView.isReturn2Acc||(clsSmartView.isReturn2Acc=!0,clsSmartView.sendEvent("tv_message",{code:1,message:"Vui lòng đăng nhập 2 thiết bị cùng 1 tài khoản để sử dụng tính năng."})):t.profile_id!=g_currentProfileID?(clsSmartView.funcAction=function(){clsSmartView.playContent()},switchProfile(t.profile_id,1)):"loadingProfile"==SPA.currentPath?clsSmartView.funcAction=function(){clsSmartView.playContent()}:clsSmartView.playContent())}catch(e){clsSmartView.sendEvent("tv_message",{code:2,message:"Có lỗi xảy ra ("+e.message+")"})}},playContent:function(){try{if(null==clsSmartView.dataPlayTemp||null==clsSmartView.dataPlay||clsSmartView.dataPlayTemp.type_group!=clsSmartView.dataPlay.type_group||clsSmartView.dataPlayTemp.content_id!=clsSmartView.dataPlay.content_id||1!=clsSmartView.dataPlayTemp.type_group){clsSmartView.phonePlaying=!0,clsSmartView.dataPlay=clsSmartView.dataPlayTemp;var e=clsSmartView.dataPlay,t=(console.info("**CAST** Data dataPlay: ",e),"");if(1==e.type_group)t=75==getParam(e.product_plugin_id,0)?"hboChannelPlayer?id="+e.content_id+"&is_cast=1":"channelPlayer?id="+e.content_id+"&is_cast=1";else if(2==e.type_group)t=21==e.type_id?"hboDetail?id="+e.content_id+"&is_cast=1&show_detail=0&type_id="+e.type_id:"moviePlayerNew?id="+e.content_id+"&is_cast=1&cast_partition="+getParam(e.partition,0);else if(3==e.type_group)t="clip-detail-v2?id="+e.content_id+"&is_music=0&show_detail=0&poster_layout=3&type_id="+e.type_id+"&is_cast=1&cast_partition="+getParam(e.partition,0);else if(4==e.type_group)t="clip-detail-v2?id="+e.content_id+"&is_music=1&show_detail=0&poster_layout=3&type_id="+e.type_id+"&is_cast=1&cast_partition="+getParam(e.partition,0);else if(5==e.type_group)t="eventsPlay?content_id="+e.content_id+"&vod_type="+e.vod_type+"&start_time=&content_name="+e.content_name+"&is_cast=1";else if(6==e.type_group){for(var i=e.content_id,o=null,n=0;n<gClsKeyPlayChannel.dataChannel.length;n++)if(gClsKeyPlayChannel.dataChannel[n].CONTENT_ID==i){o=gClsKeyPlayChannel.dataChannel[n];break}if(null==o)return void showAlert({VMP:VMP,content:"Không có dữ liệu kênh!",onOKFn:function(){VMP.setActive(gVMPCurrentActive)}});var a=e.date,r=e.time_start,l=e.time_end,s=e.content_name,c=e.channel_name,u=e.schedule_date,p=new Date(a),m=(p.setHours(l.split(":")[0]),p.setMinutes(l.split(":")[1]),new Date(a));if(m.setHours(r.split(":")[0]),m.setMinutes(r.split(":")[1]),console.info(m,p),console.info(p.getTime()>getTimeServer().getTime(),m.getTime()<getTimeServer().getTime()),p.getTime()>getTimeServer().getTime()&&m.getTime()<=getTimeServer().getTime())return void SPA.location("channelPlayer?id="+i+"&timeshift_time="+r);var d,g,h=new Date(a),_=h.getMonth()+1,v=(_<10&&(_="0"+_),h.getDate()),f=(v<10&&(v="0"+v),h=h.getYear()-100+""+_+v,r.replace(":","")),b="",C=(b=(b=1==e.isLive?(d=1==(d=""+(b=getTimeServer()).getHours()).length?"0"+d:d)+":"+(g=1==(g=""+b.getMinutes()).length?"0"+g:g):l).replace(":",""),e.mf_code),y=e.hd;gPlayParam={channel_id:i,mf_code:C,d:h,st:f,et:b,showControlBar:!0,cdate:a,ctimete:r,hd:y,type_id:18,content_name:c,sub_content_name:s,sub_content_starttime:u+" "+r+":00",product_plugin_id:null,partition:1,provider_id:0},t="channelTvodPlayer?from_tvod_page=0&is_cast=1"}console.info("**CAST** Path Play content: ",t),""!=t&&(""==SPA.currentPath&&clAdvertisePopup&&(clAdvertisePopup.hide(),$("#advertise-popup").hide()),APP_CURRENT_STATE=APP_STATE.NORMAL,$("#survey_wrapper").hide(),$("#notification_alert").hide(),$("#notification_toast").hide(),$("#postage_alert").hide(),$("#notification_popup_full").hide(),$("#notification_popup_3_4_img").hide(),$("#notification_popup_3_4_text").hide(),routerManager.urlList.length<=0&&(g_currentProfileType==GProfileType.KID?routerManager.urlList.push("kidHome"):routerManager.urlList.push("homeNewUI")),setTimeout(function(){SPA.location(t)},0))}}catch(e){console.error("**CAST** Error Play content cast",e)}},handleContent:function(e){try{if(gIsLogin&&(e&&clsSmartView.dataPlay)){e=JSON.parse(e),console.info("**CAST** Data handleContent: ",e);var t,i=e.key_code,o=clsSmartView.dataPlay.type_group;if("KEY_PAUSE"==i||"KEY_PLAY"==i){if(3!=o&&4!=o||clUIVODPlayer&&(clUIVODPlayer.ShowControl(),"KEY_PAUSE"==i&&"PLAYING"==clUIVODPlayer.state&&clUIVODPlayer.Pause(),"KEY_PLAY"==i)&&"PAUSED"==clUIVODPlayer.state&&clUIVODPlayer.Play(),2==o&&clUIVODPlayerNew&&(clUIVODPlayerNew.hideMovieLeftMenu(),clUIVODPlayerNew.ShowControl(),"KEY_PAUSE"==i&&"PLAYING"==clUIVODPlayerNew.state&&clUIVODPlayerNew.Pause(),"KEY_PLAY"==i)&&"PAUSED"==clUIVODPlayerNew.state&&clUIVODPlayerNew.Play(),1==o&&clUIChannelPlayer&&(clUIChannelPlayer.ShowControl(),"KEY_PAUSE"==i&&"PLAYING"==clUIChannelPlayer.state&&clUIChannelPlayer.Pause(),"KEY_PLAY"==i)&&"PAUSED"==clUIChannelPlayer.state&&clUIChannelPlayer.Play(),6==o&&clUIChannelVODPlayer&&(clUIChannelVODPlayer.ShowControl(),"KEY_PAUSE"==i&&"PLAYING"==clUIChannelVODPlayer.state&&clUIChannelVODPlayer.Pause(),"KEY_PLAY"==i)&&"PAUSED"==clUIChannelVODPlayer.state&&clUIChannelVODPlayer.Play(),5==o)if("CHANNEL"==getTypePlayer())clUIChannelPlayer&&(clUIChannelPlayer.ShowControl(),"KEY_PAUSE"==i&&"PLAYING"==clUIChannelPlayer.state&&clUIChannelPlayer.Pause(),"KEY_PLAY"==i)&&"PAUSED"==clUIChannelPlayer.state&&clUIChannelPlayer.Play();else{if("NULL"==getTypePlayer())return;clUIVODPlayer&&(clUIVODPlayer.ShowControl(),"KEY_PAUSE"==i&&"PLAYING"==clUIVODPlayer.state&&clUIVODPlayer.Pause(),"KEY_PLAY"==i)&&"PAUSED"==clUIVODPlayer.state&&clUIVODPlayer.Play()}}else if("KEY_TIMESHIFT"==i){var n=getParam(e.value,1);if(3!=o&&4!=o||clUIVODPlayer&&clUIVODPlayer.handleTimeshiftFromCast(n),2==o&&clUIVODPlayerNew&&(clUIVODPlayerNew.hideMovieLeftMenu(),clUIVODPlayerNew.handleTimeshiftFromCast(n)),1==o&&clUIChannelPlayer&&clUIChannelPlayer.handleTimeshiftFromCast(n),6==o&&clUIChannelVODPlayer&&clUIChannelVODPlayer.handleTimeshiftFromCast(n),5==o)if("CHANNEL"==getTypePlayer())clUIChannelPlayer&&clUIChannelPlayer.handleTimeshiftFromCast(n);else{if("NULL"==getTypePlayer())return;clUIVODPlayer&&clUIVODPlayer.handleTimeshiftFromCast(n)}}else{if("KEY_VOL"==i)return null==(t=getParam(e.value,null))?void 0:(100<(t=(t=parseInt(t))<0?0:t)&&(t=100),changeVolumeFromCast=1,isSS()?gVolumeControl.volumeControlValue(t):isLG()&&webOS.service.request("luna://com.webos.audio",{method:"setVolume",parameters:{volume:t},onSuccess:function(e){console.log("Success to setVolume LG",e)},onFailure:function(e){console.log("Failed to setVolume LG",e)}}),void setTimeout(function(){changeVolumeFromCast=0},5e3));"KEY_MUTE"==i?(getParam(e.value,1),gVolumeControl.mute()):"KEY_BACK"==i&&(clsSmartView.phonePlaying=!1)}}}catch(e){console.error("**CAST** Error handle content cast",e)}},sendEvent:function(e,t){var i,o,n,a,r;isSS()?null!=clsSmartView.channel&&1==clsSmartView.channel.connected&&("play_content"==e?(clsSmartView.dataPlay.content_id=getParam(t.content_id,1),clsSmartView.dataPlay.partition=getParam(t.partition,1),r=JSON.stringify(clsSmartView.dataPlay),console.info("**CAST** SmartView sendEvent Send:",r),clsSmartView.channel.publish(e,r),null!=(i=getParam(t.breakpoint,null))&&(console.info("**CAST** SmartView sendEvent VOD breakpoint:",i),clsSmartView.channel.publish("handle_content",JSON.stringify({key_code:"KEY_CURRENT_POSITION",value:i})))):"handle_content"==e?""==(o=getParam(t.play_status,""))?null!=(n=getParam(t.time_shift,null))&&(console.info("**CAST** SmartView sendEvent CHANNEL time_shift :",n),clsSmartView.channel.publish(e,JSON.stringify({key_code:"KEY_CHANNEL_TIMESHIFT",value:n}))):("KEY_BACK"==o&&(clsSmartView.dataPlay=null),a="","PAUSE"==o?a="KEY_PAUSE":"PLAY"==o?a="KEY_PLAY":"SEEK"==o?a="KEY_TIMESHIFT":"MUTE"==o?a="KEY_MUTE":"KEY_BACK"==o&&(a="KEY_BACK"),r={key_code:a,value:getParam(t.value,0)},r=JSON.stringify(r),console.info("**CAST** SmartView sendEvent Send:",r),clsSmartView.channel.publish(e,r)):(console.info("**CAST** SmartView sendEvent Send other:",t),clsSmartView.channel.publish(e,JSON.stringify(t)))):isLG()&&null!=clsSmartView.channel&&("play_content"==e?(clsSmartView.dataPlay.content_id=getParam(t.content_id,1),clsSmartView.dataPlay.partition=getParam(t.partition,1),r=JSON.stringify(clsSmartView.dataPlay),console.info("**CAST** SmartView sendEvent Send:",r),clsSmartView.channel.sendMessage(clsSmartView.lgID,{event_name:e,data:r}),null!=(i=getParam(t.breakpoint,null))&&(console.info("**CAST** SmartView sendEvent VOD breakpoint:",i),clsSmartView.channel.sendMessage(clsSmartView.lgID,{event_name:"handle_content",data:JSON.stringify({key_code:"KEY_CURRENT_POSITION",value:i})}))):"handle_content"==e?""==(o=getParam(t.play_status,""))?null!=(n=getParam(t.time_shift,null))&&(console.info("**CAST** SmartView sendEvent CHANNEL time_shift :",n),clsSmartView.channel.sendMessage(clsSmartView.lgID,{event_name:e,data:JSON.stringify({key_code:"KEY_CHANNEL_TIMESHIFT",value:n})})):("KEY_BACK"==o&&(clsSmartView.dataPlay=null),a="","PAUSE"==o?a="KEY_PAUSE":"PLAY"==o?a="KEY_PLAY":"SEEK"==o?a="KEY_TIMESHIFT":"MUTE"==o?a="KEY_MUTE":"KEY_BACK"==o&&(a="KEY_BACK"),r={key_code:a,value:getParam(t.value,0)},r=JSON.stringify(r),console.info("**CAST** SmartView sendEvent Send:",r),clsSmartView.channel.sendMessage(clsSmartView.lgID,{event_name:e,data:r})):(console.info("**CAST** SmartView sendEvent Send other:",t),clsSmartView.channel.sendMessage(clsSmartView.lgID,{event_name:e,data:JSON.stringify(t)})))}},window.VLTimeout=null,window.onVolumeChangedNew=function(e){clearTimeout(VLTimeout),VLTimeout=null,$("#volume_change").html(e).show(),VLTimeout=setTimeout(function(){$("#volume_change").hide()},2e3),1==gInCastMode&&0==changeVolumeFromCast&&(console.info("**CAST** tv_volume 1"),clsSmartView.sendEvent("tv_volume",{volume:e}))},isTizen()&&tizen.tvaudiocontrol.setVolumeChangeListener(onVolumeChangedNew);var gObjSocketCCU={objTimOut:null,isPlayContent:!(window.getTypePlayer=function(){return null!=gPlayParam&&0!=gPlayParam.length&&"NULL"!=getParam(gPlayParam.PLAYER_TYPE,"NULL")?gPlayParam.PLAYER_TYPE:"NULL"}),ccu:null,socketConfig:null,processCCU:function(e,t){return console.info("***processCCU***",e,t),1==e&&(gObjSocketCCU.isPlayContent=!0,console.log("gObjSocketCCU.isPlayContent",gObjSocketCCU.isPlayContent),gObjSocketCCU.createSocketContent(function(){gObjSocketCCU.ccu=t,gObjSocketCCU.emitPlayContent()},null)),0},emitCloseContent:function(){console.info("gObjSocketCCU.isPlayContent ---"+gObjSocketCCU.isPlayContent),gObjSocketCCU.isPlayContent&&(gObjSocketCCU.clearUpdateExpireTimeContent(),gObjSocketCCU.isPlayContent=!1,ModuleManager.loadFile("clsWebSocket",function(){console.info("***emitCloseContent"),clsWebSocket.emitCloseContent(gObjSocketCCU.ccu),setTimeout(function(){clsWebSocket.closeWebSocketByCCU()},300)},null,!0))},emitPlayContent:function(){ModuleManager.loadFile("clsWebSocket",function(){console.info("***emitPlayContent"),clsWebSocket.emitPlayContent(gObjSocketCCU.ccu)},null,!0)},emitUpdateExpireTimeContent:function(){ModuleManager.loadFile("clsWebSocket",function(){console.info("***emitUpdateExpireTimeContent"),clsWebSocket.emitUpdateExpireTimeContent(gObjSocketCCU.ccu)},null,!0)},createSocketContent:function(t,e){ModuleManager.loadFile("clsWebSocket",function(){var e=!1;(e=null!=socketService&&null!=socketService.socket&&socketService.socket.connected?!0:e)?t&&t():window.WebSocket&&(t&&(clsWebSocket.onCompleteCCU=t),clsWebSocket.run(function(){},function(){}))},null,!0)},timeOutUpdateExpireTimeContent:function(){var e;console.info("timeOutUpdateExpireTimeContent"),console.log("gObjSocketCCU.isPlayContent",gObjSocketCCU.isPlayContent),gObjSocketCCU.isPlayContent&&(gObjSocketCCU.clearUpdateExpireTimeContent(),e=null!=getParam(gObjSocketCCU.socketConfig,null)?getParam(gObjSocketCCU.socketConfig.time_update_expire_content,60):60,console.log("debug expireSeconds",e),gObjSocketCCU.objTimOut=setTimeout(function(){gObjSocketCCU.emitUpdateExpireTimeContent(),gObjSocketCCU.timeOutUpdateExpireTimeContent()},1e3*e))},clearUpdateExpireTimeContent:function(){clearTimeout(gObjSocketCCU.objTimOut),gObjSocketCCU.objTimOut=null},showPopupUpdateCCUError:function(e){if(gObjSocketCCU.isPlayContent){gObjSocketCCU.clearUpdateExpireTimeContent();var t=gObjSocketCCU.getCurrentPlayer(),i=getParam(t.is_fingerprint_force,0),o=getParam(t.is_ccu_force,0),n=getParam(t.finger_print,"");if(console.info("is_force_fingerprint: ",i),console.info("finger_print: ",n),"1"==i&&""!=n||null!=t&&1==o){if(t){gNotificationShow=!0;try{clearTimeout(t.fingerPrintCallAPITimeout),clearTimeout(t.fingerPrintShowTimeout)}catch(e){console.log(e)}t.Pause();i=getParam(e,"Có lỗi khi kết nối đến máy chủ. Vui lòng thử lại sau. (825)");showAlert({VMP:VMP,content:i,onOKFn:function(){gNotificationShow=!1,t.HandleBack()}})}}else showAutoHideWarning(e)}},showPopupPlayCCUError:function(e){var t;gObjSocketCCU.isPlayContent&&(t=gObjSocketCCU.getCurrentPlayer())&&(gNotificationShow=!0,t.Pause(),gObjSocketCCU.clearUpdateExpireTimeContent(),e=getParam(e,"Có lỗi khi kết nối đến máy chủ. Vui lòng thử lại sau. (824)"),showAlert({VMP:VMP,content:e,onOKFn:function(){gNotificationShow=!1,t.HandleBack()}}))},getCurrentPlayer:function(){var e,t=null;return t=gIsPlayerPlaying&&("clipPlayer"!=(e=getShortURL())&&"moviePlayer"!=e&&"hboPlayer"!=e||(t=clUIVODPlayer),"moviePlayerNew"==e&&(t=clUIVODPlayerNew),"channelPlayer"!=e&&"hboChannelPlayer"!=e||(t=clUIChannelPlayer),"playlistPlayer"==e)?clUIPlaylistPlayer:t}};function clsAdvertisePopup(){var s=this,n=(this.wrapObjId="advertise-popup",this.param=null,this.buttonIndex=0),t=(this.buttonType=0,"PopupKM");this.button0_title="Hủy bỏ",this.title="",this.buttonTitle="",this.advertiseTimer=null,this.advertiseTimer_time=10,this.advertiseTimer_msg="",this.advertiseTimer_fontsize=23,this.default_focus=0,this.gotoURLProcessType=-248,this.onOKFn=function(){console.log(clAdvertisePopup.buttonTitle),ModuleManager.loadFile("clsLogBehavior",function(){clsLogBehavior.setLogBehaviorScreenName(t),clsLogBehavior.setAction(clAdvertisePopup.buttonTitle),clsLogBehavior.setTitle(clAdvertisePopup.title),clsLogBehavior.setAdvertiseID(clAdvertisePopup.param.advertise_id),clsLogBehavior.setNewLogData(clAdvertisePopup.param.log_behaviour_info.type,{screen:clAdvertisePopup.param.log_behaviour_info.screen}),clsLogBehavior.saveLogBehavior("by_pass_123")},function(){showAutoHideWarning("Không load được file clsLogBehavior! (877)")},!0),s.callWriteLogGiftcode(s.buttonType),0==s.buttonType?(s.hide(),s.callPromotionCancel(),s.param.showNext?s.showAdvertise(s.param.VMP,s.param.position_check,s.param.onBackComplete):s.param.onBackComplete?s.param.onBackComplete():processProfileInitApp()):0==getParam(s.param.isReminder,0)?(s.hide(),0==s.param.process_type?s.callMenuDeepLink(s.gotoURLProcessType,s.param.call_module_html5):0<s.param.process_type?2==s.param.process_type?s.callPromotionCheck():3==s.param.process_type||4==s.param.process_type?s.callMenuDeepLink(s.param.process_type):s.callMenuDeepLink(s.gotoURLProcessType,"changePackagePromotion?promotion_id="+s.param.promotion_id):s.param.onBackComplete?s.param.onBackComplete():processProfileInitApp()):(s.hide(),0==s.param.promotion_id?"No"==s.param.call_module_html5?VMP.setActive(s.param.divActive):s.callMenuDeepLink(s.gotoURLProcessType,s.param.call_module_html5):2==s.param.promotion_id?s.callMenuDeepLink(s.gotoURLProcessType,"extendPackage?promotion_id="+s.param.promotion_id):VMP.setActive(s.param.divActive))},this.callPromotionCancel=function(){var e;console.log("PROFILE MODULE PROMOTION CANCEL................"),0<parseInt(s.param.promotion_id)&&(e={data:{promotion_id:s.param.promotion_id},show_loading:!1},ApiPost("promotion/cancel",e,function(e){},function(e){}))},this.callWriteLogGiftcode=function(e){var t;3==s.param.process_type&&(t="accept",0==e?t="close":2==e&&(t="timeout"),ModuleManager.loadFile("clsGiftcode",function(){(clGiftcode=null==clGiftcode?new clsGiftcode({}):clGiftcode).writeLogBehaviorGiftcodeLandingPage(t)},function(){showAutoHideWarning("Không load được file clsGiftcode!")},!0))},this.callMenuDeepLink=function(e,t){callApiGetFirstTimeProfile(function(){callProfileListGlobal(function(){null!=g_currentProfile&&g_currentProfile.TYPE==GProfileType.MYTV?(window.isClickMenuDeepLink=!0,e==clAdvertisePopup.gotoURLProcessType?(window.MenuDeepLinkData={},window.MenuDeepLinkData.DESTINE_URL=t):window.MenuDeepLinkData=clAdvertisePopup.param.menu_link_data,MenuDeepLinkData.ADVERTISE_PROCESS_TYPE=e,switchProfile(g_currentProfile.PROFILE_ID,0)):null==g_profileList||0==g_profileList.profiles.length||""==g_profileList.profiles||(getDefaultProfileGlobal(g_profileList.profiles),""==default_profile_id)?clAdvertisePopup.param.onBackComplete?clAdvertisePopup.param.onBackComplete():processProfileInitApp():(window.isClickMenuDeepLink=!0,e==clAdvertisePopup.gotoURLProcessType?(window.MenuDeepLinkData={},window.MenuDeepLinkData.DESTINE_URL=t):window.MenuDeepLinkData=clAdvertisePopup.param.menu_link_data,MenuDeepLinkData.ADVERTISE_PROCESS_TYPE=e,switchProfile(default_profile_id,0))})})},this.callPromotionCheck=function(){var e={data:{advertise_id:s.param.advertise_id,promotion_id:s.param.promotion_id},show_loading:!1};ApiPost("promotion/check",e,function(e){0==e.result?clAdvertisePopup.processPromotionPackage(e.data):1==e.result?showConfirm({VMP:VMP,content:e.message,button_ok_text:"Đồng ý",button_cancel_text:"Hủy",onOKFn:function(){clAdvertisePopup.processPromotionPackage(e.data)},onCancelFn:function(){clAdvertisePopup.param.onBackComplete?clAdvertisePopup.param.onBackComplete():processProfileInitApp()}}):showAlert({VMP:VMP,content:e.message,onOKFn:function(){clAdvertisePopup.param.onBackComplete?clAdvertisePopup.param.onBackComplete():processProfileInitApp()}})},function(e){showConfirm({VMP:VMP,content:"Quý khách vui lòng thử lại hoặc liên hệ CSKH 18001166 (0đ) để được tư vấn và hỗ trợ!",button_ok_text:"Thử lại",button_cancel_text:"Hủy",onOKFn:function(){clAdvertisePopup.callPromotionCheck()},onCancelFn:function(){clAdvertisePopup.param.onBackComplete?clAdvertisePopup.param.onBackComplete():processProfileInitApp()}})})},this.processPromotionPackage=function(e){var t=(new Date).getTime(),i=gServerResponse.member_id,o=gDeviceType,t="l"+(parseInt(t)+parseInt(i)+parseInt(o));null!=gDataHST&&""!=gDataHST?s.callMenuDeepLink(s.gotoURLProcessType,"registerPackageNew?pkg_id="+e.product_id+"&bill_number="+t):(extra_package_desc=e.product_info,extra_package_name=e.product_name,2==e.type_process?s.callMenuDeepLink(s.gotoURLProcessType,"extraPackageRegisterOTP?id="+e.product_id+"&promotion_id="+e.promotion_id+"&bill_number="+t):s.callMenuDeepLink(s.gotoURLProcessType,"extraPackageRegister?id="+e.product_id+"&promotion_id="+e.promotion_id+"&bill_number="+t))},this.sendKey=function(e){this.onKeyPressed({which:e})},this.setParam=function(e){if(VMP.getObjById(s.wrapObjId)||VMP.register(s),null!=(s.param=e).count_down&&s.setCountDown(e.count_down),0==e.type_content){var t=getParam(e.content,"");$("#advertise-popup").css("background-image","url("+t+")"),s.setButton(e.button)}else{$("#advertise-popup #html_container").html(e.content).show();for(var i=0;i<e.button.length;i++)e.button[i].width=null,e.button[i].height=null,e.button[i].top=null,e.button[i].left=null,e.button[i]["border-radius"]=null;s.setButton(e.button,!0)}null!=s.param.auto_close_timer&&0<s.param.auto_close_timer.timer&&null!=s.param.auto_close_timer.message_info&&(s.buildAutoCloseTemplate(),s.advertiseTimer_time=1e5,s.advertiseTimer_msg=s.param.auto_close_timer.message,s.advertiseTimer_fontsize=SPA.convertScale(parseFloat(s.param.auto_close_timer.message_info["font-size"]))),SPA.autoResponsive("#advertise-popup-container",0)},this.setCountDown=function(e){var t=e.number,i=e.location.width,o=e.location.height,n=e.location.top,a=e.location.left,r=e.color,l=e["font-size"],s=parseFloat(e.location.height)*SPA.screenHeight/100+"px";e.text_count_down&&(t=e.text_count_down,r=e.text_location.color,l=e.text_location["font-size"],e='<a style="'+("font-size:"+SPA.convertScale(e["font-size"].replace("px",""))+"px; color:"+e.color)+'">'+e.number+"</a>",t=t.replace("%s",e)),$("#advertise-popup-container #advertise_countdown").css({width:i,height:o,top:n,left:a,color:r,"font-size":l,"line-height":s}),$("#advertise-popup-container #advertise_countdown").html(t).show()},this.setButton=function(e,t){for(var i={width:"18%",height:"5%",top:"90%",left0:"30%",left1:"50%",left_1_button:"42%","border-radius":"30px","line-height":.05*SPA.screenHeight+"px",default_color:"rgba(255,255,255,0.3)",focus_color:"white",text_default_color:"white",text_focus_color:"black",border:"none","box-shadow":"none"},o=0;o<e.length;o++)$("#advertise-popup-container #btn_"+o).css({width:getParam(e[o].width,i.width),height:getParam(e[o].height,i.height),top:getParam(e[o].top,i.top),left:getParam(e[o].left,i["left"+o]),"border-radius":getParam(e[o]["border-radius"],i["border-radius"]),"line-height":parseFloat(getParam(e[o].height,i.height))*SPA.screenHeight/100+"px",border:getParam(e[o].border,i.border),"box-shadow":getParam(e[o]["box-shadow"],i["box-shadow"])}),(e[o]["background-html"]||e[o]["background-color"])&&e[o]["font-color"]?($("#advertise-popup-container #btn_"+o).css({color:e[o]["font-color"].default}),$("#advertise-popup-container #btn_"+o).attr({text_default_color:e[o]["font-color"].default,text_focus_color:e[o]["font-color"].focus}),e[o]["background-html"]?($("#advertise-popup-container #btn_"+o).css({background:e[o]["background-html"].default}),$("#advertise-popup-container #btn_"+o).attr({focus_color:e[o]["background-html"].focus,default_color:e[o]["background-html"].default})):($("#advertise-popup-container #btn_"+o).css({background:e[o]["background-color"].default}),$("#advertise-popup-container #btn_"+o).attr({focus_color:e[o]["background-color"].focus,default_color:e[o]["background-color"].default}))):($("#advertise-popup-container #btn_"+o).css({background:i.default_color,color:i.text_default_color}),$("#advertise-popup-container #btn_"+o).attr({focus_color:i.focus_color,default_color:i.default_color,text_default_color:i.text_default_color,text_focus_color:i.text_focus_color})),$("#advertise-popup-container #btn_"+o).attr("onClick","clAdvertisePopup.buttonIndex = "+o+";clAdvertisePopup.buttonType = "+e[o]["type-button"]+';clAdvertisePopup.buttonTitle = "'+removeVietnameseTones(e[o].title)+'";SPA.sendKey(KEY_ENTER);'),1==e.length&&t&&(button_width=$("#advertise-popup-container #btn_"+o).width(),$("#advertise-popup-container #btn_"+o).css("left",(SPA.screenWidth-button_width)/2+"px")),1==e[o]["default-focus"]&&(s.default_focus=o,s.buttonIndex=o,s.buttonType=e[o]["type-button"]),s.buttonTitle=removeVietnameseTones(e[s.buttonType].title),$("#advertise-popup-container #btn_"+o).attr("type-button",e[o]["type-button"]).html(e[o].title).show(),$("#advertise-popup-container #btn_"+o).attr("button-title",e[o].title),n+=1;s.setFocus(s.default_focus),$("#advertise-popup-container").css("font-size","35px")},this.getName=function(){return this.wrapObjId},this.callAdvertise=function(t,i,o){var e={data:{device_type:gConfig.getDeviceType(),ver_menu:5},show_loading:!1};ApiPost("admedia/get-advertise",e,function(e){clAdvertisePopup.writeAdvertiseData(e.data),clAdvertisePopup.showAdvertise(t,i,o)},function(e){console.log("Gọi advertise lỗi rồi bỏ qua"),o()})},this.callAdvertiseLoged=function(t,i,o){var e={data:{device_type:gConfig.getDeviceType(),ver_menu:5},show_loading:!1};ApiPost("admedia/get-advertise-loged",e,function(e){if(-39==e.result)showPopupForceUpdate(getParam(e.message,"Cập nhật ứng dụng để tiếp tục sử dụng !"));else{addStyleNewUI();try{null!=getParam(e.plugin_server,null)&&(null!=getParam(gPlugin_server.log_duration,null)?window.isWriteLogDurationKafka=1:window.isWriteLogDurationKafka=0)}catch(e){console.log(e)}window.log_error_player=null;try{null!=getParam(e.plugin_server,null)&&(window.log_error_player=e.plugin_server.log_error_player)}catch(e){console.log(e)}window.api_ads=null;try{null!=getParam(e.plugin_server,null)&&(window.api_ads=getParam(gAuthenCtlData.service_server.gateway,"https://apigw.mytv.vn/"))}catch(e){console.log(e)}window.player_config=null;try{null!=getParam(e.player_config,null)&&(window.player_config=getParam(e.player_config,null))}catch(e){console.log(e)}window.ads_timeout_config=null;try{null!=getParam(e.ima_config,null)&&(window.ads_timeout_config=getParam(e.ima_config.video_load_timeout,null))}catch(e){console.log(e)}try{null!=getParam(e.bitmovin_path,null)&&(window.bitmovin_path=e.bitmovin_path)}catch(e){console.log(e)}try{null!=getParam(e.plugin_server,null)&&(window.log_error_player=e.plugin_server.log_error_player)}catch(e){console.log(e)}try{null!=getParam(e.config_lixi,null)&&(window.config_lixi=e.config_lixi)}catch(e){console.log(e)}addBitmovin(),window.bitmovin_analytics=0;try{null!=getParam(e.bitmovin_analytics,null)&&(window.bitmovin_analytics=e.bitmovin_analytics)}catch(e){console.log(e)}if(window.LG_DEVICE_ID="",isLG())try{webOS.service.request("luna://com.webos.service.sm",{method:"deviceid/getIDs",parameters:{idType:["LGUDID"]},onSuccess:function(e){console.log("Result: "+JSON.stringify(e)),window.LG_DEVICE_ID=e.idList[0].idValue},onFailure:function(e){console.log("Failed to get system ID information"),console.log("["+e.errorCode+"]: "+e.errorText)}})}catch(e){}if(window.SS_IFA="",isSS())try{window.SS_IFA=webapis.adinfo.getTIFA(),console.log(" getTIFA value = "+SS_IFA)}catch(e){e.message.indexOf("undefined")}gMenuSupport=e.menu_support,gLeftMenuv2=getParam(e.menu_left_v2,[]),gLastChannelConfig=getParam(e.last_channel_config,{enable_play_last_channel:1,delay_time_last_channel:15}),playAdsStartUp(function(){clAdvertisePopup.writeAdvertiseData(e.data),clAdvertisePopup.showAdvertise(t,i,o)})}},function(e){console.log("Gọi advertise lỗi rồi bỏ qua"),o()})},this.showAdvertise=function(a,r,l){gDeviceAPI.readData("Advertise_popup",function(e){if(null!==e)for(var t=new Date,i=0;i<e.length;i++)if(e[i].place_view==r&&!(e[i].show_times>=e[i].number_view)){var o=e[i].end_date.split(" "),n=o[1].split(":"),o=createDateFromDates(o[0],n[0],n[1],n[2]);if(!(o<t||null!=s.param&&s.param.isShown>=i))return e[i].place_view<=0&&null!==e[i].count_down&&0<e[i].count_down.length&&e[i].count_down.number<=0?void 0:(e[i].VMP=a,e[i].onBackComplete=l,i+1<e.length?e[i].showNext=!0:e[i].showNext=!1,e[i].isShown=i,e[i].position_check=r,s.init(e[i]),s.updateShowTimes(e[i].advertise_id),void(s.title=e[i].name))}l()})},this.writeAdvertiseData=function(a){gDeviceAPI.readData("Advertise_popup",function(e){if(null===e||0==e.length)for(var t=0;t<a.length;t++)a[t].show_times=0;else for(t=0;t<a.length;t++)for(var i=a[t],o=a[t].show_times=0;o<e.length;o++){var n=e[o];i.advertise_id==n.advertise_id&&(a[t].show_times=e[o].show_times)}gDeviceAPI.writeData("Advertise_popup",JSON.stringify(a))})},this.updateShowTimes=function(i){gDeviceAPI.readData("Advertise_popup",function(e){for(var t=0;t<e.length;t++)if(e[t].advertise_id==i)return e[t].show_times+=1,void gDeviceAPI.writeData("Advertise_popup",JSON.stringify(e))})},this.callAdvertiseInModule=function(e){for(var t=getShortURL(),i=0;i<moduleID.length;i++)if(moduleID[i].id==t){if("clip"!=t)return SPA.enable(),void s.showAdvertise(VMP,moduleID[i].module_id,e);if(routerManager.getParam("type_id",0)==moduleID[i].type_id)return SPA.enable(),void s.showAdvertise(VMP,moduleID[i].module_id,e)}e()},this.init=function(e){s.setParam(e),s.show(),e.VMP.setActive(s.getName())},this.setFocus=function(e){var t=$("#advertise-popup-container #btn_"+e).attr("focus_color"),i=$("#advertise-popup-container #btn_"+e).attr("text_focus_color");$("#advertise-popup-container #btn_"+e).css({background:t,color:i})},this.lostFocus=function(){var e,t;s.getCurrentActive(),1<n&&(e=$("#advertise-popup-container #btn_"+s.buttonIndex).attr("default_color"),t=$("#advertise-popup-container #btn_"+s.buttonIndex).attr("text_default_color"),$("#advertise-popup-container #btn_"+s.buttonIndex).css({background:e,color:t}),0==s.buttonIndex?(s.setFocus(1),s.buttonIndex=1):(s.setFocus(0),s.buttonIndex=0),s.buttonType=$("#advertise-popup-container #btn_"+s.buttonIndex).attr("type-button"),s.buttonTitle=removeVietnameseTones($("#advertise-popup-container #btn_"+s.buttonIndex).attr("button-title")))},this.onMouseWheel=function(e){0<e?this.sendKey(KEY_UP):this.sendKey(KEY_DOWN)},this.getCurrentActive=function(){$("#advertise-popup-container .advertise-btn").each(function(e,t){$(this).hasClass("active")&&(s.buttonIndex=e)})},this.show=function(){isAdvertiseOpen=!0,$("#"+s.wrapObjId).show(),null==s.param.auto_close_timer||s.param.auto_close_timer.timer<=0||null!=s.param.auto_close_timer.message_info&&s.startTimer()},this.hide=function(){isAdvertiseOpen=!1,$("#"+s.wrapObjId).hide(),$("#"+s.wrapObjId+" #html_container").hide(),$("#"+s.wrapObjId+" #advertise-popup-container #btn_0").hide(),$("#"+s.wrapObjId+" #advertise-popup-container #btn_1").hide(),$("#advertise-popup-container #advertise_countdown").hide(),$("#"+s.wrapObjId).css("background-image","url('app-images/bg.jpg')"),s.buttonIndex=0,n=0,s.buttonType=0,s.buttonTitle=""},this.onMouseMove=function(){s.onMouseMoveFn&&s.onMouseMoveFn()},this.setHighlight=function(){1==s.buttonIndex?($("#btn_alert_ok").addClass("active"),$("#btn_check_connect").removeClass("active")):($("#btn_alert_ok").removeClass("active"),$("#btn_check_connect").addClass("active"))},this.onKeyPressed=function(e){try{switch(e.which){case KEY_LEFT:case KEY_RIGHT:case KEY_DOWN:case KEY_UP:s.lostFocus();break;case KEY_ENTER:s.stopTimer(),s.onOKFn()}}catch(e){console.log("Có lỗi xảy ra onKeyPressed advertise: ",e.message),clAdvertisePopup&&(clAdvertisePopup.hide(),clAdvertisePopup.param.onBackComplete)?clAdvertisePopup.param.onBackComplete():processProfileInitApp()}},this.buildAutoCloseTemplate=function(){$("body #advertise-popup #advertise-popup-container #advertise_timer_countdown").length||$("body #advertise-popup #advertise-popup-container").append('<div style="position: absolute; display:none;text-align: center;font-size: 23px;" id="advertise_timer_countdown" vmp-responsive="font-size"></div>'),$("#advertise_timer_countdown").css({"font-size":s.advertiseTimer_fontsize+"px",top:s.param.auto_close_timer.message_info.top,left:s.param.auto_close_timer.message_info.left,color:s.param.auto_close_timer.message_info.color})},this.startTimer=function(){clAdvertisePopup.advertiseTimer=setInterval(function(){var e=(e=clAdvertisePopup.advertiseTimer_msg).replace("%s",'<a style="font-weight:bold;font-size:'+(clAdvertisePopup.advertiseTimer_fontsize+SPA.convertScale(7))+'px">'+clAdvertisePopup.advertiseTimer_time+"</a>");$("#advertise_timer_countdown").html(e).show(),0==clAdvertisePopup.advertiseTimer_time?(ModuleManager.loadFile("clsLogBehavior",function(){clsLogBehavior.setLogBehaviorScreenName(t),clsLogBehavior.setAction("timeout"),clsLogBehavior.setTitle(clAdvertisePopup.title),clsLogBehavior.setAdvertiseID(clAdvertisePopup.param.advertise_id),clsLogBehavior.setNewLogData(clAdvertisePopup.param.log_behaviour_info.type,{screen:clAdvertisePopup.param.log_behaviour_info.screen}),clsLogBehavior.saveLogBehavior("by_pass_123")},function(){showAutoHideWarning("Không load được file clsLogBehavior! (877)")},!0),clAdvertisePopup.callWriteLogGiftcode(2),clAdvertisePopup.stopTimer(),clAdvertisePopup.hide(),clAdvertisePopup.callPromotionCancel(),clAdvertisePopup.param.showNext?clAdvertisePopup.showAdvertise(clAdvertisePopup.param.VMP,clAdvertisePopup.param.position_check,clAdvertisePopup.param.onBackComplete):clAdvertisePopup.param.onBackComplete?clAdvertisePopup.param.onBackComplete():processProfileInitApp()):--clAdvertisePopup.advertiseTimer_time},1e3)},this.stopTimer=function(){$("#advertise_timer_countdown").hide(),clearInterval(clAdvertisePopup.advertiseTimer),clAdvertisePopup.advertiseTimer=null}}function showPopupForceUpdate(e){showConfirm({VMP:VMP,content:e,button_ok_text:"Cập nhật",button_cancel_text:"Thoát",onOKFn:function(){var e,t,i,o,n,a;1==isSS()&&("SS2016"==gConfig.getDeviceType()?(e="org.volt.apps",t="detail",o=i="3201810017174",n=new window.tizen.ApplicationControl("http://tizen.org/appcontrol/operation/view",null,null,null,[new window.tizen.ApplicationControlData("Sub_Menu",[t]),new window.tizen.ApplicationControlData("widget_id",[i]),new window.tizen.ApplicationControlData("caller_id",[o])],"SINGLE"),a={onsuccess:function(e){for(var t=0;t<e.length;t++)"http://tizen.org/appcontrol/data/path"==e[t].key&&console.log("picked image path: "+e[t].value[0])}},tizen.application.launchAppControl(n,e,function(){console.log("launch appControl succeeded")},function(e){console.log("error launch",e)},a)):(e="com.samsung.tv.store",t="detail",o=i="3201810017174",n=new window.tizen.ApplicationControl("http://tizen.org/appcontrol/operation/view",null,null,null,[new window.tizen.ApplicationControlData("Sub_Menu",[t]),new window.tizen.ApplicationControlData("widget_id",[i]),new window.tizen.ApplicationControlData("caller_id",[o])],"SINGLE"),a={onsuccess:function(e){for(var t=0;t<e.length;t++)"http://tizen.org/appcontrol/data/path"==e[t].key&&console.log("picked image path: "+e[t].value[0])}},tizen.application.launchAppControl(n,e,function(){console.log("launch appControl succeeded")},function(e){console.log("error launch",e)},a))),location.reload()},onCancelFn:function(){isTizen()?tizen.application.getCurrentApplication().exit():1!=isLG()&&gConfig.getDeviceType()!=DEVICE_TYPE.PANASONIC||window.close()}})}function addStyleNewVod(){var e;$("#vod_ui_new").length||(e="",e=(e=(e+='<style id="vod_ui_new">')+".vod_name_vn{overflow: hidden; height: 34px; font-size: 26px; padding-top: "+SPA.convertScale(6)+"px; white-space: nowrap;-o-text-overflow: ellipsis;text-overflow: ellipsis;}")+".vjs-poster, .bitmovinplayer-poster{background-size: cover !important; width: 100%; height: 100%; background-position: inherit !important;}"+".kid_vod_new.title{flex-direction: column; align-items: flex-start; height: 80px;}.vod_name_vn div{ height: 34px;}",e=(e=e+".js-marquee-wrapper{position: relative;}"+".vod_name_en{overflow: hidden; height: 26px; color: grey; font-size: 20px; white-space: nowrap;}")+".titleQrBuyPackage{color: #FEB138; padding-left: "+SPA.convertScale(210)+"px; text-align: left !important;}",e=e+".display-flex{display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex;}"+".packet-dialog-wrap{background: none; box-shadow: none;}.register_package_step3{background: none; box-shadow: none;}",e=(e=e+".qrCodeWrapper{-webkit-box-align: center; -ms-flex-align: center; align-items: center; -webkit-box-pack: center; -ms-flex-pack: center;"+"justify-content: center; -webkit-box-orient: vertical; -webkit-box-direction: normal; -ms-flex-direction: column; flex-direction: column; width: 495px; height: 695px;}")+".qrCodePayBg{background-image: url("+ModuleManager.getTemplatePath()+"v2/images/other/qr_bg.jpg); background-size: cover; margin-left: 2em;}",e+="@media only screen and (max-width:1280px){ #player_rm_ad_img_wr{top: 10px !important; left: 7px !important;} #player_rm_ad{top: 5px;}}</style>",$("head").append(e),$("head").append('<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jQuery.Marquee/1.6.0/jquery.marquee.min.js"><\/script>'))}window.gObjSocketCCU=gObjSocketCCU,window.clsAdvertisePopup=clsAdvertisePopup,ModuleManager.loadFile("generalRemoteJS",function(){},function(){showAutoHideWarning("Không load được file generalRemoteJS!")},!0),ModuleManager.loadFile("clsMulticam",function(){},null,!0),ModuleManager.loadFile("createSupportLeftMenuB2C",function(){},null,!0),ModuleManager.loadFile("clsLogBehaviorV2",function(){},null,!0),ModuleManager.loadFile("clsTextAreaRemote",function(){},null,!0),ModuleManager.loadFile("clsAnimationLottie",function(){clAnimationLottie.init()},null,!0),window.g_compare=function(e,t){return e.SORT_ORDER_CLIENT-t.SORT_ORDER_CLIENT},window.isPlayingAds=!1,addStyleNewVod();var isAddedBitmovin=0;function addBitmovin(){try{var e,t;window.bitmovin_path&&("undefined"==typeof bitmovin?(console.warn("bitmovin add full lib"),0==isAddedBitmovin&&((e=document.createElement("script")).src=window.bitmovin_path,e.async=!1,e.id="b-all",$("#b-all").length||(document.head.appendChild(e),isSS()&&gConfig.getDeviceType()!=DEVICE_TYPE.SS2015&&gConfig.getDeviceType()!=DEVICE_TYPE.SS2016&&showAutoHideWarning("Có lỗi (996)")),isAddedBitmovin=1)):(console.warn("bitmovin add only module"),t=window.bitmovin_path.substr(0,window.bitmovin_path.lastIndexOf("/")+1),0==isAddedBitmovin&&([{name:"b-lowlatency",url:t+"bitmovinplayer-lowlatency.js"}].forEach(function(e){var t=document.createElement("script");t.src=e.url,t.async=!1,t.id=e.name,$("#"+e.name).length||document.head.appendChild(t)}),isAddedBitmovin=1)),setTimeout(function(){ModuleManager.loadFile("BitMovinPlayer",function(){},function(){},!0)},500))}catch(e){console.log(e)}}function clearStartUpAds(){try{$("#startUpAds").hide(),clearTimeout(timeoutMaxTimeAdsStartUp),clearTimeout(timeoutMaxReceiveEventAdsStart),null!=clUIVODPlayer&&(console.log("stopPromoVideo vô stop"),clUIVODPlayer.Stop(),clUIVODPlayer=null)}catch(e){console.log(e)}}function playAdsStartUp(o){""==getParam(api_ads,"")||gAppReview?(console.log("ko co link api -> skip ads start up page"),o()):$.ajax({type:"GET",url:api_ads.replace(/\/tv\//g,"tv/")+"api/v1/ads/startup",dataType:"json",headers:{Authorization:"Bearer "+getParam(gDeviceInfo.Session,"")},timeout:1e3,data:{device_type:gConfig.getDeviceType(),area_code:getParam(gServerResponse.area_code,""),ver:1,manufacturer_id:gDeviceInfo.ManufacturerID,platform:"HTML5"},error:function(e,t,i){o();try{sendLogStartUpAdsErr("","timeout_api")}catch(e){console.log(e)}},success:function(e){try{var t;""==getParam(e.data.ads_data.ad_info,"")?(console.warn("khong co link QC ->- skip show start up ads"),o()):(SPA.currentController.fnPlayVideo=1,timeoutMaxTimeAdsStartUp=null,timeoutMaxReceiveEventAdsStart=null,clearTimeout(timeoutMaxTimeAdsStartUp),clearTimeout(timeoutMaxReceiveEventAdsStart),$("#startUpAds").length||$("body").append('<div id="startUpAds" style="position: absolute; width:100%; height:100%; z-index: 999; background-size: cover;"></div>'),$("#startUpAds").css("background-image","url("+ModuleManager.getTemplatePath()+"v2/images/splashscreen_2.jpg)"),$("#startUpAds").show(),window.timeoutMaxTimeAdsStartUp=setTimeout(function(){console.warn("timeoutMaxTimeAdsStartUp exe"),clearStartUpAds(),o();try{sendLogStartUpAdsErr(e.data.ads_data.ad_info,"timeout_ima_ad_complete")}catch(e){console.log(e)}},1e3*getParam(e.data.ads_config.timeoutMaxTimeAdsStartUp,30)),window.timeoutMaxReceiveEventAdsStart=setTimeout(function(){console.warn("timeoutMaxReceiveEventAdsStart exe "),clearStartUpAds(),o();try{sendLogStartUpAdsErr(e.data.ads_data.ad_info,"timeout_ima_ad_start")}catch(e){console.log(e)}},1e3*getParam(e.data.ads_config.timeoutMaxReceiveEventAdsStart,20)),t={ad_info:getParam(e.data.ads_data.ad_info,""),ad_type:getParam(e.data.ads_data.ad_type,"vast")},ModuleManager.loadFile("BitMovinPlayer",function(){checkPlayAds({url:getParam(e.data.ads_config.url_play,"http://s77100.cdn.mytvnet.vn/xmovie_02.m3u8?ext=ts&ctl=9.38&hc=ctl10&start=0&userId=11316148214&apiData=b2c,null,null,null&rkey=T1014083M51a9DrC&zn=netb2c&rl=mcache&rmeta=172.16.55.22&pnode=172.16.55.22&location=HNI&file=/video//56/6c/ca/af/f6/62/56caf-aogwinter2022trailer-common-clip-unkn.mp4&q=auto&profiles=720,1080"),VMP:VMP,showControlBar:!1,bTimeShiftBar:!1,divID:"startUpAds",bNextPrev:!1,is_startup_ads:1,is_home_trailer:1,is_poster_trailer:1,autoLockKeyboard:!1,bDelayUnlockKeyTime:1e3,profile4K:0,isFocus:!1,isRegisterMouseEvent:!1,ad_data:t,poster:"app-images/splashscreen_2.jpg",onEventAdsStart:function(){$("#startUpAds").show()},onEventAdsEnd:function(){$("#startUpAds").hide(),clearStartUpAds(),o()},onBackComplete:function(){},onBackFn:function(){},onErrorFn:function(){}},o)},function(){clearStartUpAds(),o()},!0))}catch(e){o()}}})}function checkPlayAds(e,t){"undefined"==typeof bitmovin?(console.warn("bitmovin not available"),++countRetryPlayAds<10?setTimeout(function(){checkPlayAds(e,t)},500):(countRetryPlayAds=0,clearStartUpAds(),t())):(countRetryPlayAds=0,showUIVODPlayer(e))}function addStyleNewUI(){for(var e=["new_UI.css"],t=0;t<e.length;t++){var i=ModuleManager.getTemplatePath()+"v2/images/css/"+e[t]+"?t="+Math.random(),o=document.head,n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.id="newUIv3",n.href=i,o.appendChild(n)}}function add_dialog_confirm_full(){var e;$("#dialog_confirm_full").length||(e=(e=(e=(e=(e=(e=(e='<style id="dialog_confirm_full_style">')+(".code-error{color: #FF8309; font-size: "+SPA.convertScale(44)+"px; margin-bottom: "+SPA.convertScale(100))+"px; font-weight: bold;}.white-text{color: white;}.hiddenPopupV2{display: none !important}.error-version{margin-top: 10px;}#dialog_confirm_full{color: white; background: black; align-items: center; justify-content: center; opacity: .97; z-index: 1000; position: fixed; top: 0; left: 0; width: 100%; height: 100%;}")+".dialog_left_info{width: "+SPA.convertScale(275)+"px; flex-direction: column; padding: "+SPA.convertScale(30)+"px; text-align: right; color: #858585; font-size: "+SPA.convertScale(30)+"px;}")+".dialog_right_info{margin-left: "+SPA.convertScale(50)+"px; }.seperate-line{border: 1px solid white;}.wrapper-popup-confirm-full{background: black; max-width: none;}")+"#dialog_confirm_content_full{min-height: "+SPA.convertScale(130)+"px; margin-bottom: "+SPA.convertScale(20)+"px; width: "+SPA.convertScale(755)+"px;}")+"#dialog_confirm_full_title{font-weight: bold; font-size: "+SPA.convertScale(52)+"px; padding-top: "+SPA.convertScale(30)+"px; padding-bottom: "+SPA.convertScale(30)+"px }.btn_dialog_popup.active{background: #FFFFFF; color: black;}")+".btn_dialog_popup{background: #56595D;margin-right: "+SPA.convertScale(20)+"px; border-radius: 4px; justify-content: center; width: "+SPA.convertScale(170)+"px; height: "+SPA.convertScale(56)+"px; align-items: center;}</style>",$("#dialog_confirm_full_style").length||$("head").append(e),e=$("body").append('<div id="dialog_confirm_full" style="" class="display-flex hiddenPopupV2"><div class="display-flex wrapper-popup-confirm-full" vmp-responsive="font-size; width; height" style="font-size: 35px; height: 340px; margin: '+SPA.convertScale(60)+'px;"><div class="dialog_left_info display-flex"><div class="code-title">Mã:</div><div id="dialog-confirm-full-code-error" class="code-error">V9546</div><div class="device">Thiết bị: <span id="device-text" class="white-text">SmartTV</span></div><div class="error-version">Version: <span id="dialog-confirm-full-version-text" class="white-text">1.1.1</span></div></div><div class="seperate-line"></div><div class="dialog_right_info"><div id="dialog_confirm_full_title">Thông báo</div><div id="dialog_confirm_content_full" vmp-responsive="font-size" style="word-break: break-word; font-size: 30px;">Xảy ra lỗi trong quá trình tải nội dung. Quý khách vui lòng thử lại sau hoặc liên hệ tổng đài 800126 để được hướng dẫn chi tiết.</div><div class="display-flex" style="font-size: '+SPA.convertScale(26)+'px"><div class="btn_dialog_popup display-flex" id="btn_confirm_full_cancel">Đóng</div><div class="btn_dialog_popup display-flex active" id="btn_confirm_full_ok">Tiếp tục</div></div></div></div></div>'),$("body").append(e))}function add_dialog_alert_full(){var e;$("#dialog_alert_full").length||(e=(e=(e=(e=(e=(e=(e='<style id="dialog_alert_full_style">')+(".code-error{color: #FF8309; font-size: "+SPA.convertScale(44)+"px; margin-bottom: "+SPA.convertScale(100))+"px; font-weight: bold;}.white-text{color: white;}.hiddenPopupV2{display: none !important}.error-version{margin-top: 10px;}#dialog_alert_full{color: white; background: black; align-items: center; justify-content: center; opacity: .97; z-index: 1000; position: fixed; top: 0; left: 0; width: 100%; height: 100%;}")+".dialog_left_info{width: "+SPA.convertScale(275)+"px; flex-direction: column; padding: "+SPA.convertScale(30)+"px; text-align: right; color: #858585; font-size: "+SPA.convertScale(30)+"px;}")+".dialog_right_info{margin-left: "+SPA.convertScale(50)+"px; }.seperate-line{border: 1px solid white;}.wrapper-popup-confirm-full{background: black; max-width: none;}")+"#dialog_alert_content_full{min-height: "+SPA.convertScale(130)+"px; margin-bottom: "+SPA.convertScale(20)+"px; width: "+SPA.convertScale(755)+"px;}")+"#dialog_alert_full_title{font-weight: bold; font-size: "+SPA.convertScale(52)+"px; padding-top: "+SPA.convertScale(30)+"px; padding-bottom: "+SPA.convertScale(30)+"px }.btn_dialog_popup.active{background: #FFFFFF; color: black;}")+".btn_dialog_popup{background: #56595D;margin-right: "+SPA.convertScale(20)+"px; border-radius: 4px; justify-content: center; width: "+SPA.convertScale(170)+"px; height: "+SPA.convertScale(56)+"px; align-items: center;}</style>",$("#dialog_alert_full_style").length||$("head").append(e),e=$("body").append('<div id="dialog_alert_full" style="" class="display-flex hiddenPopupV2"><div class="display-flex wrapper-popup-confirm-full" vmp-responsive="font-size; width; height" style="font-size: 35px; height: 340px; margin: '+SPA.convertScale(60)+'px;"><div class="dialog_left_info display-flex"><div class="code-title">Mã:</div><div id="dialog-alert-full-code-error" class="code-error">V9546</div><div class="device">Thiết bị: <span id="device-text" class="white-text">SmartTV</span></div><div class="error-version">Version: <span id="dialog-alert-full-version-text" class="white-text">1.1.1</span></div></div><div class="seperate-line"></div><div class="dialog_right_info"><div id="dialog_alert_full_title">Thông báo</div><div id="dialog_alert_content_full" vmp-responsive="font-size" style="word-break: break-word; font-size: 30px;">Xảy ra lỗi trong quá trình tải nội dung. Quý khách vui lòng thử lại sau hoặc liên hệ tổng đài 800126 để được hướng dẫn chi tiết.</div><div class="display-flex" style="font-size: '+SPA.convertScale(26)+'px"><div class="btn_dialog_popup display-flex active" id="btn_alert_full_ok">Tiếp tục</div></div></div></div></div>'),$("body").append(e))}function add_dialog_alert_v2(){var e;$("#dialog_alert_v2").length||(e='<style id="dialog_confirm_alert_style">',e=(e=(e=(e=(e+="#dialog_alert_v2{display: none;}.popup-mask{background: rgba(0, 0, 0, 0.6); position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000; background: rgba(0, 0, 0, 0.6);}#dialog_alert_v2_title{font-size: 52px; text-align: center; font-weight: 500;}")+"#dialog_alert_v2_content{font-size: 30px; padding: "+SPA.convertScale(40)+"px "+SPA.convertScale(24)+"px; text-align: center;}")+"#btn_alert_v2_ok{ color: #16161; font-weight: 500; width: 360px; height: 56px; font-size: 26px; padding: 6px 24px; align-items: center; justify-content: center; align-self: center; background: #FF8309; border-radius: 4px; width: "+SPA.convertScale(360)+"px; height: "+SPA.convertScale(56)+"px;}#dialog_alert_v2_version_info{text-align: center; color: #979797; font-size: 26px; line-height: 40px;}")+".wrapper-popup-alert-v2{ width: "+SPA.convertScale(716)+"px; background: #EBEBEB; color: black; flex-direction: column; padding: "+SPA.convertScale(50)+"px; font-size: 26px}")+".code-error{color: #FF8309; font-size: "+SPA.convertScale(44)+"px; margin-bottom: "+SPA.convertScale(100)+"px; font-weight: bold;}</style>",$("#dialog_confirm_alert_style").length||$("head").append(e),e=$("body").append('<div id="dialog_alert_v2" style="" class="popup-mask"><div class="common-dialog-wrap display-flex wrapper-popup-alert-v2" vmp-responsive="font-size" style="font-size: 35px;"><div id="dialog_alert_v2_title" vmp-responsive="font-size">Thông báo</div><div id="dialog_alert_v2_version_info" vmp-responsive="font-size">( <span id="error_code_alert_v2" >465789</span> SmartTV - Ver <span id="ver_alert_v2">10.1.3</span> )</div><div id="dialog_alert_v2_content" vmp-responsive="font-size" style="word-break: break-word;"> Tài khoản của Quý khách đã vượt quá thiết bị cho phép. Vui lòng vào mục Thông tin tài khoản - Quản lý thiết bị để xóa thiết bị.</div><div class="display-flex" vmp-responsive="width, height, font-size" id="btn_alert_v2_ok">Đồng ý</div></div></div>'),$("body").append(e))}function add_dialog_confirm_v2(){var e;$("#dialog_confirm_v2").length||(e='<style id="dialog_confirm_popup_style">',e=(e=(e=(e=(e=(e+="#dialog_confirm_v2{ display: none;}.popup-mask{background: rgba(0, 0, 0, 0.6); position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000; background: rgba(0, 0, 0, 0.6);}#dialog_confirm_v2_title{font-size: 52px; text-align: center; font-weight: 500;}")+"#dialog_confirm_v2_content{font-size: 30px; padding: "+SPA.convertScale(40)+"px "+SPA.convertScale(24)+"px; text-align: center;}.btn_confirm_v2_wrapper{ justify-content: center; align-item: center; }")+".btn_popup_confirm_v2{font-weight: 500; width: "+SPA.convertScale(170)+"px; font-size: 26px; padding: 6px 24px; align-items: center; justify-content: center; align-self: center; background: #BFBEBF;; border-radius: 4px; height: "+SPA.convertScale(56)+"px;}.btn_popup_confirm_v2.active{ background: #FF8309;}")+"#btn_confirm_v2_cancel{ margin-right: "+SPA.convertScale(40)+"px;}#dialog_confirm_v2_version_info{text-align: center; color: #979797; font-size: 26px; line-height: 40px;}")+".wrapper-popup-cf-v2{align-items: center; width: "+SPA.convertScale(716)+"px; background: #EBEBEB; color: black; flex-direction: column; padding: "+SPA.convertScale(50)+"px; font-size: 26px}")+".code-error{color: #FF8309; font-size: "+SPA.convertScale(44)+"px; margin-bottom: "+SPA.convertScale(100)+"px; font-weight: bold;}</style>",$("#dialog_confirm_popup_style").length||$("head").append(e),e=$("body").append('<div id="dialog_confirm_v2" class="popup-mask"><div class="common-dialog-wrap display-flex wrapper-popup-cf-v2" vmp-responsive="font-size" style="font-size: 35px;"><div id="dialog_confirm_v2_title" vmp-responsive="font-size">Thông báo</div><div id="dialog_confirm_v2_version_info" vmp-responsive="font-size">( <span id="error_code_confirm_v2" >465789</span> SmartTV - Ver <span id="ver_confirm_v2">10.1.3</span> )</div><div id="dialog_confirm_v2_content" vmp-responsive="font-size" style="word-break: break-word;"> Tài khoản của Quý khách đã vượt quá thiết bị cho phép. Vui lòng vào mục Thông tin tài khoản - Quản lý thiết bị để xóa thiết bị.</div><div class="btn_confirm_v2_wrapper display-flex"><div class="display-flex btn_popup_confirm_v2 active" vmp-responsive="width, height, font-size" id="btn_confirm_v2_cancel">Thoát</div><div class="display-flex btn_popup_confirm_v2" vmp-responsive="width, height, font-size" id="btn_confirm_v2_ok">Thử lại</div></div></div></div>'),$("body").append(e))}this.onKeyPressed=function(e){var t=e.which;t==KEY_MENU||t==KEY_HOME?SPA.gotoHomepage():thisObj.bEnable&&(t=thisObj.getObjById(thisObj.currentActive))&&(13==e.keyCode&&eko("VMP : KEY ENTER : VMPFrame.js line 83"),t.onKeyPressed(e))},window.countRetryPlayAds=0,window.timeoutMaxReceiveEventAdsStart=null,window.timeoutMaxTimeAdsStartUp=null,window.sendLogStartUpAdsErr=function(e,t){e={show_loading:!0,data:{play_url:getParam(e,""),err_type:"2",error_play:t,description:""}};$.ajax({type:"POST",url:window.log_error_player+"api/v1/log-player",dataType:"json",timeout:1e4,data:ObjecttoParams(e.data),error:function(e,t,i){},success:function(e){},complete:function(e,t){}})},window._pathImgNewUIv3=ModuleManager.getTemplatePath()+"v2/images/new_ui_v3/",add_dialog_confirm_full(),window.clDialogConfirmFull=null,window.showConfirmFull=function(e){ModuleManager.loadFile("clsDialogConfirmFull",function(){hideAllPopup(),(clDialogConfirmFull=clDialogConfirmFull||new clsDialogConfirmFull).setParam(e),clDialogConfirmFull.show(),e.VMP.setActive(clDialogConfirmFull.getName())},null,!0)},add_dialog_alert_full(),window.clDialogAlertFull=null,window.showAlertFull=function(e){ModuleManager.loadFile("clsDialogAlertFull",function(){hideAllPopup(),(clDialogAlertFull=clDialogAlertFull||new clsDialogAlertFull).setParam(e),clDialogAlertFull.show(),e.VMP.setActive(clDialogAlertFull.getName())},null,!0)},add_dialog_alert_v2(),window.clDialogAlertV2=null,window.showAlertV2=function(e){ModuleManager.loadFile("clsDialogAlertV2",function(){hideAllPopup(),(clDialogAlertV2=clDialogAlertV2||new clsDialogAlertV2).setParam(e),clDialogAlertV2.show(),e.VMP.setActive(clDialogAlertV2.getName())},null,!0)},add_dialog_confirm_v2(),window.clDialogConfirmV2=null,window.showConfirmV2=function(e){ModuleManager.loadFile("clsDialogConfirmV2",function(){hideAllPopup(),(clDialogConfirmV2=clDialogConfirmV2||new clsDialogConfirmV2).setParam(e),clDialogConfirmV2.show(),e.VMP.setActive(clDialogConfirmV2.getName())},null,!0)},$(".warning-message").css("z-index",99999999999),$("#dialog_confirm p").css("word-break","break-word"),$("#dialog_alert p").css("word-break","break-word"),window.secondsToHmVN=function(e){e=Number(e);var t=Math.floor(e%86400/3600),e=Math.floor(e%3600/60),e=0<e?e+"":"00";return"00"!=e&&e<10&&(e="0"+e),t<"1"?e+" phút":(0<t?t+" giờ":"0 giờ")+e+" phút"};var imgSocketDisconnectUrl=ModuleManager.getTemplatePath()+"v2/images/disconnect.png";function cleanUpElonFun(){clearInterval(window.timerShowPopupElofun),window.timerShowPopupElofun=null}function appendEventConnectionUUID(t){try{return null==getParam(t,null)&&(t={}),event_connection&&(t.event_connection=event_connection),uuid&&(t.uuid=uuid),t}catch(e){return t}}$("body").append('<div id="network-eror-icon" style="display: none; position: fixed; bottom: '+SPA.convertScale(55)+"px; left: "+SPA.convertScale(170)+"px; height: "+SPA.convertScale(44)+"px; width: "+SPA.convertScale(44)+"px; z-index: 99; background-size: contain; background-image: url("+imgSocketDisconnectUrl+')"></div>'),window.isClickedSpecialModule=!1,window.getModuleServiceID=function(){var t=0;if(isClickedSpecialModule)try{t=null!=gMovieDataTemplate&&"null"!=gMovieDataTemplate&&0<gMovieDataTemplate.length?gMovieDataTemplate[gMovieDataTemplate.length-1].module_service_id:0}catch(e){t=0}return t},gLstIDPopup=["postage_alert","notification_alert","dialog_notification_play","dialog_notification_play_toast","dialog_show_quality","dialog_alert","dialog_confirm","menu_homepage","survey_button_wr","survey_container","survey_button_wr_success","dialog_error_qr","alert_error_qr","dialog_exit_app_survey","dialog_exit_app","dialog_confirm_v2","dialog_confirm_full","dialog_alert_v2","dialog_alert_full"],window.showNotification=function(e){ModuleManager.loadFile("clsNotification",function(){(clNotification=clNotification||new clsNotification).setParam(e),clNotification.show(),1==e.data.notification_type&&1==getParam(e.typeAlert,1)&&e.VMP.setActive(clNotification.getName())},null,!0)},window.g_compare=function(e,t){return e.SORT_ORDER_CLIENT-t.SORT_ORDER_CLIENT},window.handleBuyPackageCode=function(o){try{var n=getParam(o.isShowPopupKeyPlayChannel,!1);return 815==o.data.result||878==o.data.result?(n&&(gClsKeyPlayChannel.isShowPopup=!0),showConfirmV2({VMP:o.VMP,error_code:o.data.result,content:o.data.message,button_ok_text:"Tiếp Tục",button_cancel_text:"Bỏ qua",onOKFn:function(){n&&(gClsKeyPlayChannel.isShowPopup=!1);var e=(new Date).getTime(),t=gServerResponse.member_id,i=gDeviceType,e="o"+(parseInt(e)+parseInt(t)+parseInt(i)),t="";0!=o.data.data.package_id&&null!=o.data.data.package_id||(t="supportInfoPackage?bill_number="+e),0<parseInt(o.data.data.package_id)&&(t="buyPackageNew?package_id="+o.data.data.package_id+"&bill_number="+e),SPA.location(t)},onCancelFn:function(){n&&(gClsKeyPlayChannel.isShowPopup=!1),"string"==typeof o.currentActive?o.VMP.setActive(o.currentActive):o.currentActive()}}),1):0}catch(e){return console.log(e),0}},window.g_compare=function(e,t){return e.SORT_ORDER_CLIENT-t.SORT_ORDER_CLIENT},window.hideChannelList=function(){$("#player_channel_list_div").hide(),$("#player_channellist_lps").hide(),cleanUpElonFun()},gLstIDPopup=["postage_alert","notification_alert","dialog_notification_play","dialog_notification_play_toast","dialog_show_quality","dialog_alert","dialog_confirm","menu_homepage","survey_button_wr","survey_container","survey_button_wr_success","dialog_error_qr","alert_error_qr","dialog_exit_app_survey","dialog_exit_app"],window.showNotification=function(e){ModuleManager.loadFile("clsNotification",function(){(clNotification=clNotification||new clsNotification).setParam(e),clNotification.show(),1==e.data.notification_type&&1==getParam(e.typeAlert,1)&&e.VMP.setActive(clNotification.getName())},null,!0)},window.secondsToHmVN=function(e){e=Number(e);var t=Math.floor(e%86400/3600),e=Math.floor(e%3600/60),e=0<e?e+"":"00";return"00"!=e&&e<10&&(e="0"+e),t<"1"?e+" phút":(0<t?t+" giờ ":"0 giờ ")+e+" phút"},window.isClickedSpecialModule=!1,window.getModuleServiceID=function(){var t=0;if(isClickedSpecialModule)try{t=null!=gMovieDataTemplate&&"null"!=gMovieDataTemplate&&0<gMovieDataTemplate.length?gMovieDataTemplate[gMovieDataTemplate.length-1].module_service_id:0}catch(e){t=0}return t},gClsKeyPlayChannel.showLPS=function(){var e,t=clUIChannelPlayer.channel_id_number;0<t&&(0==gClsKeyPlayChannel.dataLPS.length?(e="channel/schedule-v2",g_currentProfileType==GProfileType.KID&&(e="channel/schedule"),ApiPost(e,{data:{channel_id:t}},function(e){0==e.result&&0<e.data.length?(gClsKeyPlayChannel.dataLPS=e.data,gClsKeyPlayChannel.tvod_hour=e.tvod_hour,gClsKeyPlayChannel.message_past=e.message_past,gClsKeyPlayChannel.message_future=e.message_future,(e=null==(e=gClsKeyPlayChannel.getTodayData(gClsKeyPlayChannel.dataLPS))?getParam(gClsKeyPlayChannel.dataLPS[0],null):e)&&($("#player_channel_list_div").hide(),gClsKeyPlayChannel.show_channel_list=1,gClsKeyPlayChannel.showObjLPS(e),gClsKeyPlayChannel.showObjLPSButton(),$("#player_channellist_lps").show(),VMP.setActive("player_lps_list"))):(gClsKeyPlayChannel.hasDataChannelCate=!1,$("#player_channel_list").html('<div style="text-align:center;margin-top: 50px;">Không có nội dung</div>'),$("#player_channel_list_div").show(),clUIChannelPlayer.bShowLPSNoData=!0)},function(e){gClsKeyPlayChannel.hasDataChannelCate=!1,$("#player_channel_list").html('<div style="text-align:center;margin-top: 50px;">Không có nội dung</div>')})):(e=null==(e=gClsKeyPlayChannel.getTodayData(gClsKeyPlayChannel.dataLPS))?getParam(gClsKeyPlayChannel.dataLPS[0],null):e)&&($("#player_channel_list_div").hide(),gClsKeyPlayChannel.show_channel_list=1,gClsKeyPlayChannel.showObjLPS(e),gClsKeyPlayChannel.showObjLPSButton(),$("#player_channellist_lps").show(),VMP.setActive("player_lps_list")))},gClsKeyPlayChannel.showObjLPS=function(e){var t,i;null==gClsKeyPlayChannel.animationListLPS?(i=gClsKeyPlayChannel.buildTemplateLPS(e),$("#player_lps_list").html(i),$("#player_channel_lps_text").html(e.SCHEDULE_TITLE+" ngày - "+convertDatetoVNTime(e.SCHEDULE_DATE)),$("#player_channel_lps_button").attr("date",e.SCHEDULE_DATE),SPA.autoResponsive("#player_channellist_lps",0),t={wrap_obj_id:"player_lps_list",VMP:VMP,onItemFocusFn:function(e){},onItemLostFocusFn:function(e){},onItemClickFn:function(e){var e=e.getSelectedItem(),t=$(e).attr("status");if(0==t){var i=$(e).attr("channel_id"),o=$(e).attr("date"),n=$(e).attr("time"),a=($(e).attr("time_end"),$(e).attr("content_name")),r=$(e).attr("channel_name"),l=new Date(o),s=l.getMonth()+1,c=(s<10&&(s="0"+s),l.getDate()),s=(c<10&&(c="0"+c),l=l.getYear()-100+""+s+c,n.replace(":","")),u="";if(1==$(e+" span").attr("isLive")){c=""+(u=getTimeServer()).getHours(),e=(1==c.length&&(c="0"+c),""+u.getMinutes());u=c+":"+(e=1==e.length?"0"+e:e)}else for(var p=0;p<gClsKeyPlayChannel.dataLPS.length;p++)if(gClsKeyPlayChannel.dataLPS[p].SCHEDULE_DATE==o)for(var m=0;m<gClsKeyPlayChannel.dataLPS[p].SCHEDULE_CONTENT.length-1-gClsKeyPlayChannel.lpsItemsNodata;m++)if(gClsKeyPlayChannel.dataLPS[p].SCHEDULE_CONTENT[m].time==n){u=gClsKeyPlayChannel.dataLPS[p].SCHEDULE_CONTENT[m+1].time;break}u=(u=""==u?"23:59":u).replace(":","");c="",e="";null!=gPlayParam&&(c=gPlayParam.mf_code,e=gPlayParam.hd),clUIChannelPlayer.CanncelPlayer(),gPlayParam={channel_id:i,mf_code:c,d:l,st:s,et:u,showControlBar:!0,cdate:o,ctimete:n,hd:e,type_id:18,content_name:r,sub_content_name:a,sub_content_starttime:o+" "+n+":00",product_plugin_id:null,partition:1,provider_id:0},SPA.savePath("channelPlayer?id="+i),SPA.location("channelTvodPlayer")}else 1==t?showAlert({VMP:VMP,content:getParam(gClsKeyPlayChannel.message_future,"Chương trình này chưa diễn ra, vui lòng quay lại sau!"),button_ok_text:lang("common_popup_cancel"),onOKFn:function(){VMP.setActive("player_lps_list")}}):-1==t&&showAlert({VMP:VMP,content:getParam(gClsKeyPlayChannel.message_past,"Chương trình đã quá thời hạn, vui lòng xem nội dung khác!"),button_ok_text:lang("common_popup_cancel"),onOKFn:function(){VMP.setActive("player_lps_list")}})},onBackFn:function(){$("#player_channellist_lps").hide(),gClsKeyPlayChannel.show_channel_list=0,VMP.setActive(clUIChannelPlayer.getName())},onLostFocusUpFn:function(e){VMP.setActive("player_channel_lps_button")},onLostFocusDownFn:function(e){},onMoveFn:function(e,t){}},gClsKeyPlayChannel.animationListLPS=new clsGridviewLPS(t)):(i=gClsKeyPlayChannel.buildTemplateLPS(e),$("#player_lps_list").html(i),$("#player_channel_lps_text").html(e.SCHEDULE_TITLE+" ngày - "+convertDatetoVNTime(e.SCHEDULE_DATE)),$("#player_channel_lps_button").attr("date",e.SCHEDULE_DATE),gClsKeyPlayChannel.animationListLPS.init()),console.log(gClsKeyPlayChannel.objPositionLiveItem),gClsKeyPlayChannel.objPositionLiveItem&&gClsKeyPlayChannel.animationListLPS.setSelectedItem(gClsKeyPlayChannel.objPositionLiveItem.row,gClsKeyPlayChannel.objPositionLiveItem.col)},SPA.goBack=function(e){try{unStackCateLogin()}catch(e){}var t=routerManager.pop();e=getParam(e,""),ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.CurrentScreenLevel=clsLogBehaviorV2.CurrentScreenLevel-2},null,!0),""!=e&&(-1==t.indexOf("?")?t+="?"+e:t+="&"+e),null==t&&(t=""),SPA.location(t,1)},SPA.location=function(e,t,i){$("body").css("background","#0E1217"),SPA.currentFullPath=e;var o=getShortURL();if("homeNewUI"==o||"kidHome"==o)try{fn("onLeavingHomepage"),stopPromoVideo(),fn("clearLastWatchChannelTimeout"),hideAnimationThree()}catch(e){}0==e.indexOf("homeNewUI")&&showAnimationThree(),"movie"==o&&fn("clearTimeoutMovieController");try{fn("clearTrailerTimeout"),fn("clearRunBanner")}catch(e){}try{clUIVODPlayer&&clUIVODPlayer.CancelPlayer(),clUIVODPlayerNew&&clUIVODPlayerNew.CancelPlayer()}catch(e){}if(""!=getParam(e,""))try{0<=e.indexOf("channelPlayer")&&1==EMCFlag&&(e=e.replace(new RegExp("\\bchannelPlayer\\b","gi"),"channelPlayer_emc"))}catch(e){}1==(i=getParam(i,1))&&ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.onSPALocation(e)},null,!0),"supportChangePackage"==e&&(e="supportInfoPackage"),SPA.disable();o="homeNewUI";g_currentProfileType==GProfileType.KID&&(o="kidHome");try{"undefined"==typeof EMCFlag?console.log("cờ emc bị reset"):1==EMCFlag&&(o="homeNewUI_emc")}catch(e){o="homeNewUI",g_currentProfileType==GProfileType.KID&&(o="kidHome")}e=getParam(e,o),SPA.checkShowLeftMenuNav(e),ModuleManager.loadFile("clsMenuHomepage",function(){_leftMenuFnc.hideExpandedLeftMenuHomepage(!0),_leftMenuFnc.createStandStillMenu(e)},null,!0);try{leftMenuSupportV2.checkShowHideSupportLeftMenu(e)}catch(e){console.log(e)}try{getParam(routerConfig[handle_path(e)].IsWriteLogBehavior,!0)&&SPA.setScreenName(getParam(routerConfig[handle_path(e)].LogBehaviorScreenName,""))}catch(e){console.log(e)}t=getParam(t,-1),-1==e.indexOf("?")?e+="?_d="+t:e+="&_d="+t,window.location.href="#"+e,initAdWhenLocation(function(){SPA.hideBorder(),SPA.callController(e),hideChannelList()})},window.onExitSamSung=function(){""==getShortURL()?(ModuleManager.loadFile("clsWebSocket",function(){clsWebSocket.closeWebSocket()},null,!0),gClsKeyPlayChannel.isShowPopup=!1,tizen.application.getCurrentApplication().exit()):gBShowExitApp?SPA.onKeyPressed(e):(gBShowExitApp=!0,gLast_active=gVMPCurrentActive,gClsKeyPlayChannel.isShowPopup=!0,hideAllPopup(),ModuleManager.loadFile("clsExitApp",function(){var e={VMP:VMP,isNormalExitApp:1,init_item:0,onExitFn:function(){ModuleManager.loadFile("clsWebSocket",function(){clsWebSocket.closeWebSocket()},null,!0),gClsKeyPlayChannel.isShowPopup=!1,tizen.application.getCurrentApplication().exit()},onSurveyFn:function(){"homeNewUI"==SPA.getCurrentPath()&&1==routerManager.getParam("current_page_newui",1)&&null!=clUIVODPlayer&&clUIVODPlayer.Play(),gClsKeyPlayChannel.isShowPopup=!1,VMP.setActive(gLast_active),gBShowExitApp=!1},onBackFn:function(){"homeNewUI"==SPA.getCurrentPath()&&1==routerManager.getParam("current_page_newui",1)&&null!=clUIVODPlayer&&clUIVODPlayer.Play(),gClsKeyPlayChannel.isShowPopup=!1,VMP.setActive(gLast_active),gBShowExitApp=!1}};(clExitApp=clExitApp||new clsExitApp).setParam(e),clExitApp.show(),VMP.setActive(clExitApp.getName()),SPA.enable()},function(){},!0))},window.playAdsBackground=function(){null===document.getElementById("background_play_ads")&&$("#vmp-content").append('<div id="background_play_ads"></div>');$("body").append("<style>#background_play_ads {position: absolute; top: 0;}</style>");var e={data:{ad_screen:3,module_service_id:routerManager.getParam("module_id",0)},show_loading:!1,auto_disable:!1};ApiPost("admedia/get-advertise-tvc",e,function(e){try{var t;""!=e.data.ad_info&&(SPA.currentController.fnPlayVideo=1,t={url:e.data.ad_clip_temp,VMP:VMP,showControlBar:!1,bTimeShiftBar:!1,divID:"background_play_ads",bNextPrev:!1,content_type_id:2,iPlayer:gConfig.getPlayer(),is_home_trailer:1,is_poster_trailer:1,autoLockKeyboard:!1,bDelayUnlockKeyTime:1e3,profile4K:0,isFocus:!1,isRegisterMouseEvent:!1,ad_data:e.data,onEventAdsStart:function(){$("#channel_banner_div").hide(),"banner_channel_control"==VMP.currentActive&&VMP.setactive("channel_main_content"),$(".channel-banner-detail-wr").hide(),$(".movie-banner-detail-wr").hide()},onEventAdsEnd:function(){null!=clUIVODPlayer&&(clUIVODPlayer.Stop(),clUIVODPlayer=null),$(".channel-banner-detail-wr").show(),$(".movie-banner-detail-wr").show(),$("#background_play_ads").empty(),$("#channel_banner_div").css("display","table")},onBackComplete:function(){},onBackFn:function(){},onErrorFn:function(){}},showUIVODPlayer(t))}catch(e){console.log(e)}},function(e){})},window.ObjecttoParams=function(e){var t,i=[];for(t in gServerResponse)i.push(t+"="+encodeURIComponent(gServerResponse[t]));for(t in e)i.push(t+"="+encodeURIComponent(e[t]));i.push("device_model="+encodeURIComponent(gDeviceInfo.DeviceModel)),i.push("device_name="+encodeURIComponent(gDeviceInfo.DeviceName)),i.push("device_type="+encodeURIComponent(gConfig.getDeviceType())),i.push("user_agent="+encodeURIComponent(navigator.userAgent)),i.push("platform="+encodeURIComponent(gConfig.getCDNPlatform())),i.push("version_cdn="+encodeURIComponent(gConfig.getCDNversion()));var o=createRandomNumber(10)+""+createRandomNumber(10)+createRandomNumber(10)+createRandomNumber(10)+createRandomNumber(10)+createRandomNumber(10);i.push("sesssion_rnd="+encodeURIComponent(o)),i.push("version_number="+encodeURIComponent(gVersionNumber)),i.push("phien_ban_app="+encodeURIComponent(gVersionApp));try{i.push("device_id_mytv="+encodeURIComponent(getParam(gDataConfig.response.device_id_mytv,"")))}catch(e){console.log(e)}try{i.push("username="+encodeURIComponent(gDeviceInfo.Username));var n=getModuleServiceID();void 0===e.module_service_id&&i.push("module_service_id="+n)}catch(e){}return"undefined"!=typeof ABTestingFlag&&i.push("abtesting="+encodeURIComponent(ABTestingFlag)),i.join("&")},window.gVolumeControl={volumeControl:function(e){"KEY_VOLUP"==e?gVolumeControl.volumeUp():"KEY_VOLDOWN"==e?gVolumeControl.volumeDown():gVolumeControl.mute()},volumeControlValue:function(e){isTizen()&&tizen.tvaudiocontrol.setVolume(e),isLG()&&webOS.service.request("luna://com.webos.audio",{method:"setVolume",parameters:{volume:e},onSuccess:function(e){console.log("Success to setVolume LG",e)},onFailure:function(e){console.log("Failed to setVolume LG",e)}})},getVolumeValue:function(){if(isTizen())return tizen.tvaudiocontrol.getVolume();isLG()&&webOS.service.request("luna://com.webos.audio",{method:"getVolume",onSuccess:function(e){if(console.log(e),1==e.returnValue)return e.volume},onFailure:function(e){console.log("Failed to get Volume")}})},volumeUp:function(){isTizen()?tizen.tvaudiocontrol.setVolumeUp():isLG()&&webOS.service.request("luna://com.webos.audio",{method:"volumeUp",onComplete:function(e){console.log("The volume is increased by 1.")},onFailure:function(e){console.log("Failed to increase volume by 1."),console.log("["+e.errorCode+"]: "+e.errorText)}})},volumeDown:function(){isTizen()?tizen.tvaudiocontrol.setVolumeDown():isLG()&&webOS.service.request("luna://com.webos.audio",{method:"volumeDown",onSuccess:function(e){console.log("The volume is decreased by 1.")},onFailure:function(e){console.log("Failed to decrease volume by 1."),console.log("["+e.errorCode+"]: "+e.errorText)}})},mute:function(){isTizen()?tizen.tvaudiocontrol.isMute()?tizen.tvaudiocontrol.setMute(!1):tizen.tvaudiocontrol.setMute(!0):isLG()&&(webOS.service.request("luna://com.webos.audio",{method:"setMuted",parameters:{muted:gLGMuteRemote},onSuccess:function(e){gLGMuteRemote?console.log("TV is muted"):console.log("TV is unmuted")},onFailure:function(e){console.log("Failed to set muted"),console.log("["+e.errorCode+"]: "+e.errorText)}}),gLGMuteRemote=!gLGMuteRemote)},UnMuteOnStart:function(){}},window.clsGridviewClipNew=function(e){var g=this,t=null,o=e.VMP,r=(this.wrapObjId=e.wrap_obj_id,this.autoRegister=getParam(e.auto_register,!0),this.onLostFocusUpFn=e.onLostFocusUpFn,this.onLostFocusDownFn=e.onLostFocusDownFn,this.onLostFocusLeftFn=e.onLostFocusLeftFn,this.onLostFocusRightFn=e.onLostFocusRightFn,this.onBackFn=e.onBackFn,this.onItemFocusFn=e.onItemFocusFn,this.onItemLostFocusFn=e.onItemLostFocusFn,this.onItemClickFn=e.onItemClickFn,this.onMoveFn=e.onMoveFn,this.onMouseMoveFn=e.onMouseMoveFn,this.dataList=getParam(e.data,[]),this.rowIndex=getParam(e.row_index,0),this.colIndex=getParam(e.col_index,0),6),c=0,u={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom",NONE:"none"},h=u.TOP,p=checkAnimation(),a=checkMouse(),_=0,n=500,l={NONE:"none",ANIMATION:"animation"},v={rowGap:SPA.convertScale(70),top:SPA.convertScale(0),leftIndex:0,totalRow:8,currentRowIndex:0,maxRow:8,middleRow:0,visibleRow:3,hiddenRow:2,rowList:[],keyList:[],finishRowCount:0,status:l.NONE,topRow:0,bottomRow:0,autoHover:!0},f={itemWidth:SPA.convertScale(399),itemHeight:SPA.convertScale(310),itemGap:SPA.convertScale(70),leftGap:SPA.convertScale(55),totalItem:4,width:SPA.convertScale(1920),height:SPA.convertScale(310),topGap:SPA.convertScale(70)};function b(e){for(var t=e.row_info.currentItemIndex,i=0;i<v.rowList.length;i++){var o=v.rowList[i];t>o.row_info.totalItem-1?v.rowList[i].row_info.currentItemIndex=o.row_info.totalItem-1:v.rowList[i].row_info.currentItemIndex=t}S(e,!0),setTimeout(function(){g.onItemFocusFn&&g.onItemFocusFn(g)},n),ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.saveLogFocus(g.getSelectedItemId())},null,!0)}function C(e){S(e,!1),g.onItemLostFocusFn&&g.onItemLostFocusFn(g)}function s(){var e=v.maxRow;v.maxRow>v.totalRow&&(e=v.totalRow);for(var t=0;t<e;t++){var i={currentItemIndex:0,keyList:[],totalItem:4};if(i.totalItem=g.dataList[t].length,v.rowList[t]={row_info:i,row_index:t,row_index_data:t,row_id:t},a)for(var o=0;o<i.totalItem;o++){var n="#item_"+t+"_"+o;1==use_keyboard&&(v.autoHover&&($(n).prepend('<div class="zoom-icon"></div>'),$(n).bind("mouseover",function(){SPA.isEnable()&&$(this).addClass("featured-thumbnail")}),$(n).bind("mouseout",function(){$(this).removeClass("featured-thumbnail")})),$(n).bind("click",function(){if(SPA.isEnable()){var e=parseInt($(this).attr("col")),t=parseInt($(this).attr("row")),i=e;v.currentRowIndex=t;for(var o=0;o<v.rowList.length;o++)if(v.rowList[o].row_index_data==t){v.rowList[o].row_info.currentItemIndex=i;break}I()}}))}}y(!0);for(t=0;t<e;t++)$("#clip_item_row_"+v.rowList[t].row_index).bind("transitionend",function(){v.finishRowCount++,v.finishRowCount==e-v.hiddenRow+1&&(v.status=l.NONE)});unlock()}function y(e){if(h==u.TOP)m(e);else if(h==u.MIDDLE)for(var t=v.finishRowCount=0;t<v.rowList.length;t++){var i,o=v.rowList[t];i=o.row_index==v.middleRow?v.middleY-v.top:o.row_index<v.middleRow?v.middleY-(v.middleRow-o.row_index)*(v.rowGap+f.height)-v.top:v.middleY+(o.row_index-v.middleRow)*(v.rowGap+f.height)-v.top,i-=_,d(p?{element:"#clip_item_row_"+o.row_id,transform:"translateY("+i+"px)",transition:o.transition}:{element:"#clip_item_row_"+o.row_id,transform:"translateY("+i+"px)"})}else if(h==u.BOTTOM){v.finishRowCount=0;for(var n=g.getLastRowPosition(),a=0;a<v.rowList.length;a++){var r=v.rowList[a],l=n-r.row_index+1,s=(n==r.row_index&&(l=n-r.row_index+2),v.rowGap),s=(n==r.row_index&&(s=0),v.top+(s+f.height)*l);s=c-s,d(p?{element:"#channellist_item_row_"+r.row_id,transform:"translateY("+s+"px)",transition:r.transition}:{element:"#channellist_item_row_"+r.row_id,transform:"translateY("+s+"px)"})}}else m(e)}function m(e){e=getParam(e,!1);v.finishRowCount=0;for(var t=0;t<v.rowList.length;t++){var i=v.rowList[t],o=v.top+(v.rowGap+f.height)*i.row_index;if(o-=_,d(!p||e?{element:"#clip_item_row_"+i.row_id,transform:"translateY("+o+"px)"}:{element:"#clip_item_row_"+i.row_id,transform:"translateY("+o+"px)",transition:i.transition}),e)if(p)for(var n=0;n<i.row_info.totalItem;n++){var a=(f.itemWidth+f.itemGap)*n+f.leftGap;n==i.row_info.currentItemIndex&&i.row_index_data==v.currentRowIndex?d({element:"#item_"+i.row_id+"_"+n,transform:"translate("+a+"px, "+f.topGap+"px) scale(1.2)",transition:A(),border:r+"px solid white",margin:"-"+r+"px"}):d({element:"#item_"+i.row_id+"_"+n,transform:"translate("+a+"px, "+f.topGap+"px)"})}else for(n=0;n<i.row_info.totalItem;n++){a=(f.itemWidth+f.itemGap)*n+f.leftGap;n==i.row_info.currentItemIndex&&i.row_index_data==v.currentRowIndex?d({element:"#item_"+i.row_id+"_"+n,transform:"translate("+a+"px, "+f.topGap+"px) scale(1.2)",border:r+"px solid white",margin:"-"+r+"px"}):d({element:"#item_"+i.row_id+"_"+n,transform:"translate("+a+"px, "+f.topGap+"px)"})}}}function i(e){switch(e){case KEY_DOWN:if(h=w(1),v.currentRowIndex==v.totalRow-1)g.onLostFocusDownFn&&g.onLostFocusDownFn(g);else{if(v.currentRowIndex>=v.totalRow-2||v.totalRow<=v.visibleRow){if(g.fireLostFocusEvent(),v.currentRowIndex++,v.currentRowIndex==v.totalRow-1&&1<v.totalRow){_=f.itemHeight/2+SPA.convertScale(100);for(var t=0;t<v.rowList.length;t++)v.rowList[t].transition=A();y(),_=0}}else{var i=g.getLastRowIndex();if(i>v.totalRow-2){g.fireLostFocusEvent(),v.currentRowIndex++;for(t=0;t<v.rowList.length;t++)v.rowList[t].row_index--,v.rowList[t].transition=A(),$("#clip_item_row_"+v.rowList[t].row_id).attr("row_index",v.rowList[t].row_index)}else{g.fireLostFocusEvent(),v.currentRowIndex++;for(t=0;t<v.rowList.length;t++){var o=v.rowList[t];if(-2==o.row_index){v.rowList[t].row_index=5,v.rowList[t].row_index_data=i+1,v.rowList[t].transition="none";for(var n=g.dataList[i+1].length,a=0;a<n;a++){$("#item_"+o.row_id+"_"+a).attr("row",i+1),$("#item_"+o.row_id+"_"+a+" img").attr("src",g.dataList[i+1][a].CONTENT_IMAGE_URL);var r="";25<(r=null!=g.dataList[i+1][a].CONTENT_TITLE?g.dataList[i+1][a].CONTENT_TITLE:r).length&&(r=r.substring(0,22)+"..."),$("#item_"+o.row_id+"_"+a+" span .vod_name_vn").html(r)}if(n<4){for(var l=4-n,a=0;a<l;a++)$("#item_"+o.row_id+"_"+(3-a)).hide();v.rowList[t].row_info.totalItem=n}}else v.rowList[t].row_index--,v.rowList[t].transition=A();$("#clip_item_row_"+o.row_id).attr("row_index",v.rowList[t].row_index)}}y()}g.fireFocusEvent()}break;case KEY_UP:if(h=w(-1),0==v.currentRowIndex)g.onLostFocusUpFn&&g.onLostFocusUpFn(g);else{if(v.currentRowIndex>=v.totalRow-1||v.totalRow<=v.visibleRow){if(g.fireLostFocusEvent(),v.currentRowIndex--,v.currentRowIndex==v.totalRow-2){for(var s=0;s<v.rowList.length;s++)v.rowList[s].transition=A();y()}}else{var c=g.getFirstRowIndex();if(0==c){g.fireLostFocusEvent(),v.currentRowIndex--;for(s=0;s<v.rowList.length;s++)v.rowList[s].transition=A(),v.rowList[s].row_index++,$("#clip_item_row_"+v.rowList[s].row_id).attr("row_index",v.rowList[s].row_index)}else{g.fireLostFocusEvent(),v.currentRowIndex--;for(s=0;s<v.rowList.length;s++){var u=v.rowList[s];if(5==u.row_index){v.rowList[s].row_index=-2,v.rowList[s].transition="none",v.rowList[s].row_index_data=c-1;for(var p=0;p<4;p++){$("#item_"+u.row_id+"_"+p).show(),$("#item_"+u.row_id+"_"+p).attr("row",c-1),$("#item_"+u.row_id+"_"+p+" img").attr("src",g.dataList[c-1][p].CONTENT_IMAGE_URL);var m="";25<(m=null!=g.dataList[c-1][p].CONTENT_TITLE?g.dataList[c-1][p].CONTENT_TITLE:m).length&&(m=m.substring(0,22)+"..."),$("#item_"+u.row_id+"_"+p+" span .vod_name_vn").html(m)}v.rowList[s].row_info.totalItem=4}else v.rowList[s].transition=A(),v.rowList[s].row_index++;$("#clip_item_row_"+u.row_id).attr("row_index",v.rowList[s].row_index)}}y()}g.fireFocusEvent()}break;case KEY_RIGHT:!(d=P(v.currentRowIndex))||d.row_info.currentItemIndex>=d.row_info.totalItem-1||(C(d),d.row_info.currentItemIndex++,b(d));break;case KEY_LEFT:(d=P(v.currentRowIndex))&&(0==d.row_info.currentItemIndex?g.onLostFocusLeftFn&&g.onLostFocusLeftFn(g):(C(d),d.row_info.currentItemIndex--,b(d)));break;case KEY_ENTER:I();break;default:isBackKey(e)&&g.onBackFn&&(actionLog("Back",g.wrapObjId),g.onBackFn(g))}var d}function w(e){e=getParam(e,1);var t=v.currentRowIndex,i="";return v.totalRow<=v.visibleRow?u.TOP:0<e?t+e==v.totalRow?u.NONE:t<v.middleRow?u.TOP:u.MIDDLE:e<0?0==t?u.NONE:t<=v.middleRow+1?u.TOP:t>v.middleRow+1?u.MIDDLE:u.NONE:i}function P(e){for(var t=null,i=0;i<v.rowList.length;i++){var o=v.rowList[i];if(o.row_index_data==e){t=o;break}}return t||null}function A(){return"transform "+n+"ms ease 0s"}function d(e){var t,i={transform:e.transform,"-o-transform":e.transform,"-ms-transform":e.transform,"-moz-transform":e.transform,"-webkit-transform":e.transform};t=e.transition||"none",i.transition=t,i["-o-transition"]=t,i["-ms-transition"]=t,i["-moz-transition"]=t,i["-webkit-transition"]=t,e.border?(i.border=e.border,i["-o-border"]=e.border,i["-ms-border"]=e.border,i["-moz-border"]=e.border,i["-webkit-border"]=e.border):(i.border="none",i["-o-border"]="none",i["-ms-border"]="none",i["-moz-border"]="none",i["-webkit-border"]="none"),e.margin?(i["margin-left"]=e.margin,i["-o-margin-left"]=e.margin,i["-ms-margin-left"]=e.margin,i["-moz-margin-left"]=e.margin,i["-webkit-margin-left"]=e.margin,i["margin-top"]=e.margin,i["-o-margin-top"]=e.margin,i["-ms-margin-top"]=e.margin,i["-moz-margin-top"]=e.margin,i["-webkit-margin-top"]=e.margin):(i["margin-left"]="",i["-o-margin-left"]="",i["-ms-margin-left"]="",i["-moz-margin-left"]="",i["-webkit-margin-left"]="",i["margin-top"]="",i["-o-margin-top"]="",i["-ms-margin-top"]="",i["-moz-margin-top"]="",i["-webkit-margin-top"]=""),$(e.element).css(i)}function S(e,t){var i=e.row_id,o=e.row_info.currentItemIndex,e=(f.itemWidth+f.itemGap)*e.row_info.currentItemIndex+f.leftGap;d(p?t?{element:"#item_"+i+"_"+o,transform:"translate("+e+"px, "+f.topGap+"px) scale(1.2)",transition:A(),border:r+"px solid white",margin:"-"+r+"px"}:{element:"#item_"+i+"_"+o,transform:"translate("+e+"px, "+f.topGap+"px)"}:t?{element:"#item_"+i+"_"+o,transform:"translate("+e+"px, "+f.topGap+"px) scale(1.2)",border:r+"px solid white",margin:"-"+r+"px"}:{element:"#item_"+i+"_"+o,transform:"translate("+e+"px, "+f.topGap+"px)"})}function I(){ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.setOther(g.getCurrentRowIndex(),g.getCurrentItemIndex()),clsLogBehaviorV2.getLogBehaviorParam(g.getSelectedItemId())},null,!0),g.onItemClickFn&&(actionLog("Click",g.wrapObjId),g.onItemClickFn(g))}this.addMore=function(e){var t=(t=[].concat.apply([],g.dataList)).concat(e);g.dataList=t,g.dataList=arrayTo2Dimension(g.dataList,4),v.totalRow=g.dataList.length},this.init=function(e){g.dataList=arrayTo2Dimension(g.dataList,4),v.totalRow=g.dataList.length,v.bottomIndex=v.rowList.length-1-2,s(),v.currentRowIndex=0;var t,i=$("#"+g.wrapObjId).css("height");i="%"==i.substring(i.length-1)?(t=parseInt(i),SPA.screenHeight*t/100):parseInt(i),c=i,v.middleY=(c-f.itemHeight)/2-SPA.convertScale(130),g.setSelectedItem(g.rowIndex,g.colIndex)},this.reset=function(){h=u.TOP,v.currentRowIndex=0,g.rowIndex=0,g.colIndex=0,this.init(1)},this.getName=function(){return this.wrapObjId},this.hide=function(){$("#"+g.wrapObjId).hide()},this.show=function(){$("#"+g.wrapObjId).show()},this.setSelectedItem=function(e,t){o.disable();for(var i=0;i<e;i++)g.sendKey(KEY_DOWN,!1);for(i=0;i<t;i++)g.sendKey(KEY_RIGHT,!1);setTimeout(function(){o.enable()},200)},this.getCurrentRowIndex=function(){return v.currentRowIndex},this.getCurrentItemIndex=function(){return P(v.currentRowIndex).row_info.currentItemIndex},this.getSelectedRow=function(){return P(v.currentRowIndex)},this.getFirstRowIndex=function(){for(var e=[],t=0;t<v.rowList.length;t++)e.push(v.rowList[t].row_index_data);return Math.min.apply(null,e)},this.getLastRowIndex=function(){for(var e=[],t=0;t<v.rowList.length;t++)e.push(v.rowList[t].row_index_data);return Math.max.apply(null,e)},this.getLastRowPosition=function(){for(var e=[],t=0;t<v.rowList.length;t++)e.push(v.rowList[t].row_index);return Math.max.apply(null,e)},this.setFocus=function(){g.fireFocusEvent()},this.lostFocus=function(){g.fireLostFocusEvent()},this.gotoTop=function(e){},this.gotoBottom=function(e){},this.sendKey=function(e,t){t=getParam(t,!0),this.onKeyPressed({which:e},t)},this.onKeyPressed=function(e,t){t=getParam(t,!0);e=e.which;e!=KEY_RIGHT&&e!=KEY_LEFT&&lock(t),i(e),setTimeout(function(){unlock(t)},n-100)},this.fireFocusEvent=function(e){b(P(v.currentRowIndex))},this.fireLostFocusEvent=function(e){C(P(v.currentRowIndex))},this.fireLostFocusRightEvent=function(){g.onLostFocusRightFn&&g.onLostFocusRightFn(g)},this.fireLostFocusLeftEvent=function(){g.onLostFocusLeftFn&&g.onLostFocusLeftFn(g)},this.getSelectedItem=function(){var e=P(v.currentRowIndex);return e?g.dataList[e.row_index_data][e.row_info.currentItemIndex]:null},this.getSelectedItemId=function(){var e=P(v.currentRowIndex);return e?"#item_"+e.row_id+"_"+e.row_info.currentItemIndex:null},this.onMouseWheel=function(e){0<e?this.sendKey(KEY_UP):this.sendKey(KEY_DOWN)},this.onMouseMove=function(){g.onMouseMoveFn&&g.onMouseMoveFn()},this.setStatus=function(e){t=e},this.getStatus=function(){return t},g.autoRegister&&o.register(g),this.init(0)},SPA.onKeyPressed=function(t){try{"homeNewUI"==SPA.getCurrentPath()&&fn("clearLastWatchChannelTimeout")}catch(t){lastWatchChannel15s=15}if(27==(t=t||window.event).keyCode||t.keyCode==KEY_RETURN||t.keyCode==KEY_ENTER)try{t.preventDefault()}catch(e){t.returnValue=!1}var e=t.which;if(isBackKey(e))try{clsLogBehaviorV2.setAction("system_back")}catch(e){console.log(e)}if(e!=KEY_LEFT&&e!=KEY_RIGHT&&e!=KEY_UP&&e!=KEY_DOWN&&e!=KEY_ENTER||SPA.inCreaseMoveCount(),e==KEY_SAMSUNG_COLORF0RED&&(this.timesForceApp++,console.warn(this.timesForceApp),1==this.timesForceApp&&setTimeout(function(){SPA.timesForceApp=0},1e4),6<=this.timesForceApp))this.forceApp();else if((e==KEY_SAMSUNG_COLORF1GREEN||e==KEY_GREEN||68==e)&&(this.timesDiagnostic++,console.warn(this.timesDiagnostic),1==this.timesDiagnostic&&setTimeout(function(){SPA.timesDiagnostic=0},1e4),6<=this.timesDiagnostic))this.diagnosticSwitch();else{try{getParam(gClsTaskManager,null)&&gClsTaskManager.onKeyPressed(t)}catch(t){}if(gIsShowPopupNotification)ModuleManager.loadFile("clsNotification",function(){objNotification.isShowPopup&&(null!=objNotification.currentData&&(1==objNotification.currentData.is_play_content||1==objNotification.currentData.is_linkable)?objNotification.onKeyPressed(t):(gIsShowPopupNotification=!1,objNotification.hidePopUp()))},null,!0);else if(e==KEY_MENU||e==KEY_HOME)this.gotoHomepage();else if(this.bEnable){if(13==t.keyCode&&eko("SPA : KEY ENTER : spa.js line 406"),APP_CURRENT_STATE!=APP_STATE.POPUP&&0==gNotificationShow&&0==isAdvertiseOpen){var i=gConfig.getDeviceType();if((1==isLG()||1==isSS()||i==DEVICE_TYPE.WEB||i==DEVICE_TYPE.SONYHTML5)&&0==gClsKeyPlayChannel.isShowPopup){var o,i=SPA.getCurrentPath();if(-1==["mytvsupport","supportChangePackage","supportHistoryTran","supportPackageExtra","package","supportInfoDevice","supportIntroducePackage","supportInfoPackage","supportDisplay","supportInfoDeviceTCL","supportCustomerCare","notifySupport","notifyDetail","livestreamPlayerVOD","livestreamPlayer","movieTrailerPlayer","radioPlayer","moviePlayer","clipPlayer","musicPlayer","tvodPlayer","loginChangeLink","changeLink","loginChangeUser","fimPlusSplash","changeLinkAAA","moviePlayerNew","hboPlayer","lixi","loadingProfile"].indexOf(i))if("eventsPlay"==i||"channelPlayer"==i||"hboChannelPlayer"==i||"channelPlayer_emc"==i){if(null!=clUIChannelPlayer&&0!=clUIChannelPlayer.channel_id_number){if(0==gClsKeyPlayChannel.show_channel_list&&(0<=gClsKeyPlayChannel.keyCodeNumberKEY.indexOf(e)||0<=gClsKeyPlayChannel.keyCodeCH.indexOf(e)))return ModuleManager.loadFile("clsLogBehaviorV2",function(){""==clsLogBehaviorV2.refer&&clsLogBehaviorV2.setRefer("rcu_number")},null,!0),o={current_path:i,key:e,VMP:VMP,in_play_channel:!0},gClsKeyPlayChannel.setParam(o),void gClsKeyPlayChannel.run();if(0<=gClsKeyPlayChannel.keyCodeUPDOWN.indexOf(e)&&1==gClsKeyPlayChannel.show_channel_list)return o={current_path:i,key:e,VMP:VMP,in_play_channel:!0},gClsKeyPlayChannel.setParam(o),void gClsKeyPlayChannel.run()}}else{if(("search"==i||"loginSelfCare"==i||"manageProfile"==i||"chooseProfile"==i||"supportCommonSetting"==i)&&0<=gClsKeyPlayChannel.keyCodeNumberKEY.indexOf(e))return void fn("handleNumberType",getParam(gClsKeyPlayChannel.keyCodeNumberVALUE[e],""));if(0<=gClsKeyPlayChannel.keyCodeNumberKEY.indexOf(e))return o={current_path:i,key:e,VMP:VMP,in_play_channel:!1},"movie"!=i&&"channel"!=i&&"fimplus"!=i&&"danet"!=i&&"4k"!=i&&"clip"!=i||fn("clearRunBanner"),ModuleManager.loadFile("clsLogBehaviorV2",function(){""==clsLogBehaviorV2.refer&&clsLogBehaviorV2.setRefer("rcu_number")},null,!0),console.log("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~keycode ",e),gClsKeyPlayChannel.setParam(o),gClsKeyPlayChannel.run(),void setTimeout(function(){stopPromoVideo()},2400)}}}APP_CURRENT_STATE==APP_STATE.POPUP&&(i=!1,null!=clDialogAlert&&1==clDialogAlert.isShow&&(clDialogAlert.onKeyPressed(t),i=!0),null!=clDialogConfirm&&1==clDialogConfirm.isShow&&(clDialogConfirm.onKeyPressed(t),i=!0),null!=clAlertErrorQR&&1==clAlertErrorQR.isShow&&(clAlertErrorQR.onKeyPressed(t),i=!0),null!=clDialogErrorQR&&1==clDialogErrorQR.isShow&&(clDialogErrorQR.onKeyPressed(t),i=!0),i)||VMP&&VMP.onKeyPressed(t)}}},gClsKeyPlayChannel.checkinfo=function(){if(gClsKeyPlayChannel.status=1,0==gClsKeyPlayChannel.typePlay)if("0"==gClsKeyPlayChannel.keyCode&&0==gAppReview)stopPromoVideo(),gClsKeyPlayChannel.showChannel0(0),clearTimeout(gClsKeyPlayChannel.timer),gClsKeyPlayChannel.timer=setTimeout(gClsKeyPlayChannel.toChannel0,0);else{gClsKeyPlayChannel.channelSelect=null;for(var e=0;e<gClsKeyPlayChannel.dataChannel.length;e++){var t=gClsKeyPlayChannel.dataChannel[e];if(t.SORT_ORDER==gClsKeyPlayChannel.keyCode&&"0"!=getParam(t.ENABLE_REMOTE_NUMBER,1)){gClsKeyPlayChannel.channelSelect=t;break}}gClsKeyPlayChannel.showChannelInfo(1),null==gClsKeyPlayChannel.channelSelect&&3==gClsKeyPlayChannel.keyCode.toString().length&&(gClsKeyPlayChannel.keyCode="",gClsKeyPlayChannel.hasKeyCode=!1),clearTimeout(gClsKeyPlayChannel.timerResetKeyCode),gClsKeyPlayChannel.timerResetKeyCode=setTimeout(gClsKeyPlayChannel.resetKeyCode,2500),clearTimeout(gClsKeyPlayChannel.timer),gClsKeyPlayChannel.timer=setTimeout(gClsKeyPlayChannel.playChannel,2500)}if(1==gClsKeyPlayChannel.typePlay){if(gClsKeyPlayChannel.showChannelInfo(1),clearTimeout(gClsKeyPlayChannel.timer),"0"==getParam(gClsKeyPlayChannel.nextChannelSelect.ENABLE_REMOTE_NUMBER,1))return void setTimeout(function(){gClsKeyPlayChannel.showChannelInfo(0)},2500);gClsKeyPlayChannel.timer=setTimeout(gClsKeyPlayChannel.playChannel,2500)}2==gClsKeyPlayChannel.typePlay&&(gClsKeyPlayChannel.showChannelInfo(1),clearTimeout(gClsKeyPlayChannel.timer),"0"==getParam(gClsKeyPlayChannel.preChannelSelect.ENABLE_REMOTE_NUMBER,1)?setTimeout(function(){gClsKeyPlayChannel.showChannelInfo(0)},2500):gClsKeyPlayChannel.timer=setTimeout(gClsKeyPlayChannel.playChannel,2500))},window.checkStandbySamsung=function(){isSS()&&document.addEventListener("visibilitychange",function(){if(document.hidden){if(console.log("document.hidden"),gIsPlayerPlaying)try{ModuleManager.loadFile("clsSmartView",function(){null!=clsSmartView&&clsSmartView.sendEvent("handle_content",{play_status:"KEY_BACK",value:0})},function(){console.error("Không load được file SmartView")},!0);var e=SPA.getCurrentPath();"channelPlayer"==e||"channelPlayer_emc"==e?clUIChannelPlayer.HandleBack():"homeNewUI"==e?pausePromoVideo():("playlistPlayer"==e?clUIPlaylistPlayer:"channelTvodPlayer"==e?clUIChannelVODPlayer:(clUIVODPlayer.HandleBack(),clUIVODPlayerNew)).HandleBack()}catch(e){console.log("checkStandbySamsung error:"+e.message)}}else resumePromoVideo(),is_ss_back=!1,reconnectSocket()})},gClsKeyPlayChannel.showChannelInfo=function(e){var t;0==e?($("#select_channel_key .selected-channel-wr img").attr("src",""),$("#select_channel_key span").html(""),$("#select_channel_key").hide(),gClsKeyPlayChannel.tempKeyCode=""):(e=null,gClsKeyPlayChannel.tempKeyCode=gClsKeyPlayChannel.keyCode,0==gClsKeyPlayChannel.typePlay?e=gClsKeyPlayChannel.channelSelect:1==gClsKeyPlayChannel.typePlay?e=gClsKeyPlayChannel.nextChannelSelect:2==gClsKeyPlayChannel.typePlay&&(e=gClsKeyPlayChannel.preChannelSelect),e=null!=e&&"0"!=getParam(e.ENABLE_REMOTE_NUMBER,1)?(t=e.CONTENT_IMAGE_URL,e.SORT_ORDER):(t="app-images/no-channel.png",gClsKeyPlayChannel.tempKeyCode),gClsKeyPlayChannel.tempKeyCode="",$("#select_channel_key").show(),$("#select_channel_key .selected-channel-wr img").attr("src",t),$("#select_channel_key span").html(e))},window.getParam=function(e,t){return void 0!==e&&null!=e&&"null"!=e&&0!=e.length&&null!=e&&"undefined"!=e||"function"==typeof e?e:void 0===t?null:t},window.getTypePlayer=function(){return null!=gPlayParam&&0!=gPlayParam.length&&"NULL"!=getParam(gPlayParam.PLAYER_TYPE,"NULL")?gPlayParam.PLAYER_TYPE:"NULL"},gClsKeyPlayChannel.run=function(){try{if(null!=clsSurvey&&"null"!=clsSurvey&&clsSurvey.isShow)return}catch(e){}if(0==gClsKeyPlayChannel.param.in_play_channel){gShowGuideChannel=!0;gClsKeyPlayChannel.param.current_path;var e=gClsKeyPlayChannel.keyCodeNumberVALUE[gClsKeyPlayChannel.param.key];1==gClsKeyPlayChannel.hasKeyCode?gClsKeyPlayChannel.keyCode.toString().length<3&&(clearTimeout(gClsKeyPlayChannel.timer),gClsKeyPlayChannel.keyCode=gClsKeyPlayChannel.keyCode+""+e,"0"==gClsKeyPlayChannel.keyCode.substr(0,1)&&(gClsKeyPlayChannel.keyCode=gClsKeyPlayChannel.keyCode.substr(1,gClsKeyPlayChannel.keyCode.length-1)),gClsKeyPlayChannel.typePlay=0,gClsKeyPlayChannel.checkinfo()):(gClsKeyPlayChannel.hasKeyCode=!0,gClsKeyPlayChannel.keyCode=e,gClsKeyPlayChannel.typePlay=0,gClsKeyPlayChannel.checkinfo())}else if(""!=getParam(gPlayParam.ad_data,"")&&"1"==window.isPlayingAds&&""!=getParam(gPlayParam.ad_data.ad_info,"")&&1!=getParam(gPlayParam.ad_data.ad_info,""))VMP.onKeyPressed({keyCode:gClsKeyPlayChannel.param.key,which:gClsKeyPlayChannel.param.key});else{gShowGuideChannel=!1;var t,i,o,n=gConfig.getDeviceType();if(gClsKeyPlayChannel.param.key==KEY_DOWN||gClsKeyPlayChannel.param.key==KEY_UP)VMP&&VMP.onKeyPressed({keyCode:gClsKeyPlayChannel.param.key,which:gClsKeyPlayChannel.param.key});else if(gClsKeyPlayChannel.param.key==KEY_ENTER)1==clsMulticam.gIsPlayingMulticam?VMP.onKeyPressed({keyCode:gClsKeyPlayChannel.param.key,which:gClsKeyPlayChannel.param.key}):(gClsKeyPlayChannel.show_channel_list=1,0==gClsKeyPlayChannel.param.ok_play_channel?g_currentProfileType==GProfileType.KID?gClsKeyPlayChannel.createChannelListKid():(null==gClsKeyPlayChannel.animationListChannel?(t=null!=(i=getParam(gClsKeyPlayChannel.lstChannelFilter,null))&&0<i.length?(i=checkHBOChannelItem(i),t=gClsKeyPlayChannel.checkChanelPlaying(i),gClsKeyPlayChannel.buildListChannel(t,i)):(gClsKeyPlayChannel.dataChannel=checkHBOChannelItem(gClsKeyPlayChannel.dataChannel),t=gClsKeyPlayChannel.checkChanelPlaying(gClsKeyPlayChannel.dataChannel),gClsKeyPlayChannel.buildListChannel(t,gClsKeyPlayChannel.dataChannel)),$("#player_channel_list_div").show(),$("#player_channel_list").html(t),gClsKeyPlayChannel.hasResponsiveListChannel?SPA.autoResponsive("#player_channel_list",0):(gClsKeyPlayChannel.hasResponsiveListChannel=!0,SPA.autoResponsive("#player_channel_list_div",0)),gClsKeyPlayChannel.ColumIndex<0&&(gClsKeyPlayChannel.ColumIndex=0),t={wrap_obj_id:"player_channel_list",VMP:VMP,data:gClsKeyPlayChannel.dataChannel,left:0,right:3,row_index:gClsKeyPlayChannel.RowIndex,col_index:gClsKeyPlayChannel.ColumIndex,onItemFocusFn:function(e){},onItemLostFocusFn:function(e){},onItemClickFn:function(e){for(var t=e.getSelectedItem(),i=$(t).attr("channel_id"),o=null,n=0;n<gClsKeyPlayChannel.dataChannel.length;n++)if(gClsKeyPlayChannel.dataChannel[n].CONTENT_ID==i){o=gClsKeyPlayChannel.dataChannel[n];break}null!=o?(gClsKeyPlayChannel.typePlay=0,gClsKeyPlayChannel.channelSelect=o,ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.setRefer("broadcast schedule"),clsLogBehaviorV2.getLogBehaviorParam(t)},null,!0),gClsKeyPlayChannel.playChannel(),null!=gClsKeyPlayChannel.channelSelect&&($("#player_channel_list_div").hide(),$("#player_channel_list_cate").css("margin-left","0px"),gClsKeyPlayChannel.formViewLpsButton=null,gClsKeyPlayChannel.animationListLPS=null,gClsKeyPlayChannel.animationListChannel=null,gClsKeyPlayChannel.formViewCateChannel=null,gClsKeyPlayChannel.formViewLps=null,gClsKeyPlayChannel.show_channel_list=0)):(gClsKeyPlayChannel.isShowPopup=!0,showAlert({VMP:VMP,content:"Không có dữ liệu kênh!",onOKFn:function(){gClsKeyPlayChannel.isShowPopup=!1,VMP.setActive(gClsKeyPlayChannel.animationListChannel.getName())}}))},onBackFn:function(){$("#player_channel_list_div").hide(),gClsKeyPlayChannel.show_channel_list=0,VMP.setActive(clUIChannelPlayer.getName())},onLostFocusUpFn:function(e){VMP.setActive("player_channel_list_cate")},onLostFocusDownFn:function(e){},onMoveFn:function(e,t){}},gClsKeyPlayChannel.animationListChannel=new clsGridviewChannelPlayer(t)):null!=(i=getParam(gClsKeyPlayChannel.lstChannelFilter,null))&&0<i.length&&(gClsKeyPlayChannel.filterChannelCate(i),gClsKeyPlayChannel.animationListChannel.setSelectedItem(gClsKeyPlayChannel.RowIndex,gClsKeyPlayChannel.ColumIndex)),1==gListChannelcategory.length?ApiPost("channel/category-v2",{data:{}},function(e){0==e.result&&null!=e.data&&0<e.data.length&&(gListChannelcategory=e.data),gClsKeyPlayChannel.createListcate()},function(e){gClsKeyPlayChannel.createListcate()}):gClsKeyPlayChannel.createListcate()):VMP&&VMP.onKeyPressed({keyCode:gClsKeyPlayChannel.param.key,which:gClsKeyPlayChannel.param.key}));else if(gClsKeyPlayChannel.param.key==KEY_PgUp&&n==DEVICE_TYPE.WEB||gClsKeyPlayChannel.param.key==KEY_SAMSUNG_CHANNEL_UP&&1==isSS()||gClsKeyPlayChannel.param.key==KEY_NEXT&&1==isLG()){if(0!=(o=0!=gClsKeyPlayChannel.player_channel_id?gClsKeyPlayChannel.player_channel_id:null!=clUIChannelPlayer?clUIChannelPlayer.channel_id_number:0))for(var a=0;a<gClsKeyPlayChannel.dataChannel.length;a++)if(gClsKeyPlayChannel.dataChannel[a].CONTENT_ID==o){a==gClsKeyPlayChannel.dataChannel.length-1?gClsKeyPlayChannel.nextChannelSelect=gClsKeyPlayChannel.dataChannel[0]:gClsKeyPlayChannel.nextChannelSelect=gClsKeyPlayChannel.dataChannel[a+1],gClsKeyPlayChannel.player_channel_id=gClsKeyPlayChannel.nextChannelSelect.CONTENT_ID;break}gClsKeyPlayChannel.typePlay=1,gClsKeyPlayChannel.checkinfo()}else if(gClsKeyPlayChannel.param.key==KEY_PgDown&&n==DEVICE_TYPE.WEB||gClsKeyPlayChannel.param.key==KEY_SAMSUNG_CHANNEL_DOWN&&1==isSS()||gClsKeyPlayChannel.param.key==KEY_PREVIOUS&&1==isLG()){if(0!=(o=0!=gClsKeyPlayChannel.player_channel_id?gClsKeyPlayChannel.player_channel_id:null!=clUIChannelPlayer?clUIChannelPlayer.channel_id_number:0))for(a=0;a<gClsKeyPlayChannel.dataChannel.length;a++)if(gClsKeyPlayChannel.dataChannel[a].CONTENT_ID==o){gClsKeyPlayChannel.preChannelSelect=0==a?gClsKeyPlayChannel.dataChannel[gClsKeyPlayChannel.dataChannel.length-1]:gClsKeyPlayChannel.dataChannel[a-1],gClsKeyPlayChannel.player_channel_id=gClsKeyPlayChannel.preChannelSelect.CONTENT_ID;break}gClsKeyPlayChannel.typePlay=2,gClsKeyPlayChannel.checkinfo()}else 0<=gClsKeyPlayChannel.keyCodeNumberKEY.indexOf(gClsKeyPlayChannel.param.key)&&(gClsKeyPlayChannel.param.current_path,e=gClsKeyPlayChannel.keyCodeNumberVALUE[gClsKeyPlayChannel.param.key],1==gClsKeyPlayChannel.hasKeyCode?gClsKeyPlayChannel.keyCode.toString().length<3&&(clearTimeout(gClsKeyPlayChannel.timer),gClsKeyPlayChannel.keyCode=gClsKeyPlayChannel.keyCode+""+e,"0"==gClsKeyPlayChannel.keyCode.substr(0,1)&&(gClsKeyPlayChannel.keyCode=gClsKeyPlayChannel.keyCode.substr(1,gClsKeyPlayChannel.keyCode.length-1)),gClsKeyPlayChannel.typePlay=0,gClsKeyPlayChannel.checkinfo()):(gClsKeyPlayChannel.hasKeyCode=!0,gClsKeyPlayChannel.keyCode=e,gClsKeyPlayChannel.typePlay=0,gClsKeyPlayChannel.checkinfo()))}},window.ApiPost=function(r,l,s,c,o){try{getParam(l.show_loading,!0)&&showLoading();try{if("undefined"==typeof EMCFlag)console.log("EMCFlag bị reset");else if(1==EMCFlag)for(var e in EMCApi)if(e==r){r=EMCApi[e];break}}catch(e){}var t,i,n,a,u=!1,p=!1,m=!1,d=!1,g=getParam(l.plugin_server,0),h="";if(0!=g)try{null!=gPlugin_server&&(_=getParam(gPlugin_server[g],null),"log_duration"==g&&(_=_.replace(/\/tv\//g,"/v8/")),"api_recommend"==g&&(t=getParam(gAuthenCtlData.service_server.recommend,null))&&(_=t+"api/v1/recommend/",p=!0),"api_abtesting"==g&&(i=getParam(gAuthenCtlData.service_server.abtesting,null))&&(_=i,p=!0),"api_livescore"==g&&(n=getParam(gAuthenCtlData.service_server.livescore,null))&&(_=n),"api_gateway"!=g&&"api_ads"!=g||(_=_.replace(/\/tv\//g,"/"),u=!0),null!=(_="kplus"==g&&(a=getParam(gAuthenCtlData.service_server.kplus,null),d=!0,a)?a:_))?(m=!0,h=_+""+r,console.info(" *******Call API PLUGIN_SERVER_URL******** "+h)):h=gConfig.getDomainAPI()+r}catch(e){console.info(" *******TRY CATCH -- Call API PLUGIN_SERVER_URL******** "),h=gConfig.getDomainAPI()+r}else h=gConfig.getDomainAPI()+r;var _,v=getParam(l.service_server,0);if(0!=v)try{null!=v&&(_=getParam(gAuthenCtlData.service_server[v],"https://apigw.mytv.vn/"),"gateway"==v&&(v="domain_gateway",_=getParam(gAuthenCtlData.domain_authen[v],"https://apigw.mytv.vn/").replace(/\/tv\//g,"/"),u=!0),null!=_)?(m=!0,h=_+""+r,console.info(" *******Call API serviceServer URL******** "+h)):h=gConfig.getDomainAPI()+r}catch(e){console.info(" *******TRY CATCH -- Call API serviceServer URL******** "),h=gConfig.getDomainAPI()+r}gNetWorkControl.getNetworkStatus(function(e){if(e){getParam(l.auto_disable,!0)&&SPA.disable();var n=getParam(o,1),a=(msgGlobal="",getTimeServer().getTime());try{"undefined"==typeof EMCFlag?console.log("EMCFlag bị reset"):1==EMCFlag&&(h=h.replace(/\/tv\//g,"/tv_emc/"))}catch(e){}l.data=appendEventConnectionUUID(l.data),e="GET"==getParam(l.connect_type,"POST")||p||d?getParam(l.data):(l.data=appendProfileInfo(l.data),ObjecttoParams(getParam(l.data)));var t=null;1!=p&&1!=u&&!d||(t={Authorization:"Bearer "+getParam(gDeviceInfo.Session,"")}),apiLog(r,"request",ObjecttoParams(getParam(l.data)),gServerResponse.member_id,gServerResponse.device_id,!1,1),$.ajax({type:getParam(l.connect_type,"POST"),url:h,headers:t,dataType:"json",timeout:getParam(l.timeout,15e3),data:e,error:function(e,t,i){try{n>=gMaxRetryApi?("parsererror"==t?apiLog(r,"response","{error:Api error - loi format json}",gServerResponse.member_id,gServerResponse.device_id,!0,-1):apiLog(r,"response","{error:Api error - khong co internet}",gServerResponse.member_id,gServerResponse.device_id,!0,-2),getParam(l.auto_disable,!0)&&SPA.enable(),hideLoading(),500!=e.statusCode&&403!=e.statusCode&&404!=e.statusCode||(msgGlobal="Lỗi mạng "+e.statusCode+" (-8)"),"timeout"==e.statusText&&(msgGlobal="Không thể thiết lập kết nối đến máy chủ. Vui lòng kiểm tra lại mạng hoặc thử lại sau! (-6)"),c(),0==m&&"log/net-log-image-error"!=r&&"memcache/write-duration-v2"!=r&&"end-content"!=r&&"movie/break-point"!=r&&"other/net-log-cdn"!=r&&"memcache/write-duration-v2"!=r&&"notification/update-fcm"!=r&&showAutoHideWarning(e.statusText+" ("+r+")")):(getParam(l.auto_disable,!0)&&SPA.enable(),n++,1!=gUserDebugLog&&2!=gUserDebugLog||(o={retry_count:n,request_type:"That bai",url:gConfig.getDomainAPI()+r,time:a,param:ObjecttoParamsTest(l.data)},ApiWriteLog(JSON.stringify(o))),ApiPost(r,l,s,c,n));var o={content:"xhr: "+JSON.stringify(e)+"options: "+JSON.stringify(t)+"thrownError: "+JSON.stringify(i),pathSteps:"error call api"};"changeLinkAAA"!=getShortURL()&&ModuleManager.loadFile("clsClientLog",function(){clsClientLog.saveLog(o)},null,!0)}catch(e){"get-config-v3"==r||"get-config"==r?showAlert({VMP:VMP,content:"Có lỗi khi gọi API "+r+" (onError)("+e.message+")",button_text:"OK",onOKFn:function(){processRestart()}}):showAlert({VMP:VMP,content:"Có lỗi khi gọi API "+r+" (onError)("+e.message+")",button_text:"OK",onOKFn:function(){gotoHomeError("")}})}},success:function(e){try{var t,i;1!=gUserDebugLog&&2!=gUserDebugLog||(t={retry_count:n,request_type:"Thanh cong",url:gConfig.getDomainAPI()+r,time:a,param:ObjecttoParamsTest(l.data)},ApiWriteLog(JSON.stringify(t)),i={url:gConfig.getDomainAPI()+r,time:a,data:e},ApiWriteLog(JSON.stringify(i))),apiLog(r,"response",e,gServerResponse.member_id,gServerResponse.device_id,!0,1),console.log(e),getParam(l.auto_hide_loading,!0)&&hideLoading(),getParam(l.auto_disable,!0)&&SPA.enable(),0<=e.result?921==e.result?showAlert({VMP:VMP,content:e.message,button_text:lang("common_popup_retry"),onOKFn:function(){ApiPost(r,l,s,c,o)}}):965==e.result?showAlert({VMP:VMP,content:e.message,button_text:"Đồng ý",onOKFn:function(){g_currentProfile=null,gDeviceAPI.writeData("g_currentProfile",null),reAuthen(function(){SPA.location("chooseProfile")},function(){SPA.location("chooseProfile")})}}):(500!=e.result||""!=(msgGlobal=e.message)&&null!=msgGlobal||(msgGlobal="Lỗi mạng 500 (-8)"),s(e)):(-404!=e.result||""!=(msgGlobal=e.message)&&null!=msgGlobal||(msgGlobal="Lỗi không tìm thấy API"),-50==e.result?"memcache/write-duration-v2"!=r&&"end-content"!=r?(kickDevice(),globalGetConfigBeforeLogin(function(){showAlert({VMP:VMP,content:e.message,onOKFn:function(){SPA.location("loginSelfCare")}})})):c():-20==e.result||-21==e.result||-22==e.result||-23==e.result||-9==e.result?m?s(e):"movie/break-point"==r||"other/net-log-cdn"==r||"memcache/write-duration-v2"==r?c():n>=gMaxRetryApi||gRetryCountData>=gMaxRetryApi?(gRetryCountData=1,c()):!gIsAuthenGetSession||"get-config-v3"!=r&&"get-config"!=r&&"channel/list-v3"!=r&&"channel/list"!=r&&"homepage-v4"!=r?(gRetryCountData++,DOMAIN_CTL[gDevMode.toUpperCase()].CTL1_RUN=!0,DOMAIN_CTL[gDevMode.toUpperCase()].CTL2_RUN=!1,ApiCallCTL(DOMAIN_CTL[gDevMode.toUpperCase()].CTL1,function(){-23==e.result&&updateFCM(),ApiPost(r,l,s,c,gMaxRetryApi)},function(){c()})):(msgGlobal="Có lỗi Session ("+e.result+")",gIsAuthenGetSession=!1,showConfirm({VMP:VMP,content:getParam(e.message,lang("common_error_message")),button_ok_text:lang("common_popup_retry"),button_cancel_text:"Thoát",onOKFn:function(){DOMAIN_CTL[gDevMode.toUpperCase()].CTL1_RUN=!0,DOMAIN_CTL[gDevMode.toUpperCase()].CTL2_RUN=!1,ApiCallCTL(DOMAIN_CTL[gDevMode.toUpperCase()].CTL1,function(){-23==e.result&&updateFCM(),ApiPost(r,l,s,c,gMaxRetryApi)},function(){c()})},onCancelFn:function(){isTizen()?tizen.application.getCurrentApplication().exit():1!=isLG()&&gConfig.getDeviceType()!=DEVICE_TYPE.PANASONIC||window.close()}})):-3==e.result||-1==e.result||-2==e.result||-34==e.result||-32==e.result||-111==e.result||-103==e.result||-39==e.result?s(e):-999==e.result?"admedia/get-advertise-loged"==r||"admedia/get-advertise"==r||"check/emc"==r?s(e):showAlert({VMP:VMP,content:e.message,button_text:"OK",onOKFn:function(){processRestart()}}):c())}catch(e){"get-config-v3"==r||"get-config"==r?showAlert({VMP:VMP,content:"Quý khách vui lòng thử lại hoặc liên hệ CSKH 18001166 (0đ) để được tư vấn và hỗ trợ!",button_text:"OK",onOKFn:function(){processRestart()}}):showAlert({VMP:VMP,content:"Quý khách vui lòng thử lại hoặc liên hệ CSKH 18001166 (0đ) để được tư vấn và hỗ trợ!",button_text:"OK",onOKFn:function(){gotoHomeError("")}})}}})}else setTimeout(function(){hideLoading(),showAlertFull({VMP:VMP,error_code:"-31",title:"Kết nối dịch vụ bị gián đoạn.",content:"Quý khách vui lòng tắt bật lại modem mạng/Wifi để thử lại hoặc liên hệ CSKH 18001166 (0đ) để được tư vấn và hỗ trợ!",button_text:lang("common_popup_retry"),onOKFn:function(){ApiPost(r,l,s,c,o)}})},50)})}catch(e){"get-config-v3"==r||"get-config"==r?showAlert({VMP:VMP,content:"Quý khách vui lòng thử lại hoặc liên hệ CSKH 18001166 (0đ) để được tư vấn và hỗ trợ!",button_text:"OK",onOKFn:function(){processRestart()}}):showAlert({VMP:VMP,content:"Quý khách vui lòng thử lại hoặc liên hệ CSKH 18001166 (0đ) để được tư vấn và hỗ trợ!",button_text:"OK",onOKFn:function(){gotoHomeError("")}})}},window.isSendLogPlayer=0,window.saveLogErrorCDN=function(e,t,i,o,n,a,r,l,s){try{0<i&&(c=getTimeServer(),i=Math.floor(c.getTime()/1e3)-i),i<0&&(i=0);var c,u=0;try{0<t.search(".mpd")&&(u=1)}catch(r){}var p={show_loading:!0,data:{is_drm:u,content_id:e,play_url:t,duration:i,type_id:o,cdn_url:n,app_version:gVersionNumber,tag:a,error_play:r,error_code:l,err_type:"1",description:""}};1==isSendLogPlayer?console.info("same log -> do not send"):(window.isSendLogPlayer=1,""!=getParam(window.log_error_player,"")&&$.ajax({type:"POST",url:window.log_error_player+"api/v1/log-player",dataType:"json",timeout:1e4,data:ObjecttoParams(getParam(p.data)),error:function(e,t,i){s&&s(0)},success:function(e){if(0==e.result)try{s&&s(e.data.id)}catch(e){s&&s(0)}else s&&s(0)},complete:function(e,t){}}))}catch(e){s&&s(0)}},window.updateFCM=function(){},window.checkHBOChannelItem=function(e){return e},SPA.checkShowLeftMenuNav=function(e){},window.checkShowLeftmenuIcon=function(e){if("homeNewUI"==e)return!0;for(var t in routerConfig)if(routerConfig[t].key==e)return 1==routerConfig[t].is_support_icon_left_menu},window.LOG_BEHAVIOR_TYPE={AUTOMATIC:1,MANUAL:2},window.moveCount=0,SPA.inCreaseMoveCount=function(){moveCount++},SPA.resetMoveCount=function(){moveCount=0},SPA.getScreenName=function(){try{return SPA.screenName}catch(e){}},SPA.setScreenName=function(e){SPA.screenName=e},SPA.setScreenNameBack=function(e){SPA.screenNameBack=e},SPA.getScreenBeforePopup=function(){try{return SPA.screenBeforePopup}catch(e){console.log(e)}},SPA.setScreenBeforePopup=function(e){try{SPA.screenBeforePopup=e}catch(e){console.log(e)}},gClsKeyPlayChannel.playChannel=function(){gClsKeyPlayChannel.status=0,gClsKeyPlayChannel.showChannelInfo(0),clearTimeout(gClsKeyPlayChannel.timer),clearTimeout(gClsKeyPlayChannel.timerResetKeyCode),gClsKeyPlayChannel.timer=null,gClsKeyPlayChannel.keyCode="",gClsKeyPlayChannel.hasKeyCode=!1;var e,t,i=null;0==gClsKeyPlayChannel.typePlay&&(i=gClsKeyPlayChannel.channelSelect),1==gClsKeyPlayChannel.typePlay&&(i=gClsKeyPlayChannel.nextChannelSelect),2==gClsKeyPlayChannel.typePlay&&(i=gClsKeyPlayChannel.preChannelSelect),JSON.stringify(i),null==i?JSON.stringify("++ Channel null ++"):null!=clUIChannelPlayer&&clUIChannelPlayer.channel_id_number==i.CONTENT_ID?JSON.stringify("++ Kenh chon dang Play ++"):(-1!=(t=(e=window.location.hash.substring(1)).lastIndexOf("&"))&&(e=e.substring(0,t)),0==gClsKeyPlayChannel.param.in_play_channel&&-1==e.indexOf("channelTvodPlayer")&&SPA.savePath(e),gClsKeyPlayChannel.param.in_play_channel&&clUIChannelPlayer.CanncelPlayer(),-1!=e.indexOf("channelTvodPlayer")&&null!=clUIChannelVODPlayer&&clUIChannelVODPlayer.CanncelPlayer(),JSON.stringify("++ Play channel number 0 ++"),t="","channel_0"==(t="/"==(t=1<(e=SPA.getFullURLCurrent().split("?")).length?e[0]:gClsKeyPlayChannel.urlBack).substr(0,1)?t.substr(1,t.length-1):t)&&clChannelPlayerQC.funcEventEnded(),JSON.stringify("++ Play channel number 1 ++"),ModuleManager.loadFile("clsMenuHomepage",function(){null!=objMenuHomepageB2C&&objMenuHomepageB2C.hide()},null,!0),JSON.stringify("++ Play channel number 2 ++"),gClsKeyPlayChannel.player_channel_id=0,ModuleManager.loadFile("clsLogBehaviorV2",function(){0==gClsKeyPlayChannel.typePlay?"poster"!=clsLogBehaviorV2.action?clsLogBehaviorV2.setAction("channel_by_number"):clsLogBehaviorV2.setKeyword(routerManager.getParam("id",0)):(clsLogBehaviorV2.setAction("channel_ch_plus_minus "),clsLogBehaviorV2.setKeyword(routerManager.getParam("id",0))),clsLogBehaviorV2.setContentID(i.CONTENT_ID,""),clsLogBehaviorV2.setTypeId(1)},null,!0),JSON.stringify("++ Play channel number 3 ++"),SPA.location("channelPlayer?id="+i.CONTENT_ID))},SPA.savePath=function(e){try{if(routerManager.urlList[routerManager.urlList.length-1]==e)return}catch(e){}routerManager.push(e),SPA.setScreenNameBack(SPA.screenName)},gClsKeyPlayChannel.buildListChannel=function(e,t){var i=0,o=35,n=0,a=0,r=(t=checkHBOChannelItem(t)).length,l=Math.floor(e/4);try{var s={action:"schedule",writeAction:"1"};clsLogBehaviorV2.addLogBehaviorParam("player_channel_lps_bt",s)}catch(e){console.log(e)}if(r<=28&&(i=0,o=r,a=e-4*(n=l)),28<r){r<(o=(i=(i=4*l-8)<0?0:i)+28)&&(i=(o=r)-28)<0&&(i=0);for(var c=t.slice(i,o),u=0;u<c.length;u++)if((v=c[u]).CONTENT_ID==clUIChannelPlayer.channel_id_number){e=u;break}a=e-4*(n=Math.floor(e/4))}gClsKeyPlayChannel.ColumIndex=n,gClsKeyPlayChannel.RowIndex=a;var p=t.slice(i,o);if(o<16){for(u=0;u<p.length;u++)p[u].isData=!0;for(var m=16-o,d=0;d<m;d++)p.push({isData:!1})}else{for(u=0;u<p.length;u++)p[u].isData=!0;if(o%4!=0)for(var g=4*(Math.floor(o/4)+1)-o,d=0;d<g;d++)p.push({isData:!1})}for(var p=arrayTo2Dimension(p,4),h=Math.floor(i/4),_="",u=0;u<p.length;u++){for(var v,f=u+h,b="width:"+SPA.screenWidth/4+"px",C=(p[u][0].isData?_+='<div id="channel_col_'+f+'" class="other_channel_item_col" style="'+b+'" vmp-col  vmp-style="top-gap:0;item-gap:2;" col_index_data="'+f+'">':_+='<div id="channel_col_'+f+'" class="other_channel_item_col" style="'+("left:"+(SPA.screenWidth/4+1)*u+"px;")+'">',0),d=0;d<p[u].length;d++)if((v=p[u][d]).isData){C+=0==d?0:80*SPA.getScale();var y=Math.ceil(78*SPA.getScale()),w="channel_item_"+f+"_item_"+d,P="";try{var A={action:"poster"};A.contentId=v.CONTENT_ID,A.typeId="1",A.cateId=getParam(gClsKeyPlayChannel.cate_focused,"1"),P=clsLogBehaviorV2.addLogBehaviorParamString(A)}catch(e){console.log(e)}_+='  <div class="other_channel_item" '+P+' style="'+b+";height:"+y+'px;" vmp-item id="'+w+'" channel_id="'+v.CONTENT_ID+'" >',0<v.HAS_SCHEDULE&&0<v.TVOD?_+='    <span class="other-channel-tvod"> <img src="app-images/upgrate/tvod_icon.png"> </span>':0<v.HAS_SCHEDULE&&0==v.TVOD?_+='    <span class="other-channel-tvod"> <img src="app-images/upgrate/tvod_icon_white.png"> </span>':_+='    <span class="other-channel-tvod" style="display: none;"> <img src="app-images/upgrate/tvod_icon.png"> </span>',_+='    <span class="other-channel-key-text number" >'+v.SORT_ORDER+"</span>",P=checkUpperCase(v.CONTENT_TITLE)?Math.ceil(10*SPA.getScale()):Math.ceil(12*SPA.getScale()),_=(_+='    <span class="other-channel-key-text name" style="left:20px;">'+truncateV2(v.CONTENT_TITLE,P)+"</span>")+('    <img  class="other_channel_item_img" src="'+v.CONTENT_IMAGE_SMALL+'" onerror="showDefaultImage(this,1);">')+"  </div>"}else{C+=0==d?0:80*SPA.getScale();y=78*SPA.getScale(),_=_+('  <div class="other_channel_item" style="'+("left:1px;top:"+C+"px;width:"+Math.ceil(SPA.standardWidth/4*SPA.getScale())+"px;height:"+y+"px;")+'" >')+"  </div>"}_+="</div>"}return _},gClsKeyPlayChannel.buildTemplateLPS=function(e){gClsKeyPlayChannel.buildTemplateLPSHeader();for(var t=JSON.parse(JSON.stringify(e)),i=(gClsKeyPlayChannel.lpsItemsNodata=0,gClsKeyPlayChannel.tvod_hour_date=getTimeServer(),gClsKeyPlayChannel.tvod_hour_date.setHours(gClsKeyPlayChannel.tvod_hour_date.getHours()-gClsKeyPlayChannel.tvod_hour),t.SCHEDULE_CONTENT.length),o=null,n=0;n<i-1;n++)if(gClsKeyPlayChannel.isProgramLive(t.SCHEDULE_CONTENT[n].time,t.SCHEDULE_CONTENT[n+1].time,t.SCHEDULE_DATE)){o=t.SCHEDULE_CONTENT[n];break}null==o&&1==gClsKeyPlayChannel.sameDay(new Date(t.SCHEDULE_DATE),getTimeServer())&&(o=t.SCHEDULE_CONTENT[i-1]);for(n=0;n<i;n++){var a=gClsKeyPlayChannel.checkTVODStatus(t.SCHEDULE_CONTENT[n].time,t.SCHEDULE_DATE);t.SCHEDULE_CONTENT[n].status=a}for(var r=SPA.screenWidth/2,n=0;n<t.SCHEDULE_CONTENT.length;n++)t.SCHEDULE_CONTENT[n].isData=!0;if(t.SCHEDULE_CONTENT.length%4!=0){e=Math.floor(t.SCHEDULE_CONTENT.length/4);gClsKeyPlayChannel.lpsItemsNodata=4*(e+1)-t.SCHEDULE_CONTENT.length;for(var l=0;l<gClsKeyPlayChannel.lpsItemsNodata;l++)t.SCHEDULE_CONTENT.push({isData:!1})}for(var s="",c=(clUIChannelPlayer&&(s=getParam(clUIChannelPlayer.channel_name,"")),arrayTo2Dimension(t.SCHEDULE_CONTENT,4)),u="",p=40,n=0;n<c.length;n++){for(var m=c[n],d=(u+='<div id="lps_col_'+n+'" class="other_channel_item_col" style="width:'+r+'px; left: 0px;" vmp-col  vmp-style="top-gap:0;item-gap:2;" col_index_data="'+n+'">',0),l=0;l<m.length;l++){var g=m[l];g.isData?(d+=0==l?0:80*SPA.getScale(),u+='<div class="other_channel_item" vmp-item id="lps_item_'+n+"_item_"+l+'"  style="width:'+r+"px;height:"+Math.ceil(78*SPA.getScale())+'px;" channel_id="'+t.CHANNEL_ID+'" status="'+g.status+'" time="'+g.time+'" date="'+t.SCHEDULE_DATE+'" content_name="'+g.title+'" channel_name="'+s+'">',0==g.status?(u=null!==o&&g.time==o.time?(gClsKeyPlayChannel.objPositionLiveItem={row:l,col:n},p=40,20<g.title.replace(/[^A-Z]/g,"").length&&(p=35),(u+='<span class="other-channel-key-text time" isLive="1">'+g.time+"</span> ")+'<span class="other-channel-key-text program" style="color:red;font-weight:bold;">'+truncateV2(g.title,p)+"</span>"):(p=45,20<g.title.replace(/[^A-Z]/g,"").length&&(p=40),(u+='<span class="other-channel-key-text time" isLive="0">'+g.time+"</span> ")+'<span class="other-channel-key-text program">'+truncateV2(g.title,p)+"</span>"),u+='<span class="other-channel-key-text tvod-icon">    <img src="app-images/upgrate/tvod_icon.png"></span>'):u=null!==o&&g.time==o.time?(gClsKeyPlayChannel.objPositionLiveItem={row:l,col:n},p=40,20<g.title.replace(/[^A-Z]/g,"").length&&(p=35),(u+='<span class="other-channel-key-text time" style="color:#acacac;">'+g.time+"</span> ")+'<span class="other-channel-key-text program" style="color:red;font-weight:bold;">'+truncateV2(g.title,p)+"</span>"):(p=45,20<g.title.replace(/[^A-Z]/g,"").length&&(p=40),(u+='<span class="other-channel-key-text time" style="color:#acacac;">'+g.time+"</span> ")+'<span class="other-channel-key-text program" style="color:#acacac;">'+truncateV2(g.title,p)+"</span>"),u+="</div>"):(0==l?d+=0:SPA.screenWidth<=1280?d+=82*SPA.getScale():d+=80*SPA.getScale(),u=u+'<div class="other_channel_item" style="'+("left:1px;top:"+d+"px;")+'"></div>')}u+="</div>"}return u},window.removeFromVMP=function(e){try{if(window.VMP){for(var t=-1,i=0;i<window.VMP.arrObjList.length;i++)if(window.VMP.arrObjList[i].getName()==e){t=i;break}0<=t&&window.VMP.arrObjList.splice(t,1)}}catch(e){}},gClsKeyPlayChannel.hideChannelLPS=function(e){try{gClsKeyPlayChannel.formViewLpsButton=null,gClsKeyPlayChannel.animationListLPS=null,gClsKeyPlayChannel.animationListChannel=null,gClsKeyPlayChannel.formViewCateChannel=null,gClsKeyPlayChannel.formViewLps=null,gClsKeyPlayChannel.show_channel_list=0,gClsKeyPlayChannel.dataLPS=[],1==(e=getParam(e,0))&&(gClsKeyPlayChannel.cate_focused=-1,gClsKeyPlayChannel.lstChannelFilter=null),$("#player_channel_list_div").hide(),$("#player_channellist_lps").hide(),removeFromVMP&&removeFromVMP("player_lps_list")}catch(e){}},window.showAnimationOne=function(){$("#animation_one").show()},window.hideAnimationOne=function(){$("#animation_one").hide()},window.hideAnimationThree=function(){$("#animation_three").hide()},window.showAnimationThree=function(){$("#animation_three").show()},window.leftMenuSupportV2={clAnimationViewMenuLeft:null,timeOutFocusLeftMenuSupport:null,exceptionNonAutoFocus:["restart_app"],exceptionChangeTitle:["multiscreen_devices"],curFunction:"",isFirstShow:!0,checkShowHideSupportLeftMenu:function(e){leftMenuSupportV2.clearTimeoutFocusLeftMenuSupport(),e=handle_path(e);e=routerConfig[e];getParam(e.support_leftmenu_B2C,!1)?leftMenuSupportV2.show():leftMenuSupportV2.hide()},createHtml:function(){if(!$("body #mytvsupport_menuleft").length){for(var e=ModuleManager.getTemplatePath()+"v2/images/new_ui_v3/setting_top.png",t="",i=("online"!=gDevMode&&(t="("+gDevMode+")"),'<div id="mytvsupport_menuleft" class="spp-wrap-r" style="position: fixed !important; z-index: -1; display: none;"><div class="lst-button ic_fst" style="margin-top: '+SPA.convertScale(0)+'px !important;"><div class="item-button"><span id="Menu_Title" vmp-responsive="font-size" style="font-size: '+SPA.convertScale(28)+'px;"><img vmp-responsive="width" src="'+e+'" style="width: '+SPA.convertScale(64)+'px;"> CÀI ĐẶT '+t+'</span></div></div><div id="mytvsupport_menuleft_wr" class="lst-button" style="margin-top: '+SPA.convertScale(20)+'px !important"></div></div><div class="mask-left" id="support_leftmenu_mask" style="z-index: -2;"></div>'),o=($("body").append(i),("undefined"==typeof gMenuSupport||null==typeof gMenuSupport||null==gMenuSupport||0==gMenuSupport.length||"undefined"!=typeof EMCFlag&&1==EMCFlag)&&(gMenuSupport=[{ID:"1",MENU_ID:"0",MENU_HTML5:"info_b2c",MENU_TITLE:"Thông tin tài khoản",MENU_HEADER:"Thông tin tài khoản",MENU_IMAGE_ACTIVE:"app-images/ico_account_active.png",MENU_IMAGE_INACTIVE:"app-images/ico_account.png",MODIFYDATE:"2021-05-17 16:22:20"},{ID:"17",MENU_ID:"0",MENU_HTML5:"common_setting",MENU_TITLE:"Thiết lập chung",MENU_HEADER:"Thiết lập chung",MENU_IMAGE_ACTIVE:"app-images/ico_config_active.png",MENU_IMAGE_INACTIVE:"app-images/ico_config.png",MODIFYDATE:"2021-05-14 14:04:05"}]),"<style>"),i=(o=(o=(o=(o+=".leftmenuv2-row{margin-bottom: 10px; height: "+SPA.convertScale(55)+"px !important;}")+(".leftmenuv2-item{ height: "+SPA.convertScale(40)+"px !important;}"))+".lst-button .item-button {padding: 8px 15px 8px 30px;}"+"@media only screen and (max-width: 1280px) {")+"    .lst-button .item-button {padding: 5px 10px 5px 20px !important;}"+"}",""),n=0;n<gMenuSupport.length;n++){var a=gMenuSupport[n];i+='<div id="leftmenu_row_'+a.MENU_HTML5+'" class="leftmenuv2-row" vmp-row vmp-responsive="margin-bottom, font-size"><div id="leftmenu_item_'+a.MENU_HTML5+'" function="'+a.MENU_HTML5+'" class="item-button leftmenuv2-item" vmp-item vmp-responsive="margin-bottom"><span id="ico-support-wrap" class="ico-support-wrap ico-sp-'+a.MENU_HTML5+'" aria-hidden="true" vmp-responsive="width, height"></span><span class="spansupport" id="span_menu_'+a.MENU_HTML5+'" vmp-responsive="font-size">'+a.MENU_TITLE+"</span></div></div>",o=(o+=".ico-sp-"+a.MENU_HTML5+"{background:url("+a.MENU_IMAGE_INACTIVE+")no-repeat;background-size: 100% 100%}")+(".item-button.focused .ico-sp-"+a.MENU_HTML5+"{background:url("+a.MENU_IMAGE_ACTIVE+")no-repeat;background-size: 100% 100%}")}o+="</style>",$("head").append(o),$("#mytvsupport_menuleft_wr").html(i),SPA.autoResponsive("#mytvsupport_menuleft_wr",0)}},handle_path:function(e){var t;return""==getParam(e,"")?"":(1<(t=(e="/"==e.substr(0,1)?e.substr(1,e.length-1):e).split("?")).length&&(e=t[0],t[1]),e)},hide:function(){$("#mytvsupport_menuleft").hide(),$("#support_leftmenu_mask").hide(),leftMenuSupportV2.clAnimationViewMenuLeft&&leftMenuSupportV2.clAnimationViewMenuLeft.lostFocus()},show:function(){$("#support_leftmenu_mask").show(),$("#mytvsupport_menuleft").show()},createAnimationViewLeftmenu:function(e,t){leftMenuSupportV2.createHtml(),$("#mytvsupport_menuleft_wr").attr("vmp-style","column:1;visible-row:13;auto-hover:false");var i={wrap_obj_id:"mytvsupport_menuleft_wr",VMP:window.VMP,onLostFocusDownFn:null,onLostFocusLeftFn:function(){},onLostFocusRightFn:function(){leftMenuSupportV2.handleLeftMenuLostFocusRight(t)},onItemClickFn:leftMenuSupportV2.handleClickLeftMenu,onItemFocusFn:function(e){var t=e.getSelectedItem(),i=($(t).addClass("focused"),$(t).attr("function"));null==leftMenuSupportV2.timeOutFocusLeftMenuSupport&&(leftMenuSupportV2.timeOutFocusLeftMenuSupport=setTimeout(function(){-1==leftMenuSupportV2.exceptionNonAutoFocus.indexOf(i)&&leftMenuSupportV2.handleClickLeftMenu(e)},500))},onItemLostFocusFn:function(e){leftMenuSupportV2.clearTimeoutFocusLeftMenuSupport();e=e.getSelectedItem();$(e).removeClass("focused")},delay_focus_event:0,use_auto_hightlight:!1,onBackFn:function(){leftMenuSupportV2.clearTimeoutFocusLeftMenuSupport(),$("#mytvsupport_menuleft_wr div div").removeClass("focused"),SPA.goBack()},onMoveFn:function(e,t){}};leftMenuSupportV2.clAnimationViewMenuLeft=new clsAnimationView(i),leftMenuSupportV2.isFirstShow&&setTimeout(function(){$("#mytvsupport_menuleft").show(),leftMenuSupportV2.isFirstShow=!1},100);try{if("string"==typeof e)for(var o=0;o<gMenuSupport.length;o++)if(e==gMenuSupport[o].MENU_HTML5&&-1==leftMenuSupportV2.exceptionChangeTitle.indexOf(leftMenuSupportV2.curFunction)){$(".account-title span:first-child img").attr("src",gMenuSupport[o].HEADER_IMAGE),$(".account-title span:last-child").html(gMenuSupport[o].MENU_HEADER);break}}catch(e){}for(o=0;o<gMenuSupport.length;o++)(n=gMenuSupport[o]).MENU_HTML5!=e&&$("#leftmenu_item_"+n.MENU_HTML5).removeClass("focused");if(""!=routerManager.getParam("supportLeftMenuFocus","")){for(o=0;o<gMenuSupport.length;o++)if((n=gMenuSupport[o]).MENU_HTML5==routerManager.getParam("supportLeftMenuFocus","")){leftMenuSupportV2.clAnimationViewMenuLeft.reset(),leftMenuSupportV2.clAnimationViewMenuLeft.setSelectedItem(o,0);break}}else for(var n,o=0;o<gMenuSupport.length;o++)if((n=gMenuSupport[o]).MENU_HTML5==e){leftMenuSupportV2.clAnimationViewMenuLeft.reset(),leftMenuSupportV2.clAnimationViewMenuLeft.setSelectedItem(o,0);break}VMP.setActive("mytvsupport_menuleft_wr")},handleLeftMenuLostFocusRight:function(e){if(e)e();else switch(SPA.getCurrentPath()){case"mytvsupport":VMP.setActive("vpm_package_list");break;case"packageService":VMP.setActive("vmp_package");break;case"multiscreenDevices":VMP.setActive("device_list_page");break;case"channel_sort_order_support":VMP.setActive("channel_sort_order_support");break;case"supportRemote":VMP.setActive("support_remote");break;case"supportGuide":VMP.setActive("guide_header");break;case"notifySupport":VMP.setActive("notify_header");break;case"supportCommonSetting":VMP.setActive("common_setting_page");break;case"vpoint":VMP.setActive("vpoint_cate");break;case"QRLogin":VMP.setActive("generate-qr");break;case"supportVNPTMeeting":VMP.setActive("support_vnpt_meeting");break;default:console.warn("not handle here")}},handleClickLeftMenu:function(e){leftMenuSupportV2.clearTimeoutFocusLeftMenuSupport();e=e.getSelectedItem(),e=$(e).attr("function");if(leftMenuSupportV2.curFunction=e,"QRLogin"==SPA.currentPath&&"qr-login"!=e&&fn("clearQRInterval"),"info_b2c"!==e)return"language_b2c"!==e&&(isShowLogOut=0),"language_b2c"===e?"supportHistoryTran"==SPA.currentPath?void 0:void SPA.location("supportLanguage"):"history_transaction_b2c"===e?"supportHistoryTran"==SPA.currentPath?void 0:void SPA.location("supportHistoryTran"):"change_package_b2c"===e?"supportInfoPackage"==SPA.currentPath?(1==++isShowChangeDev&&(current_time=new Date,setTimeout(function(){current_time=null,isShowChangeDev=0},3e3)),void(3<=isShowChangeDev&&null!=current_time&&(SPA.savePath(SPA.currentPath),SPA.location("loginChangeLink")))):void SPA.location("supportInfoPackage"):(isShowChangeDev=0,"change_package_eco"===e?"supportPackageECO"==SPA.currentPath?void 0:void SPA.location("supportPackageECO"):"introduce_package_b2c"===e?"supportIntroducePackage"==SPA.currentPath?void 0:void SPA.location("supportIntroducePackage"):"customer_care_b2c"===e?"supportCustomerCare"==SPA.currentPath?void 0:void SPA.location("supportCustomerCare"):"package_extra_b2c"===e?"supportPackageExtra"==SPA.currentPath?void 0:void SPA.location("supportPackageExtra"):"display_b2c"===e?"supportDisplay"==SPA.currentPath?void 0:void SPA.location("supportDisplay"):"multiscreen_package"===e?"multiscreenPackage"==SPA.currentPath?void 0:void SPA.location("multiscreenPackage"):"multiscreen_devices"===e?"multiscreenDevices"==SPA.currentPath?(1==++isShowChangeDevPackage&&(current_time=new Date,setTimeout(function(){current_time=null,isShowChangeDevPackage=0},3e3)),void(3<=isShowChangeDevPackage&&null!=current_time&&(SPA.savePath(SPA.currentPath),SPA.location("loginChangeLink")))):void SPA.location("multiscreenDevices"):"info_device_b2c"===e?"supportInfoDevice"==SPA.currentPath?(isShowChangeDevEco++,console.log("isShowChangeDevEco--"+isShowChangeDevEco),1==isShowChangeDevEco&&(current_time=new Date,setTimeout(function(){current_time=null,isShowChangeDevEco=0},3e3)),void(3<=isShowChangeDevEco&&null!=current_time&&(SPA.savePath(SPA.currentPath),SPA.location("loginChangeLink")))):void SPA.location("supportInfoDevice"):(isShowChangeDevEco=0,"notify"===e?"notifySupport"==SPA.currentPath?void 0:void SPA.location("notifySupport"):"survey_b2c"===e?"supportSurvey"==SPA.currentPath?void 0:void SPA.location("supportSurvey"):"guide"===e?"supportGuide"==SPA.currentPath?void 0:void SPA.location("supportGuide"):"restart"!==e?"remote"===e?"supportRemote"==SPA.currentPath?void 0:void SPA.location("supportRemote"):"promotion"===e?"supportReferralCode"==SPA.currentPath?void 0:void SPA.location("supportReferralCode"):"logout"===e?gIsLogin?void showConfirm({VMP:VMP,content:lang("support_logout_content"),button_ok_text:lang("common_popup_yes"),button_cancel_text:lang("common_popup_no"),onOKFn:function(){processLogOut()},onCancelFn:function(){VMP.setActive("support_menu_b2c")}}):void 0:"common_setting"===e?"supportCommonSetting"==SPA.currentPath?void 0:void SPA.location("supportCommonSetting"):"qr-login"===e?"QRLogin"==SPA.currentPath?void 0:void SPA.location("QRLogin"):"packageService"===e?"packageService"==SPA.currentPath?(1==++isShowChangeDevPackage&&(current_time=new Date,setTimeout(function(){current_time=null,isShowChangeDevPackage=0},3e3)),void(3<=isShowChangeDevPackage&&null!=current_time&&(SPA.savePath(SPA.currentPath),SPA.location("loginChangeLink")))):void SPA.location("packageService"):(isShowChangeDevPackage=0,"channel_sort_order"===e?"channel_sort_order_support"==SPA.currentPath?void 0:void SPA.location("channel_sort_order_support"):"vpoint"===e?"vpoint"==SPA.currentPath?void 0:void SPA.location("vpoint"):"payment_history"===e?"supportPaymentHistory"==SPA.currentPath?void 0:void SPA.location("supportPaymentHistory"):void("restart_app"===e?showConfirm({VMP:VMP,content:lang("support_restart_title"),button_ok_text:lang("common_popup_yes"),button_cancel_text:lang("common_popup_no"),onOKFn:function(){processRestart()},onCancelFn:function(){VMP.setActive("mytvsupport_menuleft_wr")}}):"vnpt_meeting"===e&&"supportVNPTMeeting"!=SPA.currentPath&&SPA.location("supportVNPTMeeting"))):void showConfirm({VMP:VMP,content:lang("support_restart_title"),button_ok_text:lang("common_popup_yes"),button_cancel_text:lang("common_popup_no"),onOKFn:function(){processRestart()},onCancelFn:function(){VMP.setActive("mytvsupport_menuleft_wr")}})));if("mytvsupport_emc"!=SPA.currentPath)if("mytvsupport"==SPA.currentPath){if(1==++isShowLogOut&&(current_time=new Date,setTimeout(function(){current_time=null,isShowLogOut=0},3e3)),5<=isShowLogOut&&null!=current_time)try{showAutoHideWarning(gConfig.getDomainAuthen())}catch(e){}}else try{"undefined"!=typeof EMCFlag&&1==EMCFlag?SPA.location("mytvsupport_emc"):SPA.location("mytvsupport")}catch(e){SPA.location("mytvsupport")}},clearTimeoutFocusLeftMenuSupport:function(){clearTimeout(leftMenuSupportV2.timeOutFocusLeftMenuSupport),leftMenuSupportV2.timeOutFocusLeftMenuSupport=null}},SPA.callController=function(e){clKeyboard=null,clKeyboardSearch=null,clKeyboardNumber=null;var t=(e="/"==e.substr(0,1)?e.substr(1,e.length-1):e).split("?"),i=null,t=(1<t.length&&(e=t[0],i=t[1]),this.currentPath=e,routerConfig[e]);t?(i&&(e+="?"+i),routerManager.setHash(e),this.lastDiv=this.currentDiv,$("#vmp-content1").html(""),$("#vmp-content1").hide(),this.currentDiv="vmp-content",$("#"+this.currentDiv).css({transform:"translateX(0%)",transition:"none"}),$("#"+this.currentDiv).show(),this.templateList=[],i=t.templateUrl,"remote"==t.type?(""!=getParam(t.cssUrl,"")&&ModuleManager.loadCSS(t),getParam(t.templateUrl)?(i=ModuleManager.getTemplatePath()+"v2/"+t.templateUrl+"?t="+Math.random(),console.log("Remote : template",i),this.templateList.push({url:i,element:"#"+this.currentDiv,mode:"add"})):$("#"+this.currentDiv).html("")):this.templateList.push({url:i,element:"#"+this.currentDiv,mode:"add"}),getParam(t.keyboard,!1)&&this.templateList.push({url:"app-views/keyboard.html",element:"#"+this.currentDiv,mode:"append"}),getParam(t.support_leftmenu_B2C,!1),getParam(t.fimplus_leftmenu_B2C,!1)&&(i=ModuleManager.getCommonPath()+"fimplus_left_menu.view.html?t="+Math.random(),console.log("Remote : fimplus_leftmenu_B2C",i),this.templateList.push({url:i,element:"#"+this.currentDiv,mode:"append"})),this.loadView(t)):SPA.enable()},gClsKeyPlayChannel.createListcate=function(){var e;null==gClsKeyPlayChannel.formViewCateChannel&&(e=gClsKeyPlayChannel.buildTemplateCate(),$("#player_channel_list_cate").html(e),SPA.autoResponsive("#player_channel_list_cate",0),gClsKeyPlayChannel.formViewCateChannel=new clsLineObject({wrap_obj_id:"player_channel_list_cate",display_type:"horizontal",color_focus:"white",color_lostfocus:"#acacac",color_select:"#ea7a01",cate_focused:getParam(gClsKeyPlayChannel.cate_focused,-1),padding_right:0,onLostFocusDownFn:function(e){gClsKeyPlayChannel.hasDataChannelCate&&VMP.setActive("player_channel_list")},onLostFocusLeftFn:function(e){1==gClsKeyPlayChannel.hasLPS&&VMP.setActive("player_channel_lps")},onItemFocusFn:function(e){var t=e.getSelectedItem();getParam($("#"+t).attr("cate_id"),1);$("#"+t).attr("cate_id")==e.cateId?($("#"+t).css("color","black"),$("#"+t).css("font-weight","normal")):$("#"+t).css("color","black"),$("#"+t).css("background","#fff"),$("#"+t).css("border-radius","40px")},onItemLostFocusFn:function(e){var t=e.getSelectedItem();$("#"+t).attr("cate_id")==e.cateId?($("#"+t).css("color","#ea7a01"),$("#"+t).css("font-weight","bold")):($("#"+t).css("color","#acacac"),$("#"+t).css("font-weight","normal")),$("#"+t).css("background","transparent")},onItemClickFn:function(e){var e=e.getSelectedItem(),i=getParam($("#"+e).attr("cate_id"),1);if($("#"+e).css("color","black"),0==(gClsKeyPlayChannel.cate_focused=i)||-11==i)ApiPost(-11==i?"channel/my-list-v2":"channel/cate-favorite",{data:{}},function(e){var t=e.data;-11==i&&(t=e.data.data),0==e.result&&0<t.length?(gClsKeyPlayChannel.hasDataChannelCate=!0,gClsKeyPlayChannel.filterChannelCate(t)):(gClsKeyPlayChannel.hasDataChannelCate=!1,$("#player_channel_list").html('<div style="text-align:center;margin-top: 50px;">Chưa có nội dung yêu thích</div>'))},function(e){gClsKeyPlayChannel.hasDataChannelCate=!1,$("#player_channel_list").html('<div style="text-align:center;margin-top: 50px;">Chưa có nội dung yêu thích</div>')});else{for(var t=[],o=0;o<gClsKeyPlayChannel.dataChannel.length;o++)for(var n=gClsKeyPlayChannel.dataChannel[o],a=n.LIST_ID.split(","),r=0;r<a.length;r++)if(a[r]==i){t.push(n);break}0<t.length?(gClsKeyPlayChannel.hasDataChannelCate=!0,gClsKeyPlayChannel.filterChannelCate(t)):(gClsKeyPlayChannel.hasDataChannelCate=!1,$("#player_channel_list").html('<div style="text-align:center;margin-top: 50px;">Không có nội dung</div>'))}},onBackFn:function(e){$("#player_channel_list_div").hide(),gClsKeyPlayChannel.show_channel_list=0,VMP.setActive(clUIChannelPlayer.getName())},VMP:VMP})),null==gClsKeyPlayChannel.formViewLps&&(clUIChannelPlayer?gClsKeyPlayChannel.hasLPS=clUIChannelPlayer.hasLPS:gClsKeyPlayChannel.hasLPS=0,0==gClsKeyPlayChannel.hasLPS?($("#player_channel_lps_bt").css("color","#acacac"),$("#player_channel_lps_bt").css("background","#a25e5e")):($("#player_channel_lps_bt").css("color","#fff"),$("#player_channel_lps_bt").css("background","#c62828")),gClsKeyPlayChannel.formViewLps=new clsFormView({wrap_obj_id:"player_channel_lps",display_type:"horizontal",onLostFocusDownFn:function(e){gClsKeyPlayChannel.hasDataChannelCate&&VMP.setActive("player_channel_list")},onLostFocusUpFn:function(e){},onLostFocusRightFn:function(e){VMP.setActive("player_channel_list_cate")},onLostFocusLeftFn:function(e){},onItemFocusFn:function(e){e=e.getCurrentItem().itemId;$("#"+e).css("color","#fff"),$("#"+e).css("background","#c62828"),$("#"+e).css("border","4px solid #fff"),$("#"+e).css("padding","1px 14px"),$("#"+e).css("box-shadow","rgb(223, 223, 223) 0px 0px 15px")},onItemLostFocusFn:function(e){var t;0==gClsKeyPlayChannel.hasLPS?(t=e.getCurrentItem().itemId,$("#"+t).css("color","#acacac"),$("#"+t).css("background","#a25e5e")):(t=e.getCurrentItem().itemId,$("#"+t).css("color","#fff"),$("#"+t).css("background","#c62828"),$("#"+t).css("border","none"),$("#"+t).css("padding","5px 18px"),$("#"+t).css("box-shadow","none"))},onItemClickFn:function(e){gClsKeyPlayChannel.objPositionLiveItem=null,gClsKeyPlayChannel.showLPS()},onBackFn:function(e){$("#player_channel_list_div").hide(),gClsKeyPlayChannel.show_channel_list=0,VMP.setActive(clUIChannelPlayer.getName())},VMP:VMP}),$("#player_channel_lps_highlight_item").remove()),null!=clUIChannelPlayer&&clUIChannelPlayer.HideGuideChannel(),$("#player_channel_list_div").show(),VMP.setActive("player_channel_list")},window.ApiCallCTL=function(i,o,n,a){gNetWorkControl.getNetworkStatus(function(e){var t={username:gDeviceInfo.Username,device_type:gConfig.getDeviceType(),version_number:gVersionNumber,manufacturer_id:gDeviceInfo.ManufacturerID,device_model:gDeviceInfo.DeviceModel,device_name:gDeviceInfo.DeviceName,version_app:gVersionApp,abtesting_flag:ABTestingFlag},t=appendProfileInfo(t);e?(SPA.disable(),$.ajax({type:"POST",url:i,dataType:"json",timeout:1e4,data:t,error:function(e,t,i){SPA.enable(),1==DOMAIN_CTL[gDevMode.toUpperCase()].CTL1_RUN?(DOMAIN_CTL[gDevMode.toUpperCase()].CTL1_RUN=!1,DOMAIN_CTL[gDevMode.toUpperCase()].CTL2_RUN=!0,ApiCallCTL(DOMAIN_CTL[gDevMode.toUpperCase()].CTL2,o,n)):1==DOMAIN_CTL[gDevMode.toUpperCase()].CTL2_RUN&&showAlertFull({VMP:VMP,error_code:"710",title:"Kết nối dịch vụ bị gián đoạn.",content:"Quý khách vui lòng tắt bật lại modem mạng/Wifi để thử lại hoặc liên hệ CSKH 18001166 (0đ) để được tư vấn và hỗ trợ!",button_text:lang("common_popup_retry"),onOKFn:function(){DOMAIN_CTL[gDevMode.toUpperCase()].CTL1_RUN=!0,DOMAIN_CTL[gDevMode.toUpperCase()].CTL2_RUN=!1,ApiCallCTL(DOMAIN_CTL[gDevMode.toUpperCase()].CTL1,o,n)}})},success:function(e){var t;SPA.enable(),0==e.result?(""!=getParam(e.data,"")&&(e=e.data),gAuthenCtlData=getParam(e,null),gAPIAuthen=getParam(getCurrentProfileAuthenURL(),e.authen_url),console.log("response_data",e),DOMAIN_AUTHEN[gDevMode.toUpperCase()]=checkDomain(e.domain,e.api_version),t='{"link": "'+DOMAIN_AUTHEN[gDevMode.toUpperCase()]+'"}',gDeviceAPI.writeData(gAAAData,t),ApiGetSession(o,n,a)):1==DOMAIN_CTL[gDevMode.toUpperCase()].CTL1_RUN?(DOMAIN_CTL[gDevMode.toUpperCase()].CTL1_RUN=!1,DOMAIN_CTL[gDevMode.toUpperCase()].CTL2_RUN=!0,ApiCallCTL(DOMAIN_CTL[gDevMode.toUpperCase()].CTL2,o,n)):1==DOMAIN_CTL[gDevMode.toUpperCase()].CTL2_RUN&&showAlert({VMP:VMP,content:e.message,button_text:lang("common_popup_retry"),onOKFn:function(){DOMAIN_CTL[gDevMode.toUpperCase()].CTL1_RUN=!0,DOMAIN_CTL[gDevMode.toUpperCase()].CTL2_RUN=!1,ApiCallCTL(DOMAIN_CTL[gDevMode.toUpperCase()].CTL1,o,n)}})}})):setTimeout(function(){1!=DOMAIN_CTL[gDevMode.toUpperCase()].CTL1_RUN&&DOMAIN_CTL[gDevMode.toUpperCase()].CTL1_RUN,showAlertFull({VMP:VMP,error_code:"-31",title:"Kết nối dịch vụ bị gián đoạn.",content:"Quý khách vui lòng tắt bật lại modem mạng/Wifi để thử lại hoặc liên hệ CSKH 18001166 (0đ) để được tư vấn và hỗ trợ!",button_text:lang("common_popup_retry"),onOKFn:function(){ApiCallCTL(i,o,n)}})},50)})};var clsMulticam={gIsPlayingMulticam:0,gMulticamUrl:"",gMulticamData:null,gCurrentCam:0,gMulticamInterval:60,gMulticamIntervalInstance:null,multiCamCurrentFocus:0,isFocusFullScreen:0,isInit:0,getMulticamInfo:function(e){for(var t=0;t<clsMulticam.gMulticamData.info.length;t++)if(console.log("compare",clsMulticam.gMulticamData.info[t]),clsMulticam.gMulticamData.info[t].sort_order==e)return clsMulticam.gMulticamData.info[t]},playMulticam:function(t,i,e){console.log("play multicam called");var o,n=routerManager.getParam("multicamFullscreen",0),a=getParam(e,0);console.log("playMulticam p_number",t),console.log("playMulticam is_full_screen",i),console.log("playMulticam is_hide_zoomout",e),clsMulticam.gCurrentCam==t&&n==i&&1==clsMulticam.gIsPlayingMulticam?console.log("case STOPPPPPPPPPPPPPPPPPPPPPPPPPP AND  return"):(e=clsMulticam.getMulticamInfo(t),0==i?(o=e.moziac_id,e.moziac_code):(o=e.fullscreen_id,e.fullscreen_code),ApiPost("channel/play-multicam",{data:{channel_id:o}},function(e){clUIChannelPlayer&&clUIChannelPlayer.CanncelPlayer(),clsMulticam.gMulticamUrl=e.data.url,clsMulticam.gIsPlayingMulticam=1,clsMulticam.gCurrentCam=t,SPA.location("channelPlayer?id="+o+"&multicamFullscreen="+i+"&IsPlayingMulticam=1&isHideZoomout="+a+"&isPlayMulticam=1"),setTimeout(function(){clUIChannelPlayer&&(clUIChannelPlayer.channel_id_number="267")},2500)},function(e){}))},formatDateForMulticam:function(e){return month=""+(e.getMonth()+1),day=""+e.getDate(),year=e.getFullYear(),month.length<2&&(month="0"+month),day.length<2&&(day="0"+day),[year,month,day].join("-")},checkMulticamSchedule:function(e,t){0==clsMulticam.isInit&&(i='<div id="multicam-fake-wr"><div id="multicam-fake-focus" style="display: none;"></div><img id="logo_multicam" vmp-responsive="height" style="display: none;" src="app-images/mytv_kenh0.png"><div id="multicam-fullscreen-btn" style="display: none;"><img src="./app-images/upgrate/channel_0/fullscreen.png" style="font-size: 28px; width: 25px;" vmp-responsive="font-size, width">Toàn màn hình</div><div id="multicam-btn-back" class="btn-multicam-focus" style="display: none;"><img src="./app-images/upgrate/channel_0/smallscreen.png" style="font-size: 28px; width: 25px;" vmp-responsive="font-size, width">Thu nhỏ</div><div id="multicam-fake-title-time" style="display: none;"></div><div id="multicam-fake-main-title" style="display: none;"></div><div id="multicam-small-thumbnail-1" style="display: none;">CAM1</div><div id="multicam-small-thumbnail-2" style="display: none;">CAM2</div><div id="multicam-small-thumbnail-3" style="display: none;">CAM3</div></div>',$("body #multicam-fake-wr").length&&$("body #multicam-fake-wr").remove(),$("body").append(i)),clsMulticam.isInit=1,console.log("----- checkMulticamSchedule ");var i,o=clsMulticam.gMulticamData.schedule;if(null==o)console.info("case schedule null");else{var n=clsMulticam.getDateTimeForShow("/");0==routerManager.getParam("IsPlayingMulticam",0)&&$("#multicam-fake-main-title").html("");for(var a=0;a<o.length;a++){console.log("currentTime",n);var r=o[a].schedule_date+" "+o[a].start_time,r=(console.log("tmp1",r),o[a].schedule_date+" "+o[a].end_time);if(console.log("tmp2",r),o[a].schedule_date+" "+o[a].start_time<=n&&n<=o[a].schedule_date+" "+o[a].end_time)return 1==clsMulticam.gIsPlayingMulticam?void 0:($("#multicam-fake-title-time").html("Ngày "+o[a].schedule_date+":"),$("#multicam-fake-main-title").html(o[a].description),setTimeout(function(){clsMulticam.calculateMarquee("multicam-fake-main-title")},400),void clsMulticam.playMulticam(1,0))}}clsMulticam.playMulticam(0,1,1)},calculateMarquee:function(e){var t,i,e=document.getElementById(e);i=(t=e).offsetWidth<e.scrollWidth,t=e.offsetHeight<e.scrollHeight,(i||t)&&(i=e,t=document.createElement("marquee"),e=i.innerText,t.innerText=e,i.innerHTML="",i.appendChild(t))},showFakeUI:function(){for(var e="",t=(e+="<style>",e=e+"#multicam-fullscreen-btn { display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; align-items: center; border-radius: 50px; background: #c62828; font-size: 28px; position: fixed; padding: 10px; bottom: 15vh; left: 3vw; border: 0.5vh #fff0 solid }#multicam-btn-back { border-radius: 50px; background: #c62828; font-size: 28px; position: fixed; padding: 10px; bottom: 15vh; left: 3vw; border: 5px #fff0 solid; display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; align-items: center }#multicam-fake-focus { height: 21.5vh; width: 21.5vw; position: fixed; right: 2vw; top: 8vh }.multicam-focus-item1 { border: 1vh white solid !important }.multicam-focus-item2 { top: 38.5vh !important; border: 1vh white solid !important }.multicam-focus-item3 { top: 69vh !important; border: 1vh white solid !important }.btn-multicam-focus { border: 0.6vh white solid !important }#multicam-fake-main-title { position: fixed; bottom: 8vh; left: 20vw; font-size: 2vw; width: 50vw; height: 50px; overflow: hidden; font-weight: bold }#multicam-fake-title-time { display: none; position: fixed; bottom: 8vh; left: 2vw; font-size: 2vw; width: 17vw; height: 50px; overflow: hidden; color: #BEBCBD }#multicam-small-thumbnail-1 { position: absolute; top: 32vh; right: 2vw; text-align: center; width: 23vw; height: 6vh; overflow: hidden; font-size: 2vw }#multicam-small-thumbnail-2 { top: 62vh; position: absolute; right: 2vw; text-align: center; width: 23vw; overflow: hidden; height: 6vh; font-size: 2vw }#multicam-small-thumbnail-3 { top: 92vh; position: absolute; right: 2vw; text-align: center; width: 23vw; overflow: hidden; height: 6vh; font-size: 2vw }"+"</style>",$("#vmp-content").append(e),clsMulticam.setMulticamFocus(),new Array),i=1;i<clsMulticam.gMulticamData.info.length;i++)clsMulticam.gMulticamData.info[i].sort_order!=clsMulticam.gCurrentCam&&t.push(clsMulticam.gMulticamData.info[i].channel_desc);$("#multicam-small-thumbnail-1").html(t[0]),$("#multicam-small-thumbnail-2").html(t[1]),$("#multicam-small-thumbnail-3").html(t[2]),clsMulticam.startMulticamInterval()},hideMulticamFakeUI:function(){$("#multicam-fake-focus").hide(),$("#multicam-fullscreen-btn").hide(),$("#multicam-fake-main-title").hide(),$("#multicam-fake-title-time").hide(),$("#multicam-small-thumbnail-1").hide(),$("#multicam-small-thumbnail-2").hide(),$("#multicam-small-thumbnail-3").hide(),$("#logo_multicam").hide(),clsMulticam.endMulticamInterval()},setMulticamFocus:function(){var e=routerManager.getParam("multicamFullscreen",0),t=routerManager.getParam("isHideZoomout",0);1==e?0==t&&$("#multicam-btn-back").show():($("#multicam-btn-back").hide(),$("#multicam-fake-focus").show(),$("#multicam-fullscreen-btn").show(),$("#multicam-fake-main-title").show(),$("#multicam-fake-title-time").show(),$("#multicam-small-thumbnail-1").show(),$("#multicam-small-thumbnail-2").show(),$("#multicam-small-thumbnail-3").show(),$("#logo_multicam").show(),1==clsMulticam.isFocusFullScreen?($("#multicam-fake-focus").removeClass("multicam-focus-item1"),$("#multicam-fake-focus").removeClass("multicam-focus-item2"),$("#multicam-fake-focus").removeClass("multicam-focus-item3"),$("#multicam-fullscreen-btn").addClass("btn-multicam-focus")):($("#multicam-fullscreen-btn").removeClass("btn-multicam-focus"),$("#multicam-fake-focus").removeClass("multicam-focus-item1"),$("#multicam-fake-focus").removeClass("multicam-focus-item2"),$("#multicam-fake-focus").removeClass("multicam-focus-item3"),0==clsMulticam.multiCamCurrentFocus&&$("#multicam-fake-focus").addClass("multicam-focus-item1"),1==clsMulticam.multiCamCurrentFocus&&$("#multicam-fake-focus").addClass("multicam-focus-item2"),2==clsMulticam.multiCamCurrentFocus&&$("#multicam-fake-focus").addClass("multicam-focus-item3")))},startMulticamInterval:function(){console.log("start multicam interval"),clsMulticam.gMulticamIntervalInstance=setInterval(clsMulticam.checkMulticamSchedule,parseInt(1e3*clsMulticam.gMulticamInterval))},endMulticamInterval:function(){console.log("kill multicam interval"),clearInterval(clsMulticam.gMulticamIntervalInstance),clsMulticam.gIsPlayingMulticam=0},getDateTimeForShow:function(e){var t=new Date,i=t.getFullYear(),o=t.getMonth()+1,n=t.getDate(),a=t.getHours(),r=t.getMinutes(),t=t.getSeconds();return 1==o.toString().length&&(o="0"+o),1==n.toString().length&&(n="0"+n),1==a.toString().length&&(a="0"+a),1==r.toString().length&&(r="0"+r),1==t.toString().length&&(t="0"+t),"-"==e?i+"-"+o+"-"+n+" "+a+":"+r+":"+t:n+"/"+o+"/"+i+" "+a+":"+r+":"+t}},exceptionNonAutoFocus=(window.clsMulticam=clsMulticam,window.PAGE_B2C={INFO:0,LANGUAGE:1,HISTORY:2,CHANGE_PACKAGE:3,PACKAGE_EXTRA:4,DISPLAY:5,INFO_DEVICE:6,CUSTOMER_CARE:7,INTRODUCE_PACKAGE:8,NOTIFY:9,REMOTE:10,PROMOTION:11,GUIDE:12,COMMON_SETTING:13,SURVEY:14,QRLOGIN:15,PACKAGE_ECO:16,PACKAGE:17,CHANNEL_SORT_ORDER:18,VPOINT:19,PAYMENT_HISTORY:20},window.gCurentMenuPageB2C=PAGE_B2C.INFO,window.lostFocusRightFnB2C=null,window.objSupportLeftMenuB2C=null,window.isLostRightTransB2C=!1,window.isLostRightPackageExtra=!1,window.isLostRightInfoDevice=!1,window.isLostRightNotify=!1,window.isShowLogOut=0,window.isShowChangeDev=0,window.isShowChangeDevEco=0,window.isShowChangeDevPackage=0,window.isLostRightRemote=!1,window.isLostRightGuide=!1,window.isLostRightQRLogin=!1,window.isLostRightVPoint=!1,window.isLostRightPaymentHistory=!1,window.gtimeMoveLeftMenu=0,window.gtranslateY=0,["promotion","restart_app"]);function handleClick(e){clearTimeoutFocusLeftMenuSupport();e=e.getCurrentItem().itemId;if("QRLogin"==SPA.currentPath&&"qr-login"!=e&&fn("clearQRInterval"),"info_b2c"!==e)return"language_b2c"!==e&&(isShowLogOut=0),"language_b2c"===e?"supportHistoryTran"==SPA.currentPath?void 0:void SPA.location("supportLanguage"):"history_transaction_b2c"===e?"supportHistoryTran"==SPA.currentPath?void 0:void SPA.location("supportHistoryTran"):"change_package_b2c"===e?"supportInfoPackage"==SPA.currentPath?(1==++isShowChangeDev&&(current_time=new Date,setTimeout(function(){current_time=null,isShowChangeDev=0},3e3)),void(3<=isShowChangeDev&&null!=current_time&&(SPA.savePath(SPA.currentPath),SPA.location("loginChangeLink")))):void SPA.location("supportInfoPackage"):(isShowChangeDev=0,"change_package_eco"===e?"supportPackageECO"==SPA.currentPath?void 0:void SPA.location("supportPackageECO"):"introduce_package_b2c"===e?"supportIntroducePackage"==SPA.currentPath?void 0:void SPA.location("supportIntroducePackage"):"customer_care_b2c"===e?"supportCustomerCare"==SPA.currentPath?void 0:void SPA.location("supportCustomerCare"):"package_extra_b2c"===e?"supportPackageExtra"==SPA.currentPath?void 0:void SPA.location("supportPackageExtra"):"display_b2c"===e?"supportDisplay"==SPA.currentPath?void 0:void SPA.location("supportDisplay"):"multiscreen_package"===e?"multiscreenPackage"==SPA.currentPath?void 0:void SPA.location("multiscreenPackage"):"multiscreen_devices"===e?"multiscreenDevices"==SPA.currentPath?(1==++isShowChangeDevPackage&&(current_time=new Date,setTimeout(function(){current_time=null,isShowChangeDevPackage=0},3e3)),void(3<=isShowChangeDevPackage&&null!=current_time&&(SPA.savePath(SPA.currentPath),SPA.location("loginChangeLink")))):void SPA.location("multiscreenDevices"):"info_device_b2c"===e?"supportInfoDevice"==SPA.currentPath?(isShowChangeDevEco++,console.log("isShowChangeDevEco--"+isShowChangeDevEco),1==isShowChangeDevEco&&(current_time=new Date,setTimeout(function(){current_time=null,isShowChangeDevEco=0},3e3)),void(3<=isShowChangeDevEco&&null!=current_time&&(SPA.savePath(SPA.currentPath),SPA.location("loginChangeLink")))):void SPA.location("supportInfoDevice"):(isShowChangeDevEco=0,"notify"===e?"notifySupport"==SPA.currentPath?void 0:void SPA.location("notifySupport"):"survey_b2c"===e?"supportSurvey"==SPA.currentPath?void 0:void SPA.location("supportSurvey"):"guide"===e?"supportGuide"==SPA.currentPath?void 0:void SPA.location("supportGuide"):"restart"!==e?"remote"===e?"supportRemote"==SPA.currentPath?void 0:void SPA.location("supportRemote"):"promotion"===e?"supportPromotion"==SPA.currentPath?void 0:(SPA.savePath("mytvsupport"),void SPA.location("supportPromotion")):"logout"===e?gIsLogin?void showConfirm({VMP:VMP,content:lang("support_logout_content"),button_ok_text:lang("common_popup_yes"),button_cancel_text:lang("common_popup_no"),onOKFn:function(){processLogOut()},onCancelFn:function(){VMP.setActive("support_menu_b2c")}}):void 0:"common_setting"===e?"supportCommonSetting"==SPA.currentPath?void 0:void SPA.location("supportCommonSetting"):"qr-login"===e?"QRLogin"==SPA.currentPath?void 0:void SPA.location("QRLogin"):"packageService"===e?"packageService"==SPA.currentPath?(1==++isShowChangeDevPackage&&(current_time=new Date,setTimeout(function(){current_time=null,isShowChangeDevPackage=0},3e3)),void(3<=isShowChangeDevPackage&&null!=current_time&&(SPA.savePath(SPA.currentPath),SPA.location("loginChangeLink")))):void SPA.location("packageService"):(isShowChangeDevPackage=0,"channel_sort_order"===e?"channel_sort_order_support"==SPA.currentPath?void 0:void SPA.location("channel_sort_order_support"):"vpoint"===e?"vpoint"==SPA.currentPath?void 0:void SPA.location("vpoint"):"payment_history"===e?"supportPaymentHistory"==SPA.currentPath?void 0:void SPA.location("supportPaymentHistory"):void("restart_app"===e&&showConfirm({VMP:VMP,content:lang("support_restart_title"),button_ok_text:lang("common_popup_yes"),button_cancel_text:lang("common_popup_no"),onOKFn:function(){processRestart()},onCancelFn:function(){VMP.setActive("support_menu_b2c")}}))):void showConfirm({VMP:VMP,content:lang("support_restart_title"),button_ok_text:lang("common_popup_yes"),button_cancel_text:lang("common_popup_no"),onOKFn:function(){processRestart()},onCancelFn:function(){VMP.setActive("support_menu_b2c")}})));if("mytvsupport_emc"!=SPA.currentPath)if("mytvsupport"==SPA.currentPath){if(1==++isShowLogOut&&(current_time=new Date,setTimeout(function(){current_time=null,isShowLogOut=0},3e3)),5<=isShowLogOut&&null!=current_time)try{showAutoHideWarning(gConfig.getDomainAuthen())}catch(e){}}else try{"undefined"!=typeof EMCFlag&&1==EMCFlag?SPA.location("mytvsupport_emc"):SPA.location("mytvsupport")}catch(e){SPA.location("mytvsupport")}}function BitMovinPlayer(){var t,n=this;this.conf=null,this.player=null,this.url="",this.divID="",this.autoplay=!0,this.width="100%",this.height="100%",this.param=null,this.is_play_qnet=!1,this.ad_link="",this.ad_type="vast",this.current_active_sub_id=null,this.setParam=function(e){if(e.VMP,n.param=e,n.url=e.url,n.divID=getParam(e.divID,"videoContainer"),console.log("videoContainer",e.divID),n.autoplay=e.autoplay,n.width=getParam(e.resolutionWidth,"100%"),n.height=getParam(e.resolutionHeight,"100%"),chosenDrm=null,3==n.param.drms.PLAYREADY.drmProvider&&""!=n.param.drms.PLAYREADY.customData&&null!=n.param.drms.PLAYREADY.customData&&(n.is_play_qnet=!0),chosenDrm=1==e.drms.PLAYREADY.drmProvider&&""!=e.drms.PLAYREADY.customData&&null!=e.drms.PLAYREADY.customData||2==e.drms.PLAYREADY.drmProvider&&""!=e.drms.PLAYREADY.deviceId&&null!=e.drms.PLAYREADY.deviceId||3==e.drms.PLAYREADY.drmProvider&&""!=e.drms.PLAYREADY.customData&&null!=e.drms.PLAYREADY.customData?e.drms.PLAYREADY:null,n.param=e,""!=getParam(gPlayParam.ad_data,"")&&""!=getParam(gPlayParam.ad_data.ad_info,"")){n.ad_link=gPlayParam.ad_data.ad_info;var e="",t=window.SS_IFA;isSS()&&(e="PP2MTMRMs9",t=window.SS_IFA),isLG()&&(e="com.mytvb2c.app",t=window.LG_DEVICE_ID);try{n.ad_link=n.ad_link.replace("~BUNDLEID~",e),n.ad_link=n.ad_link.replace("~DEVICEID~",t)}catch(e){console.log(e)}showDebugOnScreen(n.ad_link),n.ad_type=getParam(gPlayParam.ad_data.ad_type,"vast")}console.info("thisObj.ad_link",n.ad_link),console.info("thisObj.ad_type",n.ad_type),$("#bitmovin_custom_style").remove();e="",e=(e+='<style id="bitmovin_custom_style">')+'@charset "UTF-8";/***************************************************************************** Copyright (C) 2020, Bitmovin, Inc., All Rights Reserved** This source code and its use and distribution, is subject to the terms* and conditions of the applicable license agreement.** Bitmovin Player Version 8.51.0*****************************************************************************/#player .bmpui-ui-button-ad-skip{font-size:55px;background-color:yellow;width:500px;height:200px;}.bmpui-ui-airplaytogglebutton,.bmpui-ui-audiotracksettingstogglebutton,.bmpui-ui-buffering-overlay,.bmpui-ui-button,.bmpui-ui-cast-status-overlay,.bmpui-ui-casttogglebutton,.bmpui-ui-clickoverlay,.bmpui-ui-closebutton,.bmpui-ui-component,.bmpui-ui-container,.bmpui-ui-controlbar,.bmpui-ui-errormessage-overlay,.bmpui-ui-fullscreentogglebutton,.bmpui-ui-hugeplaybacktogglebutton,.bmpui-ui-hugereplaybutton,.bmpui-ui-label,.bmpui-ui-listbox,.bmpui-ui-listbox .bmpui-ui-listbox-button,.bmpui-ui-piptogglebutton,.bmpui-ui-playbacktimelabel,.bmpui-ui-playbacktoggle-overlay,.bmpui-ui-playbacktogglebutton,.bmpui-ui-recommendation-overlay,.bmpui-ui-seekbar,.bmpui-ui-seekbar-label,.bmpui-ui-selectbox,.bmpui-ui-settings-panel,.bmpui-ui-settingspanelpagebackbutton,.bmpui-ui-settingspanelpageopenbutton,.bmpui-ui-settingstogglebutton,.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-ui-button-ad-skip,.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-ui-label-ad-message,.bmpui-ui-spacer,.bmpui-ui-subtitle-overlay,.bmpui-ui-subtitlesettingsresetbutton,.bmpui-ui-subtitlesettingstogglebutton,.bmpui-ui-titlebar,.bmpui-ui-uicontainer,.bmpui-ui-volumecontrolbutton,.bmpui-ui-volumeslider,.bmpui-ui-volumetogglebutton,.bmpui-ui-vrtogglebutton,.bmpui-ui-watermark{    /*! placeholder to avoid removal of empty selector */outline:0}.bmpui-ui-buffering-overlay,.bmpui-ui-cast-status-overlay,.bmpui-ui-container,.bmpui-ui-controlbar,.bmpui-ui-errormessage-overlay,.bmpui-ui-listbox,.bmpui-ui-playbacktoggle-overlay,.bmpui-ui-recommendation-overlay,.bmpui-ui-seekbar-label,.bmpui-ui-settings-panel,.bmpui-ui-subtitle-overlay,.bmpui-ui-titlebar,.bmpui-ui-uicontainer,.bmpui-ui-volumecontrolbutton{font-size:1em}.bmpui-ui-uicontainer{height:100%;left:0;margin:0;position:absolute;top:0;width:100%;overflow:hidden;pointer-events:none}.bmpui-ui-uicontainer *{pointer-events:auto}.bmpui-ui-uicontainer.bmpui-hidden{display:none}.bmpui-ui-uicontainer.bmpui-player-state-playing.bmpui-controls-hidden *{cursor:none}.bmpui-ui-uicontainer.bmpui-controls-shown .bmpui-ui-hugeplaybacktogglebutton:focus{box-shadow:inset -4px -3px 2px 9px #1b7fcc}.bmpui-ui-uicontainer.bmpui-no-flexbox{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=")}.bmpui-ui-uicontainer.bmpui-no-flexbox.bmpui-fullscreen{left:0;position:fixed;top:0;z-index:1}.bmpui-ui-controlbar{opacity:1;transition:opacity .3s,visibility 0s;bottom:0;position:absolute;width:100%;background:linear-gradient(180deg,transparent,rgba(0,0,0,.7));box-sizing:border-box;line-height:1em;padding:1em 1em .5em}.bmpui-ui-controlbar.bmpui-hidden{opacity:0;transition:opacity .3s}.bmpui-ui-controlbar .bmpui-controlbar-bottom>.bmpui-container-wrapper,.bmpui-ui-controlbar .bmpui-controlbar-top>.bmpui-container-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;margin:.5em 0}.bmpui-ui-controlbar .bmpui-controlbar-top .bmpui-ui-label{font-size:.9em}.bmpui-ui-controlbar .bmpui-controlbar-top>.bmpui-container-wrapper>*{margin:0 .5em}.bmpui-ui-controlbar .bmpui-controlbar-bottom{white-space:nowrap}.bmpui-ui-controlbar .bmpui-controlbar-bottom>.bmpui-container-wrapper .bmpui-ui-volumeslider{margin:auto .5em;width:5em}.bmpui-no-flexbox .bmpui-ui-controlbar .bmpui-controlbar-bottom>.bmpui-container-wrapper,.bmpui-no-flexbox .bmpui-ui-controlbar .bmpui-controlbar-top>.bmpui-container-wrapper{border-spacing:.5em 0;display:table}.bmpui-no-flexbox .bmpui-ui-controlbar .bmpui-controlbar-bottom>.bmpui-container-wrapper>*,.bmpui-no-flexbox .bmpui-ui-controlbar .bmpui-controlbar-top>.bmpui-container-wrapper>*{display:table-cell;vertical-align:middle}.bmpui-no-flexbox .bmpui-ui-controlbar .bmpui-controlbar-bottom>.bmpui-container-wrapper>.bmpui-hidden,.bmpui-no-flexbox .bmpui-ui-controlbar .bmpui-controlbar-top>.bmpui-container-wrapper>.bmpui-hidden{display:none}.bmpui-no-flexbox .bmpui-ui-controlbar .bmpui-controlbar-bottom>.bmpui-container-wrapper .bmpui-ui-volumeslider,.bmpui-no-flexbox .bmpui-ui-controlbar .bmpui-controlbar-top>.bmpui-container-wrapper .bmpui-ui-volumeslider{width:10%}.bmpui-ui-airplaytogglebutton,.bmpui-ui-audiotracksettingstogglebutton,.bmpui-ui-button,.bmpui-ui-casttogglebutton,.bmpui-ui-clickoverlay,.bmpui-ui-closebutton,.bmpui-ui-fullscreentogglebutton,.bmpui-ui-hugeplaybacktogglebutton,.bmpui-ui-hugereplaybutton,.bmpui-ui-listbox .bmpui-ui-listbox-button,.bmpui-ui-piptogglebutton,.bmpui-ui-playbacktogglebutton,.bmpui-ui-settingspanelpagebackbutton,.bmpui-ui-settingspanelpageopenbutton,.bmpui-ui-settingstogglebutton,.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-ui-button-ad-skip,.bmpui-ui-subtitlesettingsresetbutton,.bmpui-ui-subtitlesettingstogglebutton,.bmpui-ui-volumetogglebutton,.bmpui-ui-vrtogglebutton,.bmpui-ui-watermark{background-color:transparent;background-origin:content-box;background-position:50%;background-repeat:no-repeat;background-size:1.5em;border:0;box-sizing:content-box;cursor:pointer;font-size:1em;height:1.5em;min-width:1.5em;padding:.25em}.bmpui-ui-airplaytogglebutton .bmpui-label,.bmpui-ui-audiotracksettingstogglebutton .bmpui-label,.bmpui-ui-button .bmpui-label,.bmpui-ui-casttogglebutton .bmpui-label,.bmpui-ui-clickoverlay .bmpui-label,.bmpui-ui-closebutton .bmpui-label,.bmpui-ui-fullscreentogglebutton .bmpui-label,.bmpui-ui-hugeplaybacktogglebutton .bmpui-label,.bmpui-ui-hugereplaybutton .bmpui-label,.bmpui-ui-listbox .bmpui-ui-listbox-button .bmpui-label,.bmpui-ui-piptogglebutton .bmpui-label,.bmpui-ui-playbacktogglebutton .bmpui-label,.bmpui-ui-settingspanelpagebackbutton .bmpui-label,.bmpui-ui-settingspanelpageopenbutton .bmpui-label,.bmpui-ui-settingstogglebutton .bmpui-label,.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-ui-button-ad-skip .bmpui-label,.bmpui-ui-subtitlesettingsresetbutton .bmpui-label,.bmpui-ui-subtitlesettingstogglebutton .bmpui-label,.bmpui-ui-volumetogglebutton .bmpui-label,.bmpui-ui-vrtogglebutton .bmpui-label,.bmpui-ui-watermark .bmpui-label{color:#fff;display:none}.bmpui-disabled.bmpui-ui-airplaytogglebutton,.bmpui-disabled.bmpui-ui-audiotracksettingstogglebutton,.bmpui-disabled.bmpui-ui-button,.bmpui-disabled.bmpui-ui-casttogglebutton,.bmpui-disabled.bmpui-ui-clickoverlay,.bmpui-disabled.bmpui-ui-closebutton,.bmpui-disabled.bmpui-ui-fullscreentogglebutton,.bmpui-disabled.bmpui-ui-hugeplaybacktogglebutton,.bmpui-disabled.bmpui-ui-hugereplaybutton,.bmpui-disabled.bmpui-ui-piptogglebutton,.bmpui-disabled.bmpui-ui-playbacktogglebutton,.bmpui-disabled.bmpui-ui-settingspanelpagebackbutton,.bmpui-disabled.bmpui-ui-settingspanelpageopenbutton,.bmpui-disabled.bmpui-ui-settingstogglebutton,.bmpui-disabled.bmpui-ui-subtitlesettingsresetbutton,.bmpui-disabled.bmpui-ui-subtitlesettingstogglebutton,.bmpui-disabled.bmpui-ui-volumetogglebutton,.bmpui-disabled.bmpui-ui-vrtogglebutton,.bmpui-disabled.bmpui-ui-watermark,.bmpui-ui-listbox .bmpui-disabled.bmpui-ui-listbox-button,.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-disabled.bmpui-ui-button-ad-skip{cursor:default}.bmpui-disabled.bmpui-ui-airplaytogglebutton,.bmpui-disabled.bmpui-ui-airplaytogglebutton>*,.bmpui-disabled.bmpui-ui-audiotracksettingstogglebutton,.bmpui-disabled.bmpui-ui-audiotracksettingstogglebutton>*,.bmpui-disabled.bmpui-ui-button,.bmpui-disabled.bmpui-ui-button>*,.bmpui-disabled.bmpui-ui-casttogglebutton,.bmpui-disabled.bmpui-ui-casttogglebutton>*,.bmpui-disabled.bmpui-ui-clickoverlay,.bmpui-disabled.bmpui-ui-clickoverlay>*,.bmpui-disabled.bmpui-ui-closebutton,.bmpui-disabled.bmpui-ui-closebutton>*,.bmpui-disabled.bmpui-ui-fullscreentogglebutton,.bmpui-disabled.bmpui-ui-fullscreentogglebutton>*,.bmpui-disabled.bmpui-ui-hugeplaybacktogglebutton,.bmpui-disabled.bmpui-ui-hugeplaybacktogglebutton>*,.bmpui-disabled.bmpui-ui-hugereplaybutton,.bmpui-disabled.bmpui-ui-hugereplaybutton>*,.bmpui-disabled.bmpui-ui-piptogglebutton,.bmpui-disabled.bmpui-ui-piptogglebutton>*,.bmpui-disabled.bmpui-ui-playbacktogglebutton,.bmpui-disabled.bmpui-ui-playbacktogglebutton>*,.bmpui-disabled.bmpui-ui-settingspanelpagebackbutton,.bmpui-disabled.bmpui-ui-settingspanelpagebackbutton>*,.bmpui-disabled.bmpui-ui-settingspanelpageopenbutton,.bmpui-disabled.bmpui-ui-settingspanelpageopenbutton>*,.bmpui-disabled.bmpui-ui-settingstogglebutton,.bmpui-disabled.bmpui-ui-settingstogglebutton>*,.bmpui-disabled.bmpui-ui-subtitlesettingsresetbutton,.bmpui-disabled.bmpui-ui-subtitlesettingsresetbutton>*,.bmpui-disabled.bmpui-ui-subtitlesettingstogglebutton,.bmpui-disabled.bmpui-ui-subtitlesettingstogglebutton>*,.bmpui-disabled.bmpui-ui-volumetogglebutton,.bmpui-disabled.bmpui-ui-volumetogglebutton>*,.bmpui-disabled.bmpui-ui-vrtogglebutton,.bmpui-disabled.bmpui-ui-vrtogglebutton>*,.bmpui-disabled.bmpui-ui-watermark,.bmpui-disabled.bmpui-ui-watermark>*,.bmpui-ui-listbox .bmpui-disabled.bmpui-ui-listbox-button,.bmpui-ui-listbox .bmpui-disabled.bmpui-ui-listbox-button>*,.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-disabled.bmpui-ui-button-ad-skip,.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-disabled.bmpui-ui-button-ad-skip>*{pointer-events:none}.bmpui-disabled.bmpui-ui-airplaytogglebutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-audiotracksettingstogglebutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-button .bmpui-label:hover,.bmpui-disabled.bmpui-ui-casttogglebutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-clickoverlay .bmpui-label:hover,.bmpui-disabled.bmpui-ui-closebutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-fullscreentogglebutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-hugeplaybacktogglebutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-hugereplaybutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-piptogglebutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-playbacktogglebutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-settingspanelpagebackbutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-settingspanelpageopenbutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-settingstogglebutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-subtitlesettingsresetbutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-subtitlesettingstogglebutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-volumetogglebutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-vrtogglebutton .bmpui-label:hover,.bmpui-disabled.bmpui-ui-watermark .bmpui-label:hover,.bmpui-ui-listbox .bmpui-disabled.bmpui-ui-listbox-button .bmpui-label:hover,.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-disabled.bmpui-ui-button-ad-skip .bmpui-label:hover{text-decoration:none}.bmpui-hidden.bmpui-ui-airplaytogglebutton,.bmpui-hidden.bmpui-ui-audiotracksettingstogglebutton,.bmpui-hidden.bmpui-ui-button,.bmpui-hidden.bmpui-ui-casttogglebutton,.bmpui-hidden.bmpui-ui-clickoverlay,.bmpui-hidden.bmpui-ui-closebutton,.bmpui-hidden.bmpui-ui-fullscreentogglebutton,.bmpui-hidden.bmpui-ui-hugeplaybacktogglebutton,.bmpui-hidden.bmpui-ui-hugereplaybutton,.bmpui-hidden.bmpui-ui-piptogglebutton,.bmpui-hidden.bmpui-ui-playbacktogglebutton,.bmpui-hidden.bmpui-ui-settingspanelpagebackbutton,.bmpui-hidden.bmpui-ui-settingspanelpageopenbutton,.bmpui-hidden.bmpui-ui-settingstogglebutton,.bmpui-hidden.bmpui-ui-subtitlesettingsresetbutton,.bmpui-hidden.bmpui-ui-subtitlesettingstogglebutton,.bmpui-hidden.bmpui-ui-volumetogglebutton,.bmpui-hidden.bmpui-ui-vrtogglebutton,.bmpui-hidden.bmpui-ui-watermark,.bmpui-ui-listbox .bmpui-hidden.bmpui-ui-listbox-button,.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-hidden.bmpui-ui-button-ad-skip{display:none}.bmpui-ui-airplaytogglebutton:focus,.bmpui-ui-audiotracksettingstogglebutton:focus,.bmpui-ui-button:focus,.bmpui-ui-casttogglebutton:focus,.bmpui-ui-clickoverlay:focus,.bmpui-ui-closebutton:focus,.bmpui-ui-fullscreentogglebutton:focus,.bmpui-ui-hugeplaybacktogglebutton:focus,.bmpui-ui-hugereplaybutton:focus,.bmpui-ui-listbox .bmpui-ui-listbox-button:focus,.bmpui-ui-piptogglebutton:focus,.bmpui-ui-playbacktogglebutton:focus,.bmpui-ui-settingspanelpagebackbutton:focus,.bmpui-ui-settingspanelpageopenbutton:focus,.bmpui-ui-settingstogglebutton:focus,.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-ui-button-ad-skip:focus,.bmpui-ui-subtitlesettingsresetbutton:focus,.bmpui-ui-subtitlesettingstogglebutton:focus,.bmpui-ui-volumetogglebutton:focus,.bmpui-ui-vrtogglebutton:focus,.bmpui-ui-watermark:focus{box-shadow:0 0 0 2px rgba(27,127,204,.8);outline:none}.bmpui-ui-playbacktogglebutton{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Shape_2%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M23.3%2C15.2L9.8%2C5.6c-0.3-0.2-0.7-0.3-1-0.1C8.5%2C5.7%2C8.3%2C6%2C8.3%2C6.3v19.3c0%2C0.4%2C0.2%2C0.7%2C0.6%2C0.9%0A%09%09%09c0.1%2C0.1%2C0.3%2C0.1%2C0.4%2C0.1c0.2%2C0%2C0.4-0.1%2C0.6-0.2l13.4-9.7c0.3-0.2%2C0.4-0.5%2C0.4-0.8C23.6%2C15.7%2C23.5%2C15.3%2C23.3%2C15.2z%20M10.3%2C23.6V8.4%0A%09%09%09L21%2C16L10.3%2C23.6z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-playbacktogglebutton:hover{-webkit-filter:drop-shadow(0 0 1px #fff);filter:drop-shadow(0 0 1px #fff)}.bmpui-ui-playbacktogglebutton.bmpui-on{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_2_copy%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M11.3%2C5.4H8.9c-1.3%2C0-2.4%2C1.1-2.4%2C2.4v16.5c0%2C1.3%2C1.1%2C2.4%2C2.4%2C2.4h2.4c1.3%2C0%2C2.4-1.1%2C2.4-2.4V7.7%0A%09%09%09C13.6%2C6.4%2C12.6%2C5.4%2C11.3%2C5.4z%20M11.3%2C24.3H8.9V7.7h2.4V24.3z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_2_copy_2%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M23.1%2C5.4h-2.4c-1.3%2C0-2.4%2C1.1-2.4%2C2.4v16.5c0%2C1.3%2C1.1%2C2.4%2C2.4%2C2.4h2.4c1.3%2C0%2C2.4-1.1%2C2.4-2.4V7.7%0A%09%09%09C25.4%2C6.4%2C24.4%2C5.4%2C23.1%2C5.4z%20M23.1%2C24.3h-2.4V7.7h2.4V24.3z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-playbacktogglebutton.bmpui-on.bmpui-stoptoggle{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_2_1_%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M24.3%2C5.4H7.7c-1.3%2C0-2.4%2C1.1-2.4%2C2.4v16.5c0%2C1.3%2C1.1%2C2.4%2C2.4%2C2.4h16.5c1.3%2C0%2C2.4-1.1%2C2.4-2.4V7.7%0A%09%09%09C26.6%2C6.4%2C25.6%2C5.4%2C24.3%2C5.4z%20M24.3%2C24.3H7.7V7.7h16.5V24.3z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-fullscreentogglebutton{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_6%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M4.7%2C7.7h4.7V5.4H4.7c-1.3%2C0-2.4%2C1.1-2.4%2C2.4v4.7h2.4V7.7z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_6_copy%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M4.7%2C19.5H2.4v4.7c0%2C1.3%2C1.1%2C2.4%2C2.4%2C2.4h4.7v-2.4H4.7V19.5z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_6_copy_2%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M27.3%2C5.4h-4.7v2.4h4.7v4.7h2.4V7.7C29.6%2C6.4%2C28.6%2C5.4%2C27.3%2C5.4z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_6_copy_3%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M27.3%2C24.3h-4.7v2.4h4.7c1.3%2C0%2C2.4-1.1%2C2.4-2.4v-4.7h-2.4V24.3z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-fullscreentogglebutton:hover{-webkit-filter:drop-shadow(0 0 1px #fff);filter:drop-shadow(0 0 1px #fff)}.bmpui-ui-fullscreentogglebutton.bmpui-on{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bopacity%3A0.302%3B%7D%0A%09.st1%7Bfill%3A%231FABE2%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_19%22%20class%3D%22st0%22%3E%0A%09%3Cg%3E%0A%09%09%3Crect%20x%3D%224.7%22%20y%3D%227.7%22%20class%3D%22st1%22%20width%3D%2222.5%22%20height%3D%2216.5%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_6_1_%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M4.7%2C7.7h4.7V5.4H4.7c-1.3%2C0-2.4%2C1.1-2.4%2C2.4v4.7h2.4V7.7z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_6_copy_1_%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M4.7%2C19.5H2.4v4.7c0%2C1.3%2C1.1%2C2.4%2C2.4%2C2.4h4.7v-2.4H4.7V19.5z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_6_copy_2_1_%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M27.3%2C5.4h-4.7v2.4h4.7v4.7h2.4V7.7C29.6%2C6.4%2C28.6%2C5.4%2C27.3%2C5.4z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_6_copy_3_1_%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M27.3%2C24.3h-4.7v2.4h4.7c1.3%2C0%2C2.4-1.1%2C2.4-2.4v-4.7h-2.4V24.3z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-vrtogglebutton{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_9%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M29%2C5.4H3c-1.3%2C0-2.4%2C1.1-2.4%2C2.4v16.5c0%2C1.3%2C1.1%2C2.4%2C2.4%2C2.4h9.4v-2.4H3V7.7h26v16.5h-9.4v2.4H29%0A%09%09%09c1.3%2C0%2C2.4-1.1%2C2.4-2.4V7.7C31.4%2C6.4%2C30.3%2C5.4%2C29%2C5.4z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22v%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M10.1%2C11.3c-2.6%2C0-4.7%2C2.1-4.7%2C4.7s2.1%2C4.7%2C4.7%2C4.7s4.7-2.1%2C4.7-4.7S12.7%2C11.3%2C10.1%2C11.3z%20M10.1%2C18.4%0A%09%09%09c-1.3%2C0-2.4-1.1-2.4-2.4s1.1-2.4%2C2.4-2.4s2.4%2C1.1%2C2.4%2C2.4S11.4%2C18.4%2C10.1%2C18.4z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22v_copy%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M21.9%2C11.3c-2.6%2C0-4.7%2C2.1-4.7%2C4.7s2.1%2C4.7%2C4.7%2C4.7s4.7-2.1%2C4.7-4.7S24.5%2C11.3%2C21.9%2C11.3z%20M21.9%2C18.4%0A%09%09%09c-1.3%2C0-2.4-1.1-2.4-2.4s1.1-2.4%2C2.4-2.4s2.4%2C1.1%2C2.4%2C2.4S23.2%2C18.4%2C21.9%2C18.4z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_10%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M16%2C23.1c2%2C0%2C3.5%2C1.5%2C3.5%2C3.5h2.4c0-3.3-2.6-5.9-5.9-5.9s-5.9%2C2.6-5.9%2C5.9h2.4C12.5%2C24.6%2C14%2C23.1%2C16%2C23.1z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-vrtogglebutton:hover{-webkit-filter:drop-shadow(0 0 1px #fff);filter:drop-shadow(0 0 1px #fff)}.bmpui-ui-vrtogglebutton.bmpui-on{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bopacity%3A0.302%3B%7D%0A%09.st1%7Bfill%3A%231FABE2%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_25%22%20class%3D%22st0%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M3%2C7.7v16.5h10.6v-2.4h4.7v2.4H29V7.7H3z%20M7.7%2C19.5v-7.1h5.9v7.1H7.7z%20M25.4%2C19.5h-7.1v-7.1h7.1V19.5z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_10_1_%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M21.9%2C20.7c2.6%2C0%2C4.7-2.1%2C4.7-4.7s-2.1-4.7-4.7-4.7s-4.7%2C2.1-4.7%2C4.7S19.3%2C20.7%2C21.9%2C20.7z%20M21.9%2C13.6%0A%09%09%09c1.3%2C0%2C2.4%2C1.1%2C2.4%2C2.4s-1.1%2C2.4-2.4%2C2.4s-2.4-1.1-2.4-2.4S20.6%2C13.6%2C21.9%2C13.6z%20M10.1%2C20.7c2.6%2C0%2C4.7-2.1%2C4.7-4.7%0A%09%09%09s-2.1-4.7-4.7-4.7S5.4%2C13.4%2C5.4%2C16S7.5%2C20.7%2C10.1%2C20.7z%20M10.1%2C13.6c1.3%2C0%2C2.4%2C1.1%2C2.4%2C2.4s-1.1%2C2.4-2.4%2C2.4S7.7%2C17.3%2C7.7%2C16%0A%09%09%09S8.8%2C13.6%2C10.1%2C13.6z%20M29%2C5.4H3c-1.3%2C0-2.4%2C1.1-2.4%2C2.4v16.5c0%2C1.3%2C1.1%2C2.4%2C2.4%2C2.4h9.4c0-2%2C1.5-3.5%2C3.5-3.5s3.5%2C1.5%2C3.5%2C3.5H29%0A%09%09%09c1.3%2C0%2C2.4-1.1%2C2.4-2.4V7.7C31.4%2C6.4%2C30.3%2C5.4%2C29%2C5.4z%20M29%2C24.3h-7.6c-0.9-2.1-3-3.5-5.4-3.5s-4.5%2C1.4-5.4%2C3.5H3V7.7h26V24.3z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-volumetogglebutton:hover{-webkit-filter:drop-shadow(0 0 1px #fff);filter:drop-shadow(0 0 1px #fff)}.bmpui-ui-volumetogglebutton.bmpui-muted,.bmpui-ui-volumetogglebutton.bmpui-unmuted[data-bmpui-volume-level-tens="0"]{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_2_copy_4%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M12.2%2C13.1H6.4c-1.1%2C0-1.9%2C0.9-1.9%2C1.9v2c0%2C1.1%2C0.9%2C1.9%2C1.9%2C1.9h5.8c1.1%2C0%2C1.9-0.9%2C1.9-1.9v-2%0A%09%09%09C14.1%2C14%2C13.2%2C13.1%2C12.2%2C13.1z%20M12.2%2C17H6.4v-2h5.8C12.2%2C15%2C12.2%2C17%2C12.2%2C17z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%3E%0A%09%3Cg%20id%3D%22Rounded_Rectangle_3%22%3E%0A%09%09%3Cg%3E%0A%09%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M18.1%2C11.9c-0.4%2C0.4-0.4%2C1%2C0%2C1.4l6.8%2C6.8c0.4%2C0.4%2C1%2C0.4%2C1.4%2C0s0.4-1%2C0-1.4l-6.8-6.8%0A%09%09%09%09C19.1%2C11.5%2C18.5%2C11.5%2C18.1%2C11.9z%22%2F%3E%0A%09%09%3C%2Fg%3E%0A%09%3C%2Fg%3E%0A%09%3Cg%20id%3D%22Rounded_Rectangle_3_1_%22%3E%0A%09%09%3Cg%3E%0A%09%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M26.3%2C11.9c-0.4-0.4-1-0.4-1.4%2C0l-6.8%2C6.8c-0.4%2C0.4-0.4%2C1%2C0%2C1.4s1%2C0.4%2C1.4%2C0l6.8-6.8%0A%09%09%09%09C26.7%2C12.9%2C26.7%2C12.3%2C26.3%2C11.9z%22%2F%3E%0A%09%09%3C%2Fg%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%3E%0A%09%3Cpath%20class%3D%22st0%22%20d%3D%22M17.9%2C21.7v2l-9.6-7v2.5l10%2C7.1c0.2%2C0.1%2C0.4%2C0.2%2C0.6%2C0.2s0.3%2C0%2C0.5-0.1c0.3-0.2%2C0.6-0.5%2C0.6-0.9v-3.9%0A%09%09L17.9%2C21.7L17.9%2C21.7z%22%2F%3E%0A%09%3Cpath%20class%3D%22st0%22%20d%3D%22M17.9%2C10.3H20v-4c-0.1-0.4-0.3-0.7-0.7-0.9c-0.3-0.2-0.8-0.1-1.1%2C0.1l-9.9%2C7.1v2.5l9.6-6.9V10.3z%22%2F%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-volumetogglebutton.bmpui-unmuted[data-bmpui-volume-level-tens="1"],.bmpui-ui-volumetogglebutton.bmpui-unmuted[data-bmpui-volume-level-tens="2"],.bmpui-ui-volumetogglebutton.bmpui-unmuted[data-bmpui-volume-level-tens="3"],.bmpui-ui-volumetogglebutton.bmpui-unmuted[data-bmpui-volume-level-tens="4"],.bmpui-ui-volumetogglebutton.bmpui-unmuted[data-bmpui-volume-level-tens="5"]{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_4%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M19.3%2C5.5c-0.3-0.2-0.8-0.1-1.1%2C0.1l-9.9%2C7.1v2.5l9.6-6.9v15.4l-9.6-7v2.5l10%2C7.1c0.2%2C0.1%2C0.4%2C0.2%2C0.6%2C0.2%0A%09%09%09s0.3%2C0%2C0.5-0.1c0.3-0.2%2C0.6-0.5%2C0.6-0.9V6.3C19.9%2C6%2C19.7%2C5.7%2C19.3%2C5.5z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_2_copy_4%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M12.2%2C13.1H6.4c-1.1%2C0-1.9%2C0.9-1.9%2C1.9v2c0%2C1.1%2C0.9%2C1.9%2C1.9%2C1.9h5.8c1.1%2C0%2C1.9-0.9%2C1.9-1.9v-2%0A%09%09%09C14.1%2C14%2C13.2%2C13.1%2C12.2%2C13.1z%20M12.2%2C17H6.4v-2h5.8C12.2%2C15%2C12.2%2C17%2C12.2%2C17z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rounded_Rectangle_4%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M23.7%2C12.1c-0.6%2C0-1%2C0.4-1%2C1v5.8c0%2C0.6%2C0.4%2C1%2C1%2C1s1-0.4%2C1-1v-5.8C24.7%2C12.5%2C24.3%2C12.1%2C23.7%2C12.1z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-volumetogglebutton.bmpui-unmuted[data-bmpui-volume-level-tens="6"],.bmpui-ui-volumetogglebutton.bmpui-unmuted[data-bmpui-volume-level-tens="7"],.bmpui-ui-volumetogglebutton.bmpui-unmuted[data-bmpui-volume-level-tens="8"],.bmpui-ui-volumetogglebutton.bmpui-unmuted[data-bmpui-volume-level-tens="9"],.bmpui-ui-volumetogglebutton.bmpui-unmuted[data-bmpui-volume-level-tens="10"]{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_4%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M19.3%2C5.5c-0.3-0.2-0.8-0.1-1.1%2C0.1l-9.9%2C7.1v2.5l9.6-6.9v15.4l-9.6-7v2.5l10%2C7.1c0.2%2C0.1%2C0.4%2C0.2%2C0.6%2C0.2%0A%09%09%09s0.3%2C0%2C0.5-0.1c0.3-0.2%2C0.6-0.5%2C0.6-0.9V6.3C19.9%2C6%2C19.7%2C5.7%2C19.3%2C5.5z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_2_copy_4%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M12.2%2C13.1H6.4c-1.1%2C0-1.9%2C0.9-1.9%2C1.9V17c0%2C1.1%2C0.9%2C1.9%2C1.9%2C1.9h5.8c1.1%2C0%2C1.9-0.9%2C1.9-1.9V15%0A%09%09%09C14.1%2C14%2C13.2%2C13.1%2C12.2%2C13.1z%20M12.2%2C17H6.4V15h5.8V17z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rounded_Rectangle_3%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M27.6%2C10.2c-0.6%2C0-1%2C0.4-1%2C1v9.7c0%2C0.6%2C0.4%2C1%2C1%2C1s1-0.4%2C1-1v-9.7C28.6%2C10.6%2C28.2%2C10.2%2C27.6%2C10.2z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rounded_Rectangle_4%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M23.7%2C12.1c-0.6%2C0-1%2C0.4-1%2C1v5.8c0%2C0.6%2C0.4%2C1%2C1%2C1c0.6%2C0%2C1-0.4%2C1-1v-5.8C24.7%2C12.5%2C24.3%2C12.1%2C23.7%2C12.1z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-watermark{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2068%2068%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill-rule%3Aevenodd%3Bclip-rule%3Aevenodd%3Bfill%3A%231FABE2%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Shape_1%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M63.3%2C32.5L24.3%2C5v13.4l20.4%2C14.5c0.8%2C0.6%2C0.8%2C1.8%2C0%2C2.4L24.3%2C49.6V63l39-27.5C64.2%2C34.7%2C64.2%2C33.3%2C63.3%2C32.5%0A%09%09%09z%20M38%2C32.5L12.8%2C14.7V25l11.1%2C7.9c0.8%2C0.6%2C0.8%2C1.8%2C0%2C2.4L12.8%2C43v10.3L38%2C35.5C39%2C34.7%2C39%2C33.3%2C38%2C32.5z%20M17.2%2C32.6L4%2C23.2v6.5%0A%09%09%09l4.5%2C3.2c0.8%2C0.6%2C0.8%2C1.8%2C0%2C2.4L4%2C38.4v6.5l13.2-9.4C18.2%2C34.7%2C18.2%2C33.3%2C17.2%2C32.6z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E");background-size:initial;height:4em;margin:2em;opacity:.8;position:absolute;right:0;top:0;width:4em}.bmpui-ui-watermark:hover{opacity:1}.bmpui-ui-hugeplaybacktogglebutton{cursor:default;height:8em;outline:none;overflow:hidden;width:8em}@-webkit-keyframes a{0%{opacity:1;visibility:visible}to{opacity:0;-webkit-transform:scale(2);transform:scale(2);visibility:hidden}}@keyframes a{0%{opacity:1;visibility:visible}to{opacity:0;-webkit-transform:scale(2);transform:scale(2);visibility:hidden}}@-webkit-keyframes b{0%{opacity:0;-webkit-transform:scale(2);transform:scale(2);visibility:visible}to{opacity:1}}@keyframes b{0%{opacity:0;-webkit-transform:scale(2);transform:scale(2);visibility:visible}to{opacity:1}}@-webkit-keyframes c{30%{-webkit-transform:scale(1.1);transform:scale(1.1)}60%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes c{30%{-webkit-transform:scale(1.1);transform:scale(1.1)}60%{-webkit-transform:scale(1);transform:scale(1)}}.bmpui-ui-hugeplaybacktogglebutton .bmpui-image{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20140%20140%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bopacity%3A0.6%3Bfill-rule%3Aevenodd%3Bclip-rule%3Aevenodd%3Bfill%3A%23FFFFFF%3B%7D%0A%09.st1%7Bfill-rule%3Aevenodd%3Bclip-rule%3Aevenodd%3Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M70%2C5C34.1%2C5%2C5%2C34.1%2C5%2C70s29.1%2C65%2C65%2C65c35.9%2C0%2C65-29.1%2C65-65S105.9%2C5%2C70%2C5z%20M70%2C132c-34.2%2C0-62-27.8-62-62%0A%09S35.8%2C8%2C70%2C8c34.2%2C0%2C62%2C27.8%2C62%2C62S104.2%2C132%2C70%2C132z%22%2F%3E%0A%3Cg%20id%3D%22Shape_2_copy%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M89.2%2C68.5L63.1%2C50.4c-0.6-0.4-1.4-0.5-2-0.1c-0.6%2C0.3-1.1%2C1-1.1%2C1.7v36.2c0%2C0.7%2C0.4%2C1.4%2C1.1%2C1.7%0A%09%09%09c0.3%2C0.1%2C0.6%2C0.2%2C0.9%2C0.2c0.4%2C0%2C0.8-0.1%2C1.1-0.4l26.1-18.1c0.5-0.4%2C0.8-0.9%2C0.8-1.5C90%2C69.4%2C89.7%2C68.8%2C89.2%2C68.5z%20M63.9%2C84.4V55.6%0A%09%09%09L84.7%2C70L63.9%2C84.4z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E");background-position:50%;background-repeat:no-repeat;background-size:7em;height:100%;width:100%}.bmpui-ui-hugeplaybacktogglebutton .bmpui-image:hover{-webkit-animation:c 3s ease-in-out infinite;animation:c 3s ease-in-out infinite}.bmpui-ui-hugeplaybacktogglebutton.bmpui-on .bmpui-image{-webkit-animation:a .3s cubic-bezier(.55,.055,.675,.19);animation:a .3s cubic-bezier(.55,.055,.675,.19);transition:visibility 0s .3s;visibility:hidden}.bmpui-ui-hugeplaybacktogglebutton.bmpui-off .bmpui-image{-webkit-animation:b .3s cubic-bezier(.55,.055,.675,.19);animation:b .3s cubic-bezier(.55,.055,.675,.19);visibility:visible}.bmpui-ui-hugeplaybacktogglebutton.bmpui-no-transition-animations.bmpui-off .bmpui-image,.bmpui-ui-hugeplaybacktogglebutton.bmpui-no-transition-animations.bmpui-on .bmpui-image{-webkit-animation:none;animation:none;transition:none}.bmpui-ui-label,.bmpui-ui-playbacktimelabel,.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-ui-label-ad-message{cursor:default;white-space:nowrap}.bmpui-hidden.bmpui-ui-label,.bmpui-hidden.bmpui-ui-playbacktimelabel,.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-hidden.bmpui-ui-label-ad-message{display:none}.bmpui-ui-settings-panel{opacity:1;transition:opacity .3s,visibility 0s;visibility:visible;transition:opacity .3s,visibility 0s,height .35s cubic-bezier(.4,0,.2,1),width .35s cubic-bezier(.4,0,.2,1);background-color:hsla(0,0%,7%,.85);bottom:5em;overflow:hidden;padding:0;position:absolute;right:2em}.bmpui-hidden.bmpui-ui-settings-panel{opacity:0;transition:opacity .3s,visibility .3s;visibility:hidden}.bmpui-ui-settings-panel>.bmpui-container-wrapper{margin:.5em;overflow-y:auto}.bmpui-ui-settings-panel>.bmpui-container-wrapper>*{margin:0 .5em}.bmpui-container-wrapper>.bmpui-ui-settings-panel{margin:0}.bmpui-ui-settings-panel-page{display:none}.bmpui-active.bmpui-ui-settings-panel-page{display:block}.bmpui-ui-settings-panel-page .bmpui-container-wrapper>.bmpui-ui-label{display:inline-block;font-size:.8em;width:45%}.bmpui-ui-settings-panel-page .bmpui-container-wrapper>.bmpui-ui-selectbox{margin-left:10%;width:45%}.bmpui-ui-settings-panel-page .bmpui-ui-settings-panel-item{border-bottom:1px solid hsla(0,0%,60%,.3);padding:.5em 0;white-space:nowrap}.bmpui-ui-settings-panel-page .bmpui-ui-settings-panel-item.bmpui-last{border-bottom:0}.bmpui-ui-settings-panel-page .bmpui-ui-settings-panel-item.bmpui-hidden{display:none}.bmpui-ui-settingspanelpageopenbutton{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Shape_4%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M25.6%2C13.8l-1.4-0.3c-0.2-0.5-0.4-1-0.6-1.4l0.9-1.3c0.4-0.5%2C0.3-1.3-0.1-1.7L23%2C7.7c-0.3-0.3-0.6-0.4-1-0.4%0A%09%09%09c-0.3%2C0-0.6%2C0.1-0.8%2C0.3L20%2C8.5c-0.5-0.3-1-0.5-1.5-0.6l-0.3-1.4c0-0.6-0.6-1.1-1.3-1.1H15c-0.7%2C0-1.2%2C0.5-1.3%2C1.1L13.5%2C8%0A%09%09%09c-0.5%2C0.2-1%2C0.4-1.4%2C0.6l-1.3-0.9c-0.2-0.2-0.5-0.3-0.8-0.3c-0.4%2C0-0.7%2C0.1-1%2C0.4L7.8%2C9.1c-0.5%2C0.5-0.5%2C1.2-0.1%2C1.7l0.9%2C1.3%0A%09%09%09c-0.3%2C0.5-0.5%2C1-0.6%2C1.4l-1.4%2C0.3c-0.7%2C0-1.2%2C0.6-1.2%2C1.3V17c0%2C0.7%2C0.5%2C1.2%2C1.1%2C1.3L8%2C18.5c0.2%2C0.5%2C0.4%2C1%2C0.6%2C1.4l-0.9%2C1.3%0A%09%09%09c-0.4%2C0.5-0.3%2C1.3%2C0.1%2C1.7l1.4%2C1.4c0.3%2C0.3%2C0.6%2C0.4%2C1%2C0.4c0.3%2C0%2C0.6-0.1%2C0.8-0.3l1.3-0.9c0.5%2C0.2%2C1%2C0.4%2C1.4%2C0.6l0.3%2C1.4%0A%09%09%09c0.1%2C0.7%2C0.7%2C1.1%2C1.3%2C1.1H17c0.7%2C0%2C1.2-0.5%2C1.3-1.1l0.3-1.4c0.5-0.2%2C1-0.4%2C1.4-0.6l1.3%2C0.9c0.2%2C0.2%2C0.5%2C0.3%2C0.8%2C0.3%0A%09%09%09c0.4%2C0%2C0.7-0.1%2C1-0.4l1.4-1.4c0.5-0.5%2C0.5-1.2%2C0.1-1.7L23.5%2C20c0.3-0.5%2C0.5-1%2C0.6-1.4l1.4-0.3c0.7-0.1%2C1.1-0.7%2C1.1-1.3V15%0A%09%09%09C26.6%2C14.5%2C26.1%2C13.9%2C25.6%2C13.8z%20M24.6%2C16.9L24.6%2C16.9C24.6%2C17%2C24.6%2C17%2C24.6%2C16.9l-1.8%2C0.4c-0.2%2C0-0.4%2C0.2-0.4%2C0.4%0A%09%09%09c-0.2%2C0.6-0.4%2C1.2-0.7%2C1.6c-0.1%2C0.2-0.1%2C0.4%2C0%2C0.6l1%2C1.4v0.1l-1.2%2C1.2h-0.1c0%2C0%2C0%2C0-0.1%2C0l-1.4-1c-0.2-0.1-0.4-0.1-0.6%2C0%0A%09%09%09c-0.5%2C0.3-1.1%2C0.6-1.6%2C0.7c-0.2%2C0.1-0.4%2C0.2-0.4%2C0.4L17%2C24.5c0%2C0.1-0.1%2C0.1-0.1%2C0.1h-1.7c-0.1%2C0-0.1%2C0-0.1-0.1l-0.3-1.7%0A%09%09%09c0-0.2-0.2-0.4-0.4-0.4c-0.6-0.2-1.2-0.4-1.6-0.7c-0.1%2C0-0.2-0.1-0.3-0.1c-0.1%2C0-0.2%2C0-0.3%2C0.1l-1.4%2C1c0%2C0%2C0%2C0-0.1%2C0%0A%09%09%09c0%2C0%2C0%2C0-0.1%2C0l-1.2-1.2v-0.1l1-1.4c0.1-0.2%2C0.1-0.4%2C0-0.6C10%2C19%2C9.7%2C18.4%2C9.6%2C17.8c-0.1-0.2-0.2-0.4-0.4-0.4L7.5%2C17%0A%09%09%09c-0.1%2C0-0.1-0.1-0.1-0.1v-1.7c0-0.1%2C0-0.1%2C0.1-0.1l1.7-0.2c0.2%2C0%2C0.4-0.2%2C0.5-0.4c0.2-0.6%2C0.4-1.2%2C0.7-1.6c0.1-0.2%2C0.1-0.4%2C0-0.6%0A%09%09%09l-1-1.4v-0.1l1.2-1.2h0.1c0%2C0%2C0%2C0%2C0.1%2C0l1.4%2C1c0.2%2C0.1%2C0.4%2C0.1%2C0.6%2C0c0.5-0.3%2C1.1-0.6%2C1.6-0.7c0.2-0.1%2C0.4-0.2%2C0.4-0.4L15%2C7.5%0A%09%09%09c0-0.1%2C0.1-0.1%2C0.1-0.1h1.7c0.1%2C0%2C0.1%2C0%2C0.1%2C0.1l0.2%2C1.7c0%2C0.2%2C0.2%2C0.4%2C0.4%2C0.5c0.6%2C0.2%2C1.2%2C0.4%2C1.7%2C0.7c0.2%2C0.1%2C0.4%2C0.1%2C0.6%2C0%0A%09%09%09l1.4-1c0%2C0%2C0%2C0%2C0.1%2C0c0%2C0%2C0%2C0%2C0.1%2C0l1.2%2C1.2v0.1l-1%2C1.4c-0.1%2C0.2-0.1%2C0.4%2C0%2C0.6c0.3%2C0.5%2C0.6%2C1.1%2C0.7%2C1.6c0.1%2C0.2%2C0.2%2C0.4%2C0.4%2C0.4%0A%09%09%09l1.6%2C0.3c0.1%2C0%2C0.1%2C0.1%2C0.1%2C0.1v1.8H24.6z%20M16%2C11.5c-2.5%2C0-4.5%2C2-4.5%2C4.5s2%2C4.5%2C4.5%2C4.5s4.5-2%2C4.5-4.5S18.5%2C11.5%2C16%2C11.5z%0A%09%09%09%20M16%2C18.8c-1.5%2C0-2.8-1.3-2.8-2.8s1.3-2.8%2C2.8-2.8s2.8%2C1.3%2C2.8%2C2.8S17.5%2C18.8%2C16%2C18.8z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E");max-height:.8em;padding:.3em 0;vertical-align:bottom}.bmpui-ui-settingspanelpageopenbutton:hover{-webkit-filter:drop-shadow(0 0 1px #fff);filter:drop-shadow(0 0 1px #fff)}.bmpui-on.bmpui-ui-settingspanelpageopenbutton{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bopacity%3A0.302%3B%7D%0A%09.st1%7Bfill%3A%231FABE2%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Ellipse_1_copy%22%20class%3D%22st0%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M23.6%2C12.9c-0.5-1.1-0.7-2.2-1.4-3C21.3%2C9%2C20%2C8.7%2C18.9%2C8.3c-1-0.4-1.7-1-2.9-1S13.9%2C8%2C12.8%2C8.4%0A%09%09%09c-1.1%2C0.5-2.1%2C0.7-3%2C1.4c-0.9%2C0.8-1%2C1.8-1.4%2C2.9c-0.4%2C1.1-1.1%2C2-1.1%2C3.3s0.6%2C2%2C1%2C3.1c0.5%2C1.1%2C0.8%2C2.3%2C1.6%2C3.1%0A%09%09%09c0.8%2C0.8%2C1.8%2C1%2C2.9%2C1.4c1.1%2C0.4%2C2%2C1.1%2C3.2%2C1.1s2.3-0.7%2C3.4-1.2c1.1-0.4%2C1.9-0.6%2C2.8-1.4c0.9-0.9%2C1.1-1.9%2C1.4-3.1%0A%09%09%09c0.4-1%2C1.2-2%2C1.2-3.1C24.7%2C14.8%2C24%2C13.9%2C23.6%2C12.9z%20M16%2C19.9c-2.1%2C0-3.9-1.7-3.9-3.9s1.7-3.9%2C3.9-3.9s3.9%2C1.7%2C3.9%2C3.9%0A%09%09%09S18.1%2C19.9%2C16%2C19.9z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Shape_4_1_%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M25.6%2C13.8l-1.4-0.3c-0.2-0.5-0.4-1-0.6-1.4l0.9-1.3c0.4-0.5%2C0.3-1.3-0.1-1.7L23%2C7.7c-0.3-0.3-0.6-0.4-1-0.4%0A%09%09%09c-0.3%2C0-0.6%2C0.1-0.8%2C0.3L20%2C8.5c-0.5-0.3-1-0.5-1.5-0.6l-0.3-1.4c0-0.6-0.6-1.1-1.3-1.1H15c-0.7%2C0-1.2%2C0.5-1.3%2C1.1L13.5%2C8%0A%09%09%09c-0.5%2C0.2-1%2C0.4-1.4%2C0.6l-1.3-0.9c-0.2-0.2-0.5-0.3-0.8-0.3c-0.4%2C0-0.7%2C0.1-1%2C0.4L7.8%2C9.1c-0.5%2C0.5-0.5%2C1.2-0.1%2C1.7l0.9%2C1.3%0A%09%09%09c-0.3%2C0.5-0.5%2C1-0.6%2C1.4l-1.4%2C0.3c-0.7%2C0-1.2%2C0.6-1.2%2C1.3V17c0%2C0.7%2C0.5%2C1.2%2C1.1%2C1.3L8%2C18.5c0.2%2C0.5%2C0.4%2C1%2C0.6%2C1.4l-0.9%2C1.3%0A%09%09%09c-0.4%2C0.5-0.3%2C1.3%2C0.1%2C1.7l1.4%2C1.4c0.3%2C0.3%2C0.6%2C0.4%2C1%2C0.4c0.3%2C0%2C0.6-0.1%2C0.8-0.3l1.3-0.9c0.5%2C0.2%2C1%2C0.4%2C1.4%2C0.6l0.3%2C1.4%0A%09%09%09c0.1%2C0.7%2C0.7%2C1.1%2C1.3%2C1.1H17c0.7%2C0%2C1.2-0.5%2C1.3-1.1l0.3-1.4c0.5-0.2%2C1-0.4%2C1.4-0.6l1.3%2C0.9c0.2%2C0.2%2C0.5%2C0.3%2C0.8%2C0.3%0A%09%09%09c0.4%2C0%2C0.7-0.1%2C1-0.4l1.4-1.4c0.5-0.5%2C0.5-1.2%2C0.1-1.7L23.5%2C20c0.3-0.5%2C0.5-1%2C0.6-1.4l1.4-0.3c0.7-0.1%2C1.1-0.7%2C1.1-1.3V15%0A%09%09%09C26.6%2C14.5%2C26.1%2C13.9%2C25.6%2C13.8z%20M24.6%2C16.9L24.6%2C16.9C24.6%2C17%2C24.6%2C17%2C24.6%2C16.9l-1.8%2C0.4c-0.2%2C0-0.4%2C0.2-0.4%2C0.4%0A%09%09%09c-0.2%2C0.6-0.4%2C1.2-0.7%2C1.6c-0.1%2C0.2-0.1%2C0.4%2C0%2C0.6l1%2C1.4v0.1l-1.2%2C1.2h-0.1c0%2C0%2C0%2C0-0.1%2C0l-1.4-1c-0.2-0.1-0.4-0.1-0.6%2C0%0A%09%09%09c-0.5%2C0.3-1.1%2C0.6-1.6%2C0.7c-0.2%2C0.1-0.4%2C0.2-0.4%2C0.4L17%2C24.5c0%2C0.1-0.1%2C0.1-0.1%2C0.1h-1.7c-0.1%2C0-0.1%2C0-0.1-0.1l-0.3-1.7%0A%09%09%09c0-0.2-0.2-0.4-0.4-0.4c-0.6-0.2-1.2-0.4-1.6-0.7c-0.1%2C0-0.2-0.1-0.3-0.1c-0.1%2C0-0.2%2C0-0.3%2C0.1l-1.4%2C1c0%2C0%2C0%2C0-0.1%2C0%0A%09%09%09c0%2C0%2C0%2C0-0.1%2C0l-1.2-1.2v-0.1l1-1.4c0.1-0.2%2C0.1-0.4%2C0-0.6C10%2C19%2C9.7%2C18.4%2C9.6%2C17.8c-0.1-0.2-0.2-0.4-0.4-0.4L7.5%2C17%0A%09%09%09c-0.1%2C0-0.1-0.1-0.1-0.1v-1.7c0-0.1%2C0-0.1%2C0.1-0.1l1.7-0.2c0.2%2C0%2C0.4-0.2%2C0.5-0.4c0.2-0.6%2C0.4-1.2%2C0.7-1.6c0.1-0.2%2C0.1-0.4%2C0-0.6%0A%09%09%09l-1-1.4v-0.1l1.2-1.2h0.1c0%2C0%2C0%2C0%2C0.1%2C0l1.4%2C1c0.2%2C0.1%2C0.4%2C0.1%2C0.6%2C0c0.5-0.3%2C1.1-0.6%2C1.6-0.7c0.2-0.1%2C0.4-0.2%2C0.4-0.4L15%2C7.5%0A%09%09%09c0-0.1%2C0.1-0.1%2C0.1-0.1h1.7c0.1%2C0%2C0.1%2C0%2C0.1%2C0.1l0.2%2C1.7c0%2C0.2%2C0.2%2C0.4%2C0.4%2C0.5c0.6%2C0.2%2C1.2%2C0.4%2C1.7%2C0.7c0.2%2C0.1%2C0.4%2C0.1%2C0.6%2C0%0A%09%09%09l1.4-1c0%2C0%2C0%2C0%2C0.1%2C0c0%2C0%2C0%2C0%2C0.1%2C0l1.2%2C1.2v0.1l-1%2C1.4c-0.1%2C0.2-0.1%2C0.4%2C0%2C0.6c0.3%2C0.5%2C0.6%2C1.1%2C0.7%2C1.6c0.1%2C0.2%2C0.2%2C0.4%2C0.4%2C0.4%0A%09%09%09l1.6%2C0.3c0.1%2C0%2C0.1%2C0.1%2C0.1%2C0.1v1.8H24.6z%20M16%2C11.5c-2.5%2C0-4.5%2C2-4.5%2C4.5s2%2C4.5%2C4.5%2C4.5s4.5-2%2C4.5-4.5S18.5%2C11.5%2C16%2C11.5z%0A%09%09%09%20M16%2C18.8c-1.5%2C0-2.8-1.3-2.8-2.8s1.3-2.8%2C2.8-2.8s2.8%2C1.3%2C2.8%2C2.8S17.5%2C18.8%2C16%2C18.8z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-settingspanelpagebackbutton{font-size:.8em;position:relative;width:8em}.bmpui-ui-settingspanelpagebackbutton .bmpui-label{display:inline-block}.bmpui-ui-settingspanelpagebackbutton .bmpui-label:before{border-bottom:.2em solid #fff;border-left:.2em solid #fff;content:"";height:.6em;margin-left:-.8em;position:absolute;top:.6em;-webkit-transform:rotate(45deg);transform:rotate(45deg);width:.6em}.bmpui-ui-audiotracksettingstogglebutton:hover,.bmpui-ui-settingstogglebutton:hover,.bmpui-ui-subtitlesettingstogglebutton:hover{-webkit-filter:drop-shadow(0 0 1px #fff);filter:drop-shadow(0 0 1px #fff)}.bmpui-on.bmpui-ui-audiotracksettingstogglebutton:hover,.bmpui-on.bmpui-ui-settingstogglebutton:hover,.bmpui-on.bmpui-ui-subtitlesettingstogglebutton:hover{-webkit-filter:drop-shadow(0 0 1px #1fabe2);filter:drop-shadow(0 0 1px #1fabe2)}.bmpui-ui-settingstogglebutton{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Shape_4%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M25.6%2C13.8l-1.4-0.3c-0.2-0.5-0.4-1-0.6-1.4l0.9-1.3c0.4-0.5%2C0.3-1.3-0.1-1.7L23%2C7.7c-0.3-0.3-0.6-0.4-1-0.4%0A%09%09%09c-0.3%2C0-0.6%2C0.1-0.8%2C0.3L20%2C8.5c-0.5-0.3-1-0.5-1.5-0.6l-0.3-1.4c0-0.6-0.6-1.1-1.3-1.1H15c-0.7%2C0-1.2%2C0.5-1.3%2C1.1L13.5%2C8%0A%09%09%09c-0.5%2C0.2-1%2C0.4-1.4%2C0.6l-1.3-0.9c-0.2-0.2-0.5-0.3-0.8-0.3c-0.4%2C0-0.7%2C0.1-1%2C0.4L7.8%2C9.1c-0.5%2C0.5-0.5%2C1.2-0.1%2C1.7l0.9%2C1.3%0A%09%09%09c-0.3%2C0.5-0.5%2C1-0.6%2C1.4l-1.4%2C0.3c-0.7%2C0-1.2%2C0.6-1.2%2C1.3V17c0%2C0.7%2C0.5%2C1.2%2C1.1%2C1.3L8%2C18.5c0.2%2C0.5%2C0.4%2C1%2C0.6%2C1.4l-0.9%2C1.3%0A%09%09%09c-0.4%2C0.5-0.3%2C1.3%2C0.1%2C1.7l1.4%2C1.4c0.3%2C0.3%2C0.6%2C0.4%2C1%2C0.4c0.3%2C0%2C0.6-0.1%2C0.8-0.3l1.3-0.9c0.5%2C0.2%2C1%2C0.4%2C1.4%2C0.6l0.3%2C1.4%0A%09%09%09c0.1%2C0.7%2C0.7%2C1.1%2C1.3%2C1.1H17c0.7%2C0%2C1.2-0.5%2C1.3-1.1l0.3-1.4c0.5-0.2%2C1-0.4%2C1.4-0.6l1.3%2C0.9c0.2%2C0.2%2C0.5%2C0.3%2C0.8%2C0.3%0A%09%09%09c0.4%2C0%2C0.7-0.1%2C1-0.4l1.4-1.4c0.5-0.5%2C0.5-1.2%2C0.1-1.7L23.5%2C20c0.3-0.5%2C0.5-1%2C0.6-1.4l1.4-0.3c0.7-0.1%2C1.1-0.7%2C1.1-1.3V15%0A%09%09%09C26.6%2C14.5%2C26.1%2C13.9%2C25.6%2C13.8z%20M24.6%2C16.9L24.6%2C16.9C24.6%2C17%2C24.6%2C17%2C24.6%2C16.9l-1.8%2C0.4c-0.2%2C0-0.4%2C0.2-0.4%2C0.4%0A%09%09%09c-0.2%2C0.6-0.4%2C1.2-0.7%2C1.6c-0.1%2C0.2-0.1%2C0.4%2C0%2C0.6l1%2C1.4v0.1l-1.2%2C1.2h-0.1c0%2C0%2C0%2C0-0.1%2C0l-1.4-1c-0.2-0.1-0.4-0.1-0.6%2C0%0A%09%09%09c-0.5%2C0.3-1.1%2C0.6-1.6%2C0.7c-0.2%2C0.1-0.4%2C0.2-0.4%2C0.4L17%2C24.5c0%2C0.1-0.1%2C0.1-0.1%2C0.1h-1.7c-0.1%2C0-0.1%2C0-0.1-0.1l-0.3-1.7%0A%09%09%09c0-0.2-0.2-0.4-0.4-0.4c-0.6-0.2-1.2-0.4-1.6-0.7c-0.1%2C0-0.2-0.1-0.3-0.1c-0.1%2C0-0.2%2C0-0.3%2C0.1l-1.4%2C1c0%2C0%2C0%2C0-0.1%2C0%0A%09%09%09c0%2C0%2C0%2C0-0.1%2C0l-1.2-1.2v-0.1l1-1.4c0.1-0.2%2C0.1-0.4%2C0-0.6C10%2C19%2C9.7%2C18.4%2C9.6%2C17.8c-0.1-0.2-0.2-0.4-0.4-0.4L7.5%2C17%0A%09%09%09c-0.1%2C0-0.1-0.1-0.1-0.1v-1.7c0-0.1%2C0-0.1%2C0.1-0.1l1.7-0.2c0.2%2C0%2C0.4-0.2%2C0.5-0.4c0.2-0.6%2C0.4-1.2%2C0.7-1.6c0.1-0.2%2C0.1-0.4%2C0-0.6%0A%09%09%09l-1-1.4v-0.1l1.2-1.2h0.1c0%2C0%2C0%2C0%2C0.1%2C0l1.4%2C1c0.2%2C0.1%2C0.4%2C0.1%2C0.6%2C0c0.5-0.3%2C1.1-0.6%2C1.6-0.7c0.2-0.1%2C0.4-0.2%2C0.4-0.4L15%2C7.5%0A%09%09%09c0-0.1%2C0.1-0.1%2C0.1-0.1h1.7c0.1%2C0%2C0.1%2C0%2C0.1%2C0.1l0.2%2C1.7c0%2C0.2%2C0.2%2C0.4%2C0.4%2C0.5c0.6%2C0.2%2C1.2%2C0.4%2C1.7%2C0.7c0.2%2C0.1%2C0.4%2C0.1%2C0.6%2C0%0A%09%09%09l1.4-1c0%2C0%2C0%2C0%2C0.1%2C0c0%2C0%2C0%2C0%2C0.1%2C0l1.2%2C1.2v0.1l-1%2C1.4c-0.1%2C0.2-0.1%2C0.4%2C0%2C0.6c0.3%2C0.5%2C0.6%2C1.1%2C0.7%2C1.6c0.1%2C0.2%2C0.2%2C0.4%2C0.4%2C0.4%0A%09%09%09l1.6%2C0.3c0.1%2C0%2C0.1%2C0.1%2C0.1%2C0.1v1.8H24.6z%20M16%2C11.5c-2.5%2C0-4.5%2C2-4.5%2C4.5s2%2C4.5%2C4.5%2C4.5s4.5-2%2C4.5-4.5S18.5%2C11.5%2C16%2C11.5z%0A%09%09%09%20M16%2C18.8c-1.5%2C0-2.8-1.3-2.8-2.8s1.3-2.8%2C2.8-2.8s2.8%2C1.3%2C2.8%2C2.8S17.5%2C18.8%2C16%2C18.8z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-settingstogglebutton.bmpui-on{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bopacity%3A0.302%3B%7D%0A%09.st1%7Bfill%3A%231FABE2%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Ellipse_1_copy%22%20class%3D%22st0%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M23.6%2C12.9c-0.5-1.1-0.7-2.2-1.4-3C21.3%2C9%2C20%2C8.7%2C18.9%2C8.3c-1-0.4-1.7-1-2.9-1S13.9%2C8%2C12.8%2C8.4%0A%09%09%09c-1.1%2C0.5-2.1%2C0.7-3%2C1.4c-0.9%2C0.8-1%2C1.8-1.4%2C2.9c-0.4%2C1.1-1.1%2C2-1.1%2C3.3s0.6%2C2%2C1%2C3.1c0.5%2C1.1%2C0.8%2C2.3%2C1.6%2C3.1%0A%09%09%09c0.8%2C0.8%2C1.8%2C1%2C2.9%2C1.4c1.1%2C0.4%2C2%2C1.1%2C3.2%2C1.1s2.3-0.7%2C3.4-1.2c1.1-0.4%2C1.9-0.6%2C2.8-1.4c0.9-0.9%2C1.1-1.9%2C1.4-3.1%0A%09%09%09c0.4-1%2C1.2-2%2C1.2-3.1C24.7%2C14.8%2C24%2C13.9%2C23.6%2C12.9z%20M16%2C19.9c-2.1%2C0-3.9-1.7-3.9-3.9s1.7-3.9%2C3.9-3.9s3.9%2C1.7%2C3.9%2C3.9%0A%09%09%09S18.1%2C19.9%2C16%2C19.9z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Shape_4_1_%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M25.6%2C13.8l-1.4-0.3c-0.2-0.5-0.4-1-0.6-1.4l0.9-1.3c0.4-0.5%2C0.3-1.3-0.1-1.7L23%2C7.7c-0.3-0.3-0.6-0.4-1-0.4%0A%09%09%09c-0.3%2C0-0.6%2C0.1-0.8%2C0.3L20%2C8.5c-0.5-0.3-1-0.5-1.5-0.6l-0.3-1.4c0-0.6-0.6-1.1-1.3-1.1H15c-0.7%2C0-1.2%2C0.5-1.3%2C1.1L13.5%2C8%0A%09%09%09c-0.5%2C0.2-1%2C0.4-1.4%2C0.6l-1.3-0.9c-0.2-0.2-0.5-0.3-0.8-0.3c-0.4%2C0-0.7%2C0.1-1%2C0.4L7.8%2C9.1c-0.5%2C0.5-0.5%2C1.2-0.1%2C1.7l0.9%2C1.3%0A%09%09%09c-0.3%2C0.5-0.5%2C1-0.6%2C1.4l-1.4%2C0.3c-0.7%2C0-1.2%2C0.6-1.2%2C1.3V17c0%2C0.7%2C0.5%2C1.2%2C1.1%2C1.3L8%2C18.5c0.2%2C0.5%2C0.4%2C1%2C0.6%2C1.4l-0.9%2C1.3%0A%09%09%09c-0.4%2C0.5-0.3%2C1.3%2C0.1%2C1.7l1.4%2C1.4c0.3%2C0.3%2C0.6%2C0.4%2C1%2C0.4c0.3%2C0%2C0.6-0.1%2C0.8-0.3l1.3-0.9c0.5%2C0.2%2C1%2C0.4%2C1.4%2C0.6l0.3%2C1.4%0A%09%09%09c0.1%2C0.7%2C0.7%2C1.1%2C1.3%2C1.1H17c0.7%2C0%2C1.2-0.5%2C1.3-1.1l0.3-1.4c0.5-0.2%2C1-0.4%2C1.4-0.6l1.3%2C0.9c0.2%2C0.2%2C0.5%2C0.3%2C0.8%2C0.3%0A%09%09%09c0.4%2C0%2C0.7-0.1%2C1-0.4l1.4-1.4c0.5-0.5%2C0.5-1.2%2C0.1-1.7L23.5%2C20c0.3-0.5%2C0.5-1%2C0.6-1.4l1.4-0.3c0.7-0.1%2C1.1-0.7%2C1.1-1.3V15%0A%09%09%09C26.6%2C14.5%2C26.1%2C13.9%2C25.6%2C13.8z%20M24.6%2C16.9L24.6%2C16.9C24.6%2C17%2C24.6%2C17%2C24.6%2C16.9l-1.8%2C0.4c-0.2%2C0-0.4%2C0.2-0.4%2C0.4%0A%09%09%09c-0.2%2C0.6-0.4%2C1.2-0.7%2C1.6c-0.1%2C0.2-0.1%2C0.4%2C0%2C0.6l1%2C1.4v0.1l-1.2%2C1.2h-0.1c0%2C0%2C0%2C0-0.1%2C0l-1.4-1c-0.2-0.1-0.4-0.1-0.6%2C0%0A%09%09%09c-0.5%2C0.3-1.1%2C0.6-1.6%2C0.7c-0.2%2C0.1-0.4%2C0.2-0.4%2C0.4L17%2C24.5c0%2C0.1-0.1%2C0.1-0.1%2C0.1h-1.7c-0.1%2C0-0.1%2C0-0.1-0.1l-0.3-1.7%0A%09%09%09c0-0.2-0.2-0.4-0.4-0.4c-0.6-0.2-1.2-0.4-1.6-0.7c-0.1%2C0-0.2-0.1-0.3-0.1c-0.1%2C0-0.2%2C0-0.3%2C0.1l-1.4%2C1c0%2C0%2C0%2C0-0.1%2C0%0A%09%09%09c0%2C0%2C0%2C0-0.1%2C0l-1.2-1.2v-0.1l1-1.4c0.1-0.2%2C0.1-0.4%2C0-0.6C10%2C19%2C9.7%2C18.4%2C9.6%2C17.8c-0.1-0.2-0.2-0.4-0.4-0.4L7.5%2C17%0A%09%09%09c-0.1%2C0-0.1-0.1-0.1-0.1v-1.7c0-0.1%2C0-0.1%2C0.1-0.1l1.7-0.2c0.2%2C0%2C0.4-0.2%2C0.5-0.4c0.2-0.6%2C0.4-1.2%2C0.7-1.6c0.1-0.2%2C0.1-0.4%2C0-0.6%0A%09%09%09l-1-1.4v-0.1l1.2-1.2h0.1c0%2C0%2C0%2C0%2C0.1%2C0l1.4%2C1c0.2%2C0.1%2C0.4%2C0.1%2C0.6%2C0c0.5-0.3%2C1.1-0.6%2C1.6-0.7c0.2-0.1%2C0.4-0.2%2C0.4-0.4L15%2C7.5%0A%09%09%09c0-0.1%2C0.1-0.1%2C0.1-0.1h1.7c0.1%2C0%2C0.1%2C0%2C0.1%2C0.1l0.2%2C1.7c0%2C0.2%2C0.2%2C0.4%2C0.4%2C0.5c0.6%2C0.2%2C1.2%2C0.4%2C1.7%2C0.7c0.2%2C0.1%2C0.4%2C0.1%2C0.6%2C0%0A%09%09%09l1.4-1c0%2C0%2C0%2C0%2C0.1%2C0c0%2C0%2C0%2C0%2C0.1%2C0l1.2%2C1.2v0.1l-1%2C1.4c-0.1%2C0.2-0.1%2C0.4%2C0%2C0.6c0.3%2C0.5%2C0.6%2C1.1%2C0.7%2C1.6c0.1%2C0.2%2C0.2%2C0.4%2C0.4%2C0.4%0A%09%09%09l1.6%2C0.3c0.1%2C0%2C0.1%2C0.1%2C0.1%2C0.1v1.8H24.6z%20M16%2C11.5c-2.5%2C0-4.5%2C2-4.5%2C4.5s2%2C4.5%2C4.5%2C4.5s4.5-2%2C4.5-4.5S18.5%2C11.5%2C16%2C11.5z%0A%09%09%09%20M16%2C18.8c-1.5%2C0-2.8-1.3-2.8-2.8s1.3-2.8%2C2.8-2.8s2.8%2C1.3%2C2.8%2C2.8S17.5%2C18.8%2C16%2C18.8z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-selectbox{background-color:transparent;border:0;color:#1fabe2;cursor:pointer;font-size:.8em;padding:.3em}.bmpui-ui-selectbox:focus{box-shadow:0 0 0 2px rgba(27,127,204,.8);outline:none}.bmpui-ui-selectbox option{color:#999}.bmpui-ui-selectbox option:checked{color:#1fabe2}.bmpui-ui-listbox .bmpui-ui-listbox-button{box-sizing:border-box;display:block;font-size:.8em;height:100%;min-width:10em;padding:.5em;width:100%}.bmpui-ui-listbox .bmpui-ui-listbox-button .bmpui-label{display:inherit}.bmpui-ui-listbox .bmpui-ui-listbox-button.bmpui-selected{background-color:rgba(31,171,226,.7)}.bmpui-ui-listbox .bmpui-ui-listbox-button:hover{background-color:rgba(31,171,226,.85)}.bmpui-ui-listbox .bmpui-ui-listbox-button:last-child{border-bottom:0}.bmpui-ui-seekbar-label{opacity:1;transition:opacity .3s,visibility 0s;visibility:visible;bottom:100%;left:0;margin-bottom:1em;pointer-events:none;position:absolute;text-align:center}.bmpui-ui-seekbar-label.bmpui-hidden{opacity:0;transition:opacity .3s,visibility .3s;visibility:hidden}.bmpui-ui-seekbar-label>.bmpui-container-wrapper{margin-left:-50%;margin-right:50%;position:relative}.bmpui-ui-seekbar-label .bmpui-seekbar-label-inner{border-bottom:.2em solid #fff}.bmpui-ui-seekbar-label .bmpui-seekbar-label-inner:after{border:solid transparent;border-color:transparent;border-top-color:#fff;border-width:.5em;content:" ";height:0;left:50%;margin-left:-.5em;pointer-events:none;position:absolute;top:100%;width:0}.bmpui-ui-seekbar-label .bmpui-seekbar-label-inner>.bmpui-container-wrapper{position:relative}.bmpui-ui-seekbar-label .bmpui-seekbar-label-inner>.bmpui-container-wrapper .bmpui-seekbar-thumbnail{width:6em}.bmpui-ui-seekbar-label .bmpui-seekbar-label-inner>.bmpui-container-wrapper .bmpui-seekbar-label-metadata{background:linear-gradient(180deg,transparent,rgba(0,0,0,.7));bottom:0;box-sizing:border-box;display:block;padding:.5em;position:absolute;width:100%}.bmpui-ui-seekbar-label .bmpui-seekbar-label-inner>.bmpui-container-wrapper .bmpui-seekbar-label-metadata .bmpui-seekbar-label-time{display:block;line-height:.8em}.bmpui-ui-seekbar-label .bmpui-seekbar-label-inner>.bmpui-container-wrapper .bmpui-seekbar-label-metadata .bmpui-seekbar-label-title{display:block;margin-bottom:.3em;white-space:normal}.bmpui-ui-seekbar,.bmpui-ui-volumeslider{cursor:pointer;font-size:1em;height:1em;position:relative;width:100%}.bmpui-hidden.bmpui-ui-seekbar,.bmpui-hidden.bmpui-ui-volumeslider{display:none}.bmpui-ui-seekbar:focus,.bmpui-ui-volumeslider:focus{box-shadow:0 0 0 2px rgba(27,127,204,.8);outline:none}.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-backdrop,.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-bufferlevel,.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-markers,.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-markers>.bmpui-seekbar-marker,.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-playbackposition,.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-playbackposition-marker,.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-seekposition,.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-backdrop,.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-bufferlevel,.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-markers,.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-markers>.bmpui-seekbar-marker,.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-playbackposition,.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-playbackposition-marker,.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-seekposition{-ms-transform-origin:0 0;-webkit-transform-origin:0 0;bottom:0;box-sizing:border-box;height:.3125em;left:0;margin:auto;position:absolute;right:auto;top:0;transform-origin:0 0;width:100%}.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-backdrop,.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-backdrop{background-color:hsla(0,0%,100%,.2);margin:auto 0;width:100%}.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-bufferlevel,.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-bufferlevel{background-color:#fff;margin:auto 0;transition:.3s linear,.3s linear;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-seekposition,.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-seekposition{background-color:hsla(0,0%,100%,.2);margin:auto 0}.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-playbackposition,.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-playbackposition{background-color:#1fabe2;margin:auto 0;transition:.1s linear,.1s linear;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-playbackposition-marker,.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-playbackposition-marker{height:.9375em;left:-.46875em;width:.9375em;background-color:rgba(31,171,226,.5);border:.1875em solid #1fabe2;border-radius:50%}.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-markers,.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-markers{height:.5625em}.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-markers>.bmpui-seekbar-marker,.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-markers>.bmpui-seekbar-marker{background-color:#fff;height:100%;width:2px;text-align:center;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;transition-duration:1s;transition-timing-function:linear}.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-markers>.bmpui-seekbar-marker>.bmpui-seekbar-marker-image,.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-markers>.bmpui-seekbar-marker>.bmpui-seekbar-marker-image{position:absolute;height:1.25em;-webkit-transform:translate(-50%,calc(-100% - .2em));transform:translate(-50%,calc(-100% - .2em))}.bmpui-seeking.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-bufferlevel,.bmpui-seeking.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-playbackposition,.bmpui-seeking.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-bufferlevel,.bmpui-seeking.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-playbackposition{transition:none}.bmpui-vertical.bmpui-ui-seekbar .bmpui-seekbar,.bmpui-vertical.bmpui-ui-volumeslider .bmpui-seekbar{height:100%;width:auto}.bmpui-vertical.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-backdrop,.bmpui-vertical.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-bufferlevel,.bmpui-vertical.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-playbackposition,.bmpui-vertical.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-seekposition,.bmpui-vertical.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-backdrop,.bmpui-vertical.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-bufferlevel,.bmpui-vertical.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-playbackposition,.bmpui-vertical.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-seekposition{right:0;top:auto}.bmpui-vertical.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-playbackposition .bmpui-seekbar-playbackposition-marker,.bmpui-vertical.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-playbackposition .bmpui-seekbar-playbackposition-marker{height:1em;top:-.5em;width:100%}.bmpui-vertical.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-backdrop,.bmpui-vertical.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-backdrop{height:100%;margin:0 auto;width:auto}.bmpui-vertical.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-bufferlevel,.bmpui-vertical.bmpui-ui-seekbar .bmpui-seekbar .bmpui-seekbar-seekposition,.bmpui-vertical.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-bufferlevel,.bmpui-vertical.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-seekposition{margin:0 auto}.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-playbackposition-marker{height:.6875em;left:-.34375em;width:.6875em;background-color:#1fabe2;border:0}.bmpui-ui-volumeslider .bmpui-seekbar .bmpui-seekbar-bufferlevel{display:none}.bmpui-ui-subtitle-overlay{bottom:0;font-size:1.2em;left:0;pointer-events:none;position:absolute;right:0;text-align:center;top:0;transition:bottom .15s ease-out}.bmpui-ui-subtitle-overlay.bmpui-hidden{display:none}.bmpui-ui-subtitle-overlay .bmpui-subtitle-region-container{position:absolute}.bmpui-ui-subtitle-overlay .bmpui-subtitle-region-container.bmpui-subtitle-position-default{bottom:2em;left:3em;right:3em;top:auto}.bmpui-ui-subtitle-overlay .bmpui-subtitle-region-container.bmpui-subtitle-position-bottom>div{bottom:0;position:absolute;width:100%}.bmpui-ui-subtitle-overlay .bmpui-ui-subtitle-label{text-shadow:-1px -1px 0 #000,0 -1px 0 #000,1px -1px 0 #000,-1px 0 0 #000,1px 0 0 #000,-1px 1px 0 #000,0 1px 0 #000,1px 1px 0 #000;color:#fff;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.bmpui-ui-subtitle-overlay .bmpui-ui-subtitle-label:nth-child(1n-1):after{content:"A";white-space:pre-line}.bmpui-ui-subtitle-overlay.bmpui-controlbar-visible{bottom:5em;transition:bottom .15s ease-in}.bmpui-ui-subtitle-overlay.bmpui-cea608{top:2em;bottom:2em;left:3em;right:3em}.bmpui-ui-subtitle-overlay.bmpui-cea608 .bmpui-subtitle-region-container.bmpui-subtitle-position-default{top:0;bottom:0;left:0;right:0}.bmpui-ui-subtitle-overlay.bmpui-cea608 .bmpui-ui-subtitle-label{font-family:Courier New,Courier,Nimbus Mono L,Cutive Mono,monospace;line-height:1em;position:absolute;text-transform:uppercase}.bmpui-ui-subtitle-overlay.bmpui-cea608 .bmpui-ui-subtitle-label:nth-child(1n-1):after{content:normal;white-space:normal}.bmpui-ui-subtitle-overlay.bmpui-cea608.bmpui-controlbar-visible{bottom:2em;transition:none}.bmpui-ui-volumecontrolbutton{line-height:0;position:relative}.bmpui-ui-volumecontrolbutton .bmpui-ui-volumeslider{background-color:#111;bottom:100%;height:6em;position:absolute;width:1.5em;max-height:6em;transition:max-height .15s ease-in}.bmpui-ui-volumecontrolbutton .bmpui-ui-volumeslider.bmpui-hidden{max-height:0;transition:max-height .15s ease-out}.bmpui-ui-volumecontrolbutton .bmpui-ui-volumeslider .bmpui-seekbar{bottom:.5em;height:auto;left:.3em;overflow:hidden;position:absolute;right:.3em;top:.5em;width:auto}.bmpui-ui-casttogglebutton{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_9_copy%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M27.7%2C5.4H6.4c-1.2%2C0-2.1%2C1-2.1%2C2.1v2.1h2.1V7.5h21.3v12.8h-8.5v2.1h8.5c1.2%2C0%2C2.1-1%2C2.1-2.1V7.5%0A%09%09%09C29.8%2C6.3%2C28.9%2C5.4%2C27.7%2C5.4z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_12%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M2.2%2C12.8v2.1c6.5%2C0%2C11.7%2C5.2%2C11.7%2C11.7H16C16%2C19%2C9.8%2C12.8%2C2.2%2C12.8z%20M2.2%2C18.1v2.1c3.5%2C0%2C6.4%2C2.9%2C6.4%2C6.4%0A%09%09%09h2.1C10.7%2C22%2C6.9%2C18.1%2C2.2%2C18.1z%20M2.2%2C23.4v3.2h3.2C5.4%2C24.8%2C4%2C23.4%2C2.2%2C23.4z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-casttogglebutton:hover{-webkit-filter:drop-shadow(0 0 1px #fff);filter:drop-shadow(0 0 1px #fff)}.bmpui-ui-casttogglebutton.bmpui-on{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bopacity%3A0.302%3B%7D%0A%09.st1%7Bfill%3A%231FABE2%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%3E%0A%09%3Cg%20id%3D%22Ellipse_1%22%20class%3D%22st0%22%3E%0A%09%09%3Cg%3E%0A%09%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M6.4%2C7.5v3.3c5.3%2C0.6%2C9.7%2C4.5%2C11.2%2C9.5h10.1V7.5H6.4z%22%2F%3E%0A%09%09%3C%2Fg%3E%0A%09%3C%2Fg%3E%0A%09%3Cg%20id%3D%22Rectangle_12_2_%22%3E%0A%09%09%3Cg%3E%0A%09%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M2.2%2C23.4v3.2h3.2C5.4%2C24.8%2C4%2C23.4%2C2.2%2C23.4z%20M2.2%2C18.1v2.1c3.5%2C0%2C6.4%2C2.9%2C6.4%2C6.4h2.1%0A%09%09%09%09C10.7%2C22%2C6.9%2C18.1%2C2.2%2C18.1z%20M2.2%2C12.8v2.1c6.5%2C0%2C11.7%2C5.2%2C11.7%2C11.7H16C16%2C19%2C9.8%2C12.8%2C2.2%2C12.8z%20M27.7%2C5.4H6.4%0A%09%09%09%09c-1.2%2C0-2.1%2C1-2.1%2C2.1v2.1h2.1V7.5h21.3v12.8h-8.5v2.1h8.5c1.2%2C0%2C2.1-1%2C2.1-2.1V7.5C29.8%2C6.3%2C28.9%2C5.4%2C27.7%2C5.4z%22%2F%3E%0A%09%09%3C%2Fg%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-cast-status-overlay{height:100%;left:0;margin:0;position:absolute;top:0;width:100%;opacity:1;transition:opacity .3s,visibility 0s;visibility:visible;background:#111 url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_9_copy%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M27.7%2C5.4H6.4c-1.2%2C0-2.1%2C1-2.1%2C2.1v2.1h2.1V7.5h21.3v12.8h-8.5v2.1h8.5c1.2%2C0%2C2.1-1%2C2.1-2.1V7.5%0A%09%09%09C29.8%2C6.3%2C28.9%2C5.4%2C27.7%2C5.4z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_12%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M2.2%2C12.8v2.1c6.5%2C0%2C11.7%2C5.2%2C11.7%2C11.7H16C16%2C19%2C9.8%2C12.8%2C2.2%2C12.8z%20M2.2%2C18.1v2.1c3.5%2C0%2C6.4%2C2.9%2C6.4%2C6.4%0A%09%09%09h2.1C10.7%2C22%2C6.9%2C18.1%2C2.2%2C18.1z%20M2.2%2C23.4v3.2h3.2C5.4%2C24.8%2C4%2C23.4%2C2.2%2C23.4z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E") 50% no-repeat;background-size:7em 7em}.bmpui-ui-cast-status-overlay.bmpui-hidden{opacity:0;transition:opacity .3s,visibility .3s;visibility:hidden}.bmpui-ui-cast-status-overlay .bmpui-ui-cast-status-label{color:#fff;font-size:1.2em;left:0;margin:0 2em;pointer-events:none;position:absolute;right:0;text-align:center;top:65%}.bmpui-ui-cast-status-overlay .bmpui-ui-cast-status-label *{pointer-events:none}.bmpui-ui-errormessage-overlay{height:100%;left:0;margin:0;position:absolute;top:0;width:100%;background-color:#111;pointer-events:none}.bmpui-ui-errormessage-overlay.bmpui-hidden{display:none}.bmpui-ui-errormessage-overlay .bmpui-ui-errormessage-label{color:#fff;font-size:1.2em;left:3em;position:absolute;right:3em;text-align:center;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;white-space:pre-line;-ms-transform:translateY(-50%);top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.bmpui-ui-errormessage-overlay .bmpui-ui-errormessage-label ul{color:#999;font-size:.9em;padding:0}.bmpui-ui-errormessage-overlay .bmpui-ui-errormessage-label ul li{list-style:none}.bmpui-ui-errormessage-overlay .bmpui-ui-tvnoisecanvas{height:100%;left:0;margin:0;position:absolute;top:0;width:100%;-webkit-filter:blur(4px);filter:blur(4px)}.bmpui-ui-titlebar{opacity:1;transition:opacity .3s,visibility 0s;position:absolute;top:0;width:100%;background:linear-gradient(0deg,transparent,rgba(0,0,0,.7));box-sizing:border-box;padding:.5em 1em 1em;pointer-events:none}.bmpui-ui-titlebar.bmpui-hidden{opacity:0;transition:opacity .3s}.bmpui-ui-titlebar>.bmpui-container-wrapper{padding:.5em;pointer-events:none}.bmpui-ui-titlebar>.bmpui-container-wrapper .bmpui-label-metadata{pointer-events:none}.bmpui-ui-titlebar>.bmpui-container-wrapper .bmpui-label-metadata-title{cursor:default;display:block;font-size:1.2em;text-shadow:0 0 5px #000;white-space:normal}.bmpui-ui-titlebar>.bmpui-container-wrapper .bmpui-label-metadata-description{color:#e6e6e6;cursor:default;display:block;text-shadow:0 0 5px #000;white-space:normal}.bmpui-ui-recommendation-overlay{height:100%;left:0;margin:0;position:absolute;top:0;width:100%;display:table;opacity:1;transition:opacity .6s,visibility 0s;visibility:visible;background-color:rgba(8,43,57,.7)}.bmpui-ui-recommendation-overlay>.bmpui-container-wrapper{display:table-cell;text-align:center;vertical-align:middle}.bmpui-ui-recommendation-overlay.bmpui-hidden{opacity:0;transition:opacity .6s,visibility .6s;visibility:hidden}.bmpui-ui-recommendation-overlay>.bmpui-container-wrapper{padding:3em}.bmpui-ui-recommendation-overlay a,.bmpui-ui-recommendation-overlay a:hover,.bmpui-ui-recommendation-overlay a:visited{color:#fff}.bmpui-ui-recommendation-overlay.bmpui-recommendations .bmpui-ui-hugereplaybutton{bottom:2em;left:2em;position:absolute}.bmpui-ui-recommendation-overlay.bmpui-recommendations .bmpui-ui-recommendation-item{background-position:50%;background-size:cover;display:inline-block;font-size:.7em;height:9em;margin:.3em .6em;overflow:hidden;position:relative;text-align:left;text-shadow:0 0 3px #111;-webkit-transform:scale(1);transform:scale(1);transition:-webkit-transform .15s ease-out;transition:transform .15s ease-out;transition:transform .15s ease-out,-webkit-transform .15s ease-out;width:16em}.bmpui-ui-recommendation-overlay.bmpui-recommendations .bmpui-ui-recommendation-item .bmpui-background{background:linear-gradient(180deg,transparent,transparent,rgba(0,0,0,.7));height:100%;position:absolute;top:20%;transition:top .15s ease-out;width:100%}.bmpui-ui-recommendation-overlay.bmpui-recommendations .bmpui-ui-recommendation-item .bmpui-title{bottom:3em;left:1em;position:absolute;right:1em}.bmpui-ui-recommendation-overlay.bmpui-recommendations .bmpui-ui-recommendation-item .bmpui-title .bmpui-innertitle{font-size:1.2em;white-space:normal;word-break:break-all}.bmpui-ui-recommendation-overlay.bmpui-recommendations .bmpui-ui-recommendation-item .bmpui-duration{bottom:1em;left:1em;position:absolute}.bmpui-ui-recommendation-overlay.bmpui-recommendations .bmpui-ui-recommendation-item:hover{outline:2px solid #1fabe2;-webkit-transform:scale(1.05);transform:scale(1.05);transition:-webkit-transform .15s ease-in;transition:transform .15s ease-in;transition:transform .15s ease-in,-webkit-transform .15s ease-in}.bmpui-ui-recommendation-overlay.bmpui-recommendations .bmpui-ui-recommendation-item:hover .bmpui-background{top:0;transition:top .15s ease-in}.bmpui-ui-clickoverlay{height:100%;left:0;margin:0;position:absolute;top:0;width:100%}.bmpui-ui-hugereplaybutton{height:5em;outline:none;width:5em}.bmpui-ui-hugereplaybutton .bmpui-image{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2080%2080%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bopacity%3A0.3%3Bfill%3A%231FABE2%3B%7D%0A%09.st1%7Bfill%3A%231FABE2%3B%7D%0A%3C%2Fstyle%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M40%2C73.5c-18.5%2C0-33.5-15-33.5-33.5S21.5%2C6.5%2C40%2C6.5s33.5%2C15%2C33.5%2C33.5S58.5%2C73.5%2C40%2C73.5z%22%2F%3E%0A%3Cg%20id%3D%22Ellipse_3_copy_2%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M40%2C5C20.7%2C5%2C5%2C20.7%2C5%2C40s15.7%2C35%2C35%2C35s35-15.7%2C35-35S59.3%2C5%2C40%2C5z%20M40%2C72C22.3%2C72%2C8%2C57.7%2C8%2C40S22.3%2C8%2C40%2C8%0A%09%09%09s32%2C14.3%2C32%2C32S57.7%2C72%2C40%2C72z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Ellipse_3%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M54%2C40.3c0-0.1%2C0-0.2%2C0-0.3h-0.1c-0.2-0.6-0.8-1-1.4-1s-1.2%2C0.4-1.4%2C1H51c0%2C6.1-4.9%2C11-11%2C11s-11-4.9-11-11%0A%09%09%09s4.9-11%2C11-11c0.7%2C0%2C1.4%2C0.1%2C2%2C0.2v3.3c0%2C0.2%2C0.1%2C0.3%2C0.3%2C0.4c0.1%2C0%2C0.2%2C0.1%2C0.3%2C0.1s0.2%2C0%2C0.3-0.1l7.8-4.5%0A%09%09%09c0.2-0.1%2C0.2-0.2%2C0.2-0.4s-0.1-0.3-0.2-0.4l-7.8-4.5c-0.2-0.1-0.4-0.1-0.6%2C0c-0.2%2C0.1-0.3%2C0.2-0.3%2C0.4v2.7c-0.7-0.1-1.3-0.2-2-0.2%0A%09%09%09c-7.7%2C0-14%2C6.3-14%2C14s6.3%2C14%2C14%2C14c7.4%2C0%2C13.5-5.8%2C14-13.2c0-0.1%2C0-0.2%2C0-0.3S54%2C40.4%2C54%2C40.3z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E");background-position:50%;background-repeat:no-repeat;background-size:5em;height:100%;width:100%}@-webkit-keyframes d{50%{-webkit-transform:rotate(180deg) scale(1.1);transform:rotate(180deg) scale(1.1)}to{-webkit-transform:rotate(1turn) scale(1);transform:rotate(1turn) scale(1)}}@keyframes d{50%{-webkit-transform:rotate(180deg) scale(1.1);transform:rotate(180deg) scale(1.1)}to{-webkit-transform:rotate(1turn) scale(1);transform:rotate(1turn) scale(1)}}.bmpui-ui-hugereplaybutton .bmpui-image:hover{-webkit-animation:d .5s ease-in;animation:d .5s ease-in}.bmpui-ui-playbacktimelabel{text-transform:uppercase}.bmpui-ui-playbacktimelabel.bmpui-ui-playbacktimelabel-live{cursor:pointer}.bmpui-ui-playbacktimelabel.bmpui-ui-playbacktimelabel-live:before{color:#999;content:"●";padding-right:.2em}.bmpui-ui-playbacktimelabel.bmpui-ui-playbacktimelabel-live.bmpui-ui-playbacktimelabel-live-edge:before{color:red}.bmpui-ui-buffering-overlay{display:table}.bmpui-ui-buffering-overlay>.bmpui-container-wrapper{display:table-cell;text-align:center;vertical-align:middle}.bmpui-ui-buffering-overlay{height:100%;left:0;margin:0;position:absolute;top:0;width:100%;opacity:1;transition:opacity .6s,visibility 0s;visibility:visible;background-color:rgba(8,43,57,.7)}.bmpui-ui-buffering-overlay.bmpui-hidden{opacity:0;transition:opacity .6s,visibility .6s;visibility:hidden}.bmpui-ui-buffering-overlay>.bmpui-container-wrapper{padding:3em}.bmpui-ui-buffering-overlay a,.bmpui-ui-buffering-overlay a:hover,.bmpui-ui-buffering-overlay a:visited{color:#fff}.bmpui-ui-buffering-overlay .bmpui-ui-buffering-overlay-indicator{-webkit-animation:e 2s ease-in infinite;animation:e 2s ease-in infinite;background:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bopacity%3A0.302%3B%7D%0A%09.st1%7Bfill-rule%3Aevenodd%3Bclip-rule%3Aevenodd%3Bfill%3A%231FABE2%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_3_copy_3%22%20class%3D%22st0%22%3E%0A%09%3Cg%3E%0A%09%09%3Crect%20x%3D%228%22%20y%3D%228%22%20class%3D%22st1%22%20width%3D%2216%22%20height%3D%2216%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_2_copy_13%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M23%2C7H9C7.9%2C7%2C7%2C7.9%2C7%2C9v14c0%2C1.1%2C0.9%2C2%2C2%2C2h14c1.1%2C0%2C2-0.9%2C2-2V9C25%2C7.9%2C24.1%2C7%2C23%2C7z%20M23%2C23H9V9h14V23z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E") no-repeat 50%;display:inline-block;height:2em;margin:.2em;width:2em}@-webkit-keyframes e{0%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:1}30%{opacity:1}50%{opacity:0;-webkit-transform:scale(2);transform:scale(2)}to{opacity:0;-webkit-transform:scale(3);transform:scale(3)}}@keyframes e{0%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:1}30%{opacity:1}50%{opacity:0;-webkit-transform:scale(2);transform:scale(2)}to{opacity:0;-webkit-transform:scale(3);transform:scale(3)}}.bmpui-ui-buffering-overlay .bmpui-ui-buffering-overlay-indicator:first-child{-webkit-animation-delay:0s;animation-delay:0s}.bmpui-ui-buffering-overlay .bmpui-ui-buffering-overlay-indicator:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.bmpui-ui-buffering-overlay .bmpui-ui-buffering-overlay-indicator:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}.bmpui-ui-buffering-overlay.bmpui-hidden .bmpui-ui-buffering-overlay-indicator{display:none}.bmpui-ui-playbacktoggle-overlay .bmpui-ui-hugeplaybacktogglebutton{height:100%;left:0;margin:0;position:absolute;top:0;width:100%}.bmpui-ui-closebutton{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rounded_Rectangle_6%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M26%2C6c-0.9-0.9-2.2-0.9-3.1%2C0L6%2C22.8c-0.9%2C0.9-0.9%2C2.2%2C0%2C3.1c0.9%2C0.9%2C2.2%2C0.9%2C3.1%2C0L26%2C9.2%0A%09%09%09C26.9%2C8.3%2C26.9%2C6.9%2C26%2C6z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rounded_Rectangle_6_copy%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M26%2C22.8L9.2%2C6C8.3%2C5.1%2C7%2C5.1%2C6.1%2C6s-0.9%2C2.2%2C0%2C3.1l16.9%2C16.9c0.9%2C0.9%2C2.2%2C0.9%2C3.1%2C0%0A%09%09%09C26.9%2C25.1%2C26.9%2C23.7%2C26%2C22.8z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}@-webkit-keyframes f{20%{-webkit-transform:scale(1.1);transform:scale(1.1)}40%{-webkit-transform:scale(1);transform:scale(1)}60%{-webkit-transform:scale(1.1);transform:scale(1.1)}80%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes f{20%{-webkit-transform:scale(1.1);transform:scale(1.1)}40%{-webkit-transform:scale(1);transform:scale(1)}60%{-webkit-transform:scale(1.1);transform:scale(1.1)}80%{-webkit-transform:scale(1);transform:scale(1)}}.bmpui-ui-closebutton:hover{-webkit-filter:drop-shadow(0 0 1px #fff);filter:drop-shadow(0 0 1px #fff);-webkit-animation:f 1s;animation:f 1s}.bmpui-ui-airplaytogglebutton{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_8%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M27.1%2C5.3H4.9c-1.3%2C0-2.4%2C1.1-2.4%2C2.4v11.9c0%2C1.3%2C1.1%2C2.4%2C2.4%2C2.4h3.6v-2.4H4.9V7.7h22.1v11.9h-3.6v2.4h3.6%0A%09%09%09c1.3%2C0%2C2.4-1.1%2C2.4-2.4V7.7C29.4%2C6.4%2C28.4%2C5.3%2C27.1%2C5.3z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Shape_5%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M22.9%2C24.8L17%2C16.5c-0.2-0.2-0.6-0.5-1-0.5c-0.4%2C0-0.7%2C0.2-1%2C0.5l-5.9%2C8.3C8.9%2C25.2%2C8.9%2C25.6%2C9%2C26%0A%09%09%09c0.2%2C0.4%2C0.6%2C0.6%2C1.1%2C0.6h11.9c0.5%2C0%2C0.8-0.2%2C1.1-0.6c0.1-0.1%2C0.1-0.2%2C0.1-0.5C23.1%2C25.3%2C23%2C25%2C22.9%2C24.8z%20M12.3%2C24.3l3.7-5.1%0A%09%09%09l3.7%2C5.1H12.3z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-airplaytogglebutton:hover{-webkit-filter:drop-shadow(0 0 1px #fff);filter:drop-shadow(0 0 1px #fff)}.bmpui-ui-airplaytogglebutton.bmpui-on{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bopacity%3A0.302%3B%7D%0A%09.st1%7Bfill%3A%231FABE2%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_17%22%20class%3D%22st0%22%3E%0A%09%3Cg%3E%0A%09%09%3Crect%20x%3D%224.9%22%20y%3D%227.7%22%20class%3D%22st1%22%20width%3D%2222.1%22%20height%3D%2211.9%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_18%22%20class%3D%22st0%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpolygon%20class%3D%22st1%22%20points%3D%2218.4%2C19.6%2013.6%2C19.6%2011.2%2C24.3%2020.8%2C24.3%20%09%09%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Shape_5_1_%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M27.1%2C5.3H4.9c-1.3%2C0-2.4%2C1.1-2.4%2C2.4v11.9c0%2C1.3%2C1.1%2C2.4%2C2.4%2C2.4h3.6v-2.4H4.9V7.7h22.1v11.9h-3.6v2.4h3.6%0A%09%09%09c1.3%2C0%2C2.4-1.1%2C2.4-2.4V7.7C29.4%2C6.4%2C28.4%2C5.3%2C27.1%2C5.3z%20M17%2C16.5c-0.2-0.2-0.6-0.5-1-0.5c-0.4%2C0-0.7%2C0.2-1%2C0.5l-5.9%2C8.3%0A%09%09%09C8.9%2C25.2%2C8.9%2C25.6%2C9%2C26c0.2%2C0.4%2C0.6%2C0.6%2C1.1%2C0.6h11.9c0.5%2C0%2C0.8-0.2%2C1.1-0.6c0.1-0.1%2C0.1-0.2%2C0.1-0.5c0-0.2-0.1-0.5-0.2-0.7%0A%09%09%09L17%2C16.5z%20M12.3%2C24.3l3.7-5.1l3.7%2C5.1H12.3z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-piptogglebutton{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill-rule%3Aevenodd%3Bclip-rule%3Aevenodd%3Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%3E%0A%09%3Cg%20id%3D%22Rectangle_512%22%3E%0A%09%09%3Cg%3E%0A%09%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M5%2C8.3h19.8v5.5H27V8.3c0-1.2-1-2.2-2.2-2.2H5c-1.2%2C0-2.2%2C1-2.2%2C2.2v12.1c0%2C1.2%2C1%2C2.2%2C2.2%2C2.2h7.7v-2.2H5%0A%09%09%09%09V8.3z%20M14.9%2C16v9.9h14.3V16H14.9z%22%2F%3E%0A%09%09%3C%2Fg%3E%0A%09%3C%2Fg%3E%0A%09%3Cg%20id%3D%22Rectangle_513%22%3E%0A%09%09%3Cg%3E%0A%09%09%09%3Cpolygon%20class%3D%22st0%22%20points%3D%2212.7%2C10.5%207.2%2C10.5%207.2%2C16%209.4%2C16%209.4%2C12.7%2012.7%2C12.7%20%09%09%09%22%2F%3E%0A%09%09%3C%2Fg%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-piptogglebutton:hover{-webkit-filter:drop-shadow(0 0 1px #fff);filter:drop-shadow(0 0 1px #fff)}.bmpui-ui-piptogglebutton.bmpui-on{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bopacity%3A0.302%3B%7D%0A%09.st1%7Bfill-rule%3Aevenodd%3Bclip-rule%3Aevenodd%3Bfill%3A%231FABE2%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%3E%0A%09%3Cg%20id%3D%22Rectangle_515_2_%22%20class%3D%22st0%22%3E%0A%09%09%3Cg%3E%0A%09%09%09%3Crect%20x%3D%225%22%20y%3D%228.3%22%20class%3D%22st1%22%20width%3D%2219.8%22%20height%3D%2212.1%22%2F%3E%0A%09%09%3C%2Fg%3E%0A%09%3C%2Fg%3E%0A%09%3Cg%20id%3D%22Rectangle_512_12_%22%3E%0A%09%09%3Cg%3E%0A%09%09%09%3Cpath%20class%3D%22st1%22%20d%3D%22M5%2C8.3h19.8v5.5H27V8.3c0-1.2-1-2.2-2.2-2.2H5c-1.2%2C0-2.2%2C1-2.2%2C2.2v12.1c0%2C1.2%2C1%2C2.2%2C2.2%2C2.2h7.7v-2.2H5%0A%09%09%09%09V8.3z%20M14.9%2C16v9.9h14.3V16H14.9z%22%2F%3E%0A%09%09%3C%2Fg%3E%0A%09%3C%2Fg%3E%0A%09%3Cg%20id%3D%22Rectangle_513_12_%22%3E%0A%09%09%3Cg%3E%0A%09%09%09%3Cpolygon%20class%3D%22st1%22%20points%3D%2212.7%2C10.5%207.2%2C10.5%207.2%2C16%209.4%2C16%209.4%2C12.7%2012.7%2C12.7%20%09%09%09%22%2F%3E%0A%09%09%3C%2Fg%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E")}.bmpui-ui-spacer{height:100%;width:100%}.bmpui-ui-subtitlesettingsresetbutton{font-size:.8em;width:12em}.bmpui-ui-subtitlesettingsresetbutton .bmpui-label{display:inline-block}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-white100 .bmpui-ui-subtitle-label{color:#fff}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-white75 .bmpui-ui-subtitle-label{color:hsla(0,0%,100%,.75)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-white50 .bmpui-ui-subtitle-label{color:hsla(0,0%,100%,.5)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-white25 .bmpui-ui-subtitle-label{color:hsla(0,0%,100%,.25)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-black100 .bmpui-ui-subtitle-label{color:#000}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-black75 .bmpui-ui-subtitle-label{color:rgba(0,0,0,.75)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-black50 .bmpui-ui-subtitle-label{color:rgba(0,0,0,.5)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-black25 .bmpui-ui-subtitle-label{color:rgba(0,0,0,.25)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-red100 .bmpui-ui-subtitle-label{color:red}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-red75 .bmpui-ui-subtitle-label{color:rgba(255,0,0,.75)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-red50 .bmpui-ui-subtitle-label{color:rgba(255,0,0,.5)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-red25 .bmpui-ui-subtitle-label{color:rgba(255,0,0,.25)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-green100 .bmpui-ui-subtitle-label{color:lime}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-green75 .bmpui-ui-subtitle-label{color:rgba(0,255,0,.75)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-green50 .bmpui-ui-subtitle-label{color:rgba(0,255,0,.5)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-green25 .bmpui-ui-subtitle-label{color:rgba(0,255,0,.25)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-blue100 .bmpui-ui-subtitle-label{color:blue}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-blue75 .bmpui-ui-subtitle-label{color:rgba(0,0,255,.75)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-blue50 .bmpui-ui-subtitle-label{color:rgba(0,0,255,.5)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-blue25 .bmpui-ui-subtitle-label{color:rgba(0,0,255,.25)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-cyan100 .bmpui-ui-subtitle-label{color:cyan}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-cyan75 .bmpui-ui-subtitle-label{color:rgba(0,255,255,.75)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-cyan50 .bmpui-ui-subtitle-label{color:rgba(0,255,255,.5)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-cyan25 .bmpui-ui-subtitle-label{color:rgba(0,255,255,.25)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-yellow100 .bmpui-ui-subtitle-label{color:#ff0}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-yellow75 .bmpui-ui-subtitle-label{color:rgba(255,255,0,.75)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-yellow50 .bmpui-ui-subtitle-label{color:rgba(255,255,0,.5)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-yellow25 .bmpui-ui-subtitle-label{color:rgba(255,255,0,.25)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-magenta100 .bmpui-ui-subtitle-label{color:#f0f}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-magenta75 .bmpui-ui-subtitle-label{color:rgba(255,0,255,.75)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-magenta50 .bmpui-ui-subtitle-label{color:rgba(255,0,255,.5)}.bmpui-ui-subtitle-overlay.bmpui-fontcolor-magenta25 .bmpui-ui-subtitle-label{color:rgba(255,0,255,.25)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-white100 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:#fff}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-white75 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:hsla(0,0%,100%,.75)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-white50 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:hsla(0,0%,100%,.5)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-white25 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:hsla(0,0%,100%,.25)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-black100 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:#000}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-black75 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(0,0,0,.75)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-black50 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(0,0,0,.5)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-black25 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(0,0,0,.25)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-red100 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:red}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-red75 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(255,0,0,.75)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-red50 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(255,0,0,.5)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-red25 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(255,0,0,.25)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-green100 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:lime}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-green75 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(0,255,0,.75)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-green50 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(0,255,0,.5)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-green25 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(0,255,0,.25)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-blue100 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:blue}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-blue75 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(0,0,255,.75)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-blue50 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(0,0,255,.5)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-blue25 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(0,0,255,.25)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-cyan100 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:cyan}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-cyan75 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(0,255,255,.75)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-cyan50 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(0,255,255,.5)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-cyan25 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(0,255,255,.25)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-yellow100 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:#ff0}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-yellow75 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(255,255,0,.75)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-yellow50 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(255,255,0,.5)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-yellow25 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(255,255,0,.25)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-magenta100 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:#f0f}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-magenta75 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(255,0,255,.75)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-magenta50 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(255,0,255,.5)}.bmpui-ui-subtitle-overlay.bmpui-bgcolor-magenta25 .bmpui-subtitle-region-container .bmpui-ui-subtitle-label{background-color:rgba(255,0,255,.25)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-white100 .bmpui-subtitle-region-container{background-color:#fff}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-white75 .bmpui-subtitle-region-container{background-color:hsla(0,0%,100%,.75)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-white50 .bmpui-subtitle-region-container{background-color:hsla(0,0%,100%,.5)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-white25 .bmpui-subtitle-region-container{background-color:hsla(0,0%,100%,.25)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-black100 .bmpui-subtitle-region-container{background-color:#000}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-black75 .bmpui-subtitle-region-container{background-color:rgba(0,0,0,.75)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-black50 .bmpui-subtitle-region-container{background-color:rgba(0,0,0,.5)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-black25 .bmpui-subtitle-region-container{background-color:rgba(0,0,0,.25)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-red100 .bmpui-subtitle-region-container{background-color:red}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-red75 .bmpui-subtitle-region-container{background-color:rgba(255,0,0,.75)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-red50 .bmpui-subtitle-region-container{background-color:rgba(255,0,0,.5)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-red25 .bmpui-subtitle-region-container{background-color:rgba(255,0,0,.25)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-green100 .bmpui-subtitle-region-container{background-color:lime}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-green75 .bmpui-subtitle-region-container{background-color:rgba(0,255,0,.75)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-green50 .bmpui-subtitle-region-container{background-color:rgba(0,255,0,.5)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-green25 .bmpui-subtitle-region-container{background-color:rgba(0,255,0,.25)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-blue100 .bmpui-subtitle-region-container{background-color:blue}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-blue75 .bmpui-subtitle-region-container{background-color:rgba(0,0,255,.75)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-blue50 .bmpui-subtitle-region-container{background-color:rgba(0,0,255,.5)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-blue25 .bmpui-subtitle-region-container{background-color:rgba(0,0,255,.25)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-cyan100 .bmpui-subtitle-region-container{background-color:cyan}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-cyan75 .bmpui-subtitle-region-container{background-color:rgba(0,255,255,.75)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-cyan50 .bmpui-subtitle-region-container{background-color:rgba(0,255,255,.5)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-cyan25 .bmpui-subtitle-region-container{background-color:rgba(0,255,255,.25)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-yellow100 .bmpui-subtitle-region-container{background-color:#ff0}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-yellow75 .bmpui-subtitle-region-container{background-color:rgba(255,255,0,.75)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-yellow50 .bmpui-subtitle-region-container{background-color:rgba(255,255,0,.5)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-yellow25 .bmpui-subtitle-region-container{background-color:rgba(255,255,0,.25)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-magenta100 .bmpui-subtitle-region-container{background-color:#f0f}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-magenta75 .bmpui-subtitle-region-container{background-color:rgba(255,0,255,.75)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-magenta50 .bmpui-subtitle-region-container{background-color:rgba(255,0,255,.5)}.bmpui-ui-subtitle-overlay.bmpui-windowcolor-magenta25 .bmpui-subtitle-region-container{background-color:rgba(255,0,255,.25)}.bmpui-ui-subtitle-overlay.bmpui-fontsize-50 .bmpui-ui-subtitle-label{font-size:.5em}.bmpui-ui-subtitle-overlay.bmpui-fontsize-75 .bmpui-ui-subtitle-label{font-size:.75em}.bmpui-ui-subtitle-overlay.bmpui-fontsize-100 .bmpui-ui-subtitle-label{font-size:1em}.bmpui-ui-subtitle-overlay.bmpui-fontsize-150 .bmpui-ui-subtitle-label{font-size:1.5em}.bmpui-ui-subtitle-overlay.bmpui-fontsize-200 .bmpui-ui-subtitle-label{font-size:2em}.bmpui-ui-subtitle-overlay.bmpui-fontsize-300 .bmpui-ui-subtitle-label{font-size:3em}.bmpui-ui-subtitle-overlay.bmpui-fontsize-400 .bmpui-ui-subtitle-label{font-size:4em}.bmpui-ui-subtitle-overlay.bmpui-characteredge-none .bmpui-ui-subtitle-label{text-shadow:none}.bmpui-ui-subtitle-overlay.bmpui-characteredge-raised .bmpui-ui-subtitle-label{text-shadow:0 0 4px rgba(0,0,0,.9),0 1px 4px rgba(0,0,0,.9),0 2px 4px rgba(0,0,0,.9)}.bmpui-ui-subtitle-overlay.bmpui-characteredge-depressed .bmpui-ui-subtitle-label{text-shadow:rgba(0,0,0,.8) 0 -2px 1px}.bmpui-ui-subtitle-overlay.bmpui-characteredge-uniform .bmpui-ui-subtitle-label{text-shadow:-2px 0 1px rgba(0,0,0,.8),2px 0 1px rgba(0,0,0,.8),0 -2px 1px rgba(0,0,0,.8),0 2px 1px rgba(0,0,0,.8),-1px 1px 1px rgba(0,0,0,.8),1px 1px 1px rgba(0,0,0,.8),1px -1px 1px rgba(0,0,0,.8),1px 1px 1px rgba(0,0,0,.8)}.bmpui-ui-subtitle-overlay.bmpui-characteredge-dropshadowed .bmpui-ui-subtitle-label{text-shadow:0 2px 1px rgba(0,0,0,.8)}.bmpui-ui-subtitle-overlay.bmpui-fontfamily-monospacedserif .bmpui-ui-subtitle-label{font-family:Courier New,Courier,Nimbus Mono L,Cutive Mono,monospace}.bmpui-ui-subtitle-overlay.bmpui-fontfamily-proportionalserif .bmpui-ui-subtitle-label{font-family:Times New Roman,Times,Georgia,Cambria,PT Serif Caption,serif}.bmpui-ui-subtitle-overlay.bmpui-fontfamily-monospacedsansserif .bmpui-ui-subtitle-label{font-family:Deja Vu Sans Mono,Lucida Console,Monaco,Consolas,PT Mono,monospace}.bmpui-ui-subtitle-overlay.bmpui-fontfamily-proportionalsansserif .bmpui-ui-subtitle-label{font-family:Roboto,Arial Unicode Ms,Arial,Helvetica,Verdana,PT Sans Caption,sans-serif}.bmpui-ui-subtitle-overlay.bmpui-fontfamily-casual .bmpui-ui-subtitle-label{font-family:Comic Sans MS,Impact,Handlee,fantasy}.bmpui-ui-subtitle-overlay.bmpui-fontfamily-cursive .bmpui-ui-subtitle-label{font-family:Monotype Corsiva,URW Chancery L,Apple Chancery,Dancing Script,cursive;font-style:italic}.bmpui-ui-subtitle-overlay.bmpui-fontfamily-smallcapital .bmpui-ui-subtitle-label{font-variant:small-caps}.bmpui-ui-subtitlesettingstogglebutton{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20id%3D%22subtitles%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3A%23fff%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3EArtboard%201%3C%2Ftitle%3E%3Cpath%20class%3D%22cls-1%22%20d%3D%22M19.74%2C26.6l-3.56-3.14h-11a2.77%2C2.77%2C0%2C0%2C1-2.64-2.87V8.15A2.74%2C2.74%2C0%2C0%2C1%2C5.22%2C5.3H26.79a2.75%2C2.75%2C0%2C0%2C1%2C2.63%2C2.85V20.57a2.76%2C2.76%2C0%2C0%2C1-2.63%2C2.85H23.06ZM4.89%2C7.7V21.14h12l2.82%2C2.63%2C2.54-2.65H27V7.7Z%22%2F%3E%3Cpath%20class%3D%22cls-1%22%20d%3D%22M7.48%2C15.78H12a.89.89%2C0%2C0%2C1%2C.92.86v1.85a.89.89%2C0%2C0%2C1-.92.86H7.48a.89.89%2C0%2C0%2C1-.92-.86V16.64A.89.89%2C0%2C0%2C1%2C7.48%2C15.78Z%22%2F%3E%3Cpath%20class%3D%22cls-1%22%20d%3D%22M15.07%2C15.78h5a.88.88%2C0%2C0%2C1%2C.91.86v1.85a.89.89%2C0%2C0%2C1-.91.86h-5a.89.89%2C0%2C0%2C1-.92-.86V16.64A.89.89%2C0%2C0%2C1%2C15.07%2C15.78Z%22%2F%3E%3Cpath%20class%3D%22cls-1%22%20d%3D%22M23%2C15.78h1.08a.89.89%2C0%2C0%2C1%2C.92.86l0%2C1.85a.89.89%2C0%2C0%2C1-.91.86H23.06a.89.89%2C0%2C0%2C1-.91-.86V16.64A.86.86%2C0%2C0%2C1%2C23%2C15.78Z%22%2F%3E%3C%2Fsvg%3E")}.bmpui-ui-subtitlesettingstogglebutton.bmpui-on{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20id%3D%22subtitlesX%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%2C.cls-2%7Bfill%3A%2343ace5%3B%7D.cls-1%7Bopacity%3A0.3%3Bisolation%3Aisolate%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3EArtboard%201%3C%2Ftitle%3E%3Cpolygon%20class%3D%22cls-1%22%20points%3D%2228.02%206.56%2028.02%2021.86%2022.02%2021.86%2020.3%2025.3%2015.37%2022.16%203.87%2022.16%203.87%206.56%2028.02%206.56%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M19.74%2C26.6l-3.56-3.14h-11a2.77%2C2.77%2C0%2C0%2C1-2.64-2.87V8.15A2.74%2C2.74%2C0%2C0%2C1%2C5.22%2C5.3H26.79a2.75%2C2.75%2C0%2C0%2C1%2C2.63%2C2.85V20.57a2.76%2C2.76%2C0%2C0%2C1-2.63%2C2.85H23.06ZM4.89%2C7.7V21.14h12l2.82%2C2.63%2C2.54-2.65H27V7.7Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M7.48%2C15.78H12a.89.89%2C0%2C0%2C1%2C.92.86v1.85a.89.89%2C0%2C0%2C1-.92.86H7.48a.89.89%2C0%2C0%2C1-.92-.86V16.64A.89.89%2C0%2C0%2C1%2C7.48%2C15.78Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M15.07%2C15.78h5a.88.88%2C0%2C0%2C1%2C.91.86v1.85a.89.89%2C0%2C0%2C1-.91.86h-5a.89.89%2C0%2C0%2C1-.92-.86V16.64A.89.89%2C0%2C0%2C1%2C15.07%2C15.78Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M23%2C15.78h1.08a.89.89%2C0%2C0%2C1%2C.92.86l0%2C1.85a.89.89%2C0%2C0%2C1-.91.86H23.06a.89.89%2C0%2C0%2C1-.91-.86V16.64A.86.86%2C0%2C0%2C1%2C23%2C15.78Z%22%2F%3E%3C%2Fsvg%3E")}.bmpui-ui-audiotracksettingstogglebutton{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20id%3D%22audo-tracks%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3A%23fff%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3EArtboard%201%3C%2Ftitle%3E%3Cpath%20class%3D%22cls-1%22%20d%3D%22M15.91%2C18.82a.62.62%2C0%2C0%2C1-.35.56.61.61%2C0%2C0%2C1-.65-.09L11.59%2C16.5H9.81a.6.6%2C0%2C0%2C1-.6-.6h0V13.47a.62.62%2C0%2C0%2C1%2C.6-.62h1.78l3.32-2.79a.63.63%2C0%2C0%2C1%2C.87.1.65.65%2C0%2C0%2C1%2C.13.38Zm2.34-.93H18.2a.64.64%2C0%2C0%2C1-.43-.18l-.08-.08a.6.6%2C0%2C0%2C1-.06-.79%2C3.54%2C3.54%2C0%2C0%2C0-.09-4.33.61.61%2C0%2C0%2C1%2C0-.82l.08-.08a.61.61%2C0%2C0%2C1%2C.46-.18.67.67%2C0%2C0%2C1%2C.45.22%2C4.89%2C4.89%2C0%2C0%2C1%2C.13%2C6%2C.61.61%2C0%2C0%2C1-.45.24Zm2.51%2C1.86a.58.58%2C0%2C0%2C1-.44.21h0a.63.63%2C0%2C0%2C1-.43-.17l-.08-.09a.61.61%2C0%2C0%2C1%2C0-.82%2C6.5%2C6.5%2C0%2C0%2C0-.1-8.46.6.6%2C0%2C0%2C1%2C0-.83V9.5a.56.56%2C0%2C0%2C1%2C.44-.17.57.57%2C0%2C0%2C1%2C.44.2%2C7.8%2C7.8%2C0%2C0%2C1%2C.13%2C10.24Z%22%2F%3E%3Cpath%20class%3D%22cls-1%22%20d%3D%22M19.69%2C26.65l-3.56-3.14h-11a2.77%2C2.77%2C0%2C0%2C1-2.64-2.87V8.2A2.74%2C2.74%2C0%2C0%2C1%2C5.17%2C5.35H26.74A2.75%2C2.75%2C0%2C0%2C1%2C29.37%2C8.2V20.62a2.76%2C2.76%2C0%2C0%2C1-2.63%2C2.85H23ZM4.84%2C7.75V21.19h12l2.82%2C2.63%2C2.54-2.65h4.71V7.75Z%22%2F%3E%3C%2Fsvg%3E")}.bmpui-ui-audiotracksettingstogglebutton.bmpui-on{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20id%3D%22audo-tracksX%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%2C.cls-2%7Bfill%3A%2343ace5%3B%7D.cls-1%7Bopacity%3A0.3%3Bisolation%3Aisolate%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3EArtboard%201%3C%2Ftitle%3E%3Cpolygon%20class%3D%22cls-1%22%20points%3D%2228.02%206.56%2028.02%2021.86%2022.02%2021.86%2020.3%2025.3%2015.37%2022.16%203.87%2022.16%203.87%206.56%2028.02%206.56%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M15.9%2C18.93a.62.62%2C0%2C0%2C1-.35.55.6.6%2C0%2C0%2C1-.64-.08l-3.33-2.79H9.81A.61.61%2C0%2C0%2C1%2C9.2%2C16h0V13.57A.62.62%2C0%2C0%2C1%2C9.81%2C13h1.77l3.33-2.79a.61.61%2C0%2C0%2C1%2C.86.1.62.62%2C0%2C0%2C1%2C.13.37ZM18.24%2C18h0a.63.63%2C0%2C0%2C1-.43-.17l-.08-.09a.61.61%2C0%2C0%2C1-.06-.79%2C3.53%2C3.53%2C0%2C0%2C0-.09-4.32.64.64%2C0%2C0%2C1%2C0-.82l.08-.09a.6.6%2C0%2C0%2C1%2C.46-.17.67.67%2C0%2C0%2C1%2C.45.22%2C4.88%2C4.88%2C0%2C0%2C1%2C.13%2C6%2C.61.61%2C0%2C0%2C1-.45.24Zm2.51%2C1.87a.66.66%2C0%2C0%2C1-.44.21h0a.6.6%2C0%2C0%2C1-.43-.18l-.08-.08a.61.61%2C0%2C0%2C1%2C0-.82%2C6.52%2C6.52%2C0%2C0%2C0-.1-8.47.6.6%2C0%2C0%2C1%2C0-.83V9.61a.62.62%2C0%2C0%2C1%2C.44-.18.58.58%2C0%2C0%2C1%2C.44.21%2C7.79%2C7.79%2C0%2C0%2C1%2C.13%2C10.23Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M19.68%2C26.76l-3.56-3.15h-11a2.74%2C2.74%2C0%2C0%2C1-2.63-2.86V8.31A2.74%2C2.74%2C0%2C0%2C1%2C5.16%2C5.46H26.73a2.75%2C2.75%2C0%2C0%2C1%2C2.63%2C2.85V20.72a2.75%2C2.75%2C0%2C0%2C1-2.63%2C2.85H23ZM4.83%2C7.86V21.3h12l2.83%2C2.63%2C2.53-2.65h4.71V7.86Z%22%2F%3E%3C%2Fsvg%3E")}.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-ui-label-ad-message{color:#009;white-space:normal}.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-ui-button-ad-skip .bmpui-label{display:inherit}.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-ui-button-ad-skip .bmpui-label:hover{text-decoration:underline}.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-ui-button-ad-skip:before{color:#1fffff;content:"#";padding-left:.5em;padding-right:.5em}.bmpui-ui-skin-ads.bmpui-player-state-playing .bmpui-ui-playbacktoggle-overlay{display:none}.bmpui-ui-skin-ads.bmpui-ui-skin-smallscreen .bmpui-ui-ads-status{bottom:0;left:0;padding:1em 1.5em;top:auto;width:100%}.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-controlbar,.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-titlebar{background:hsla(0,0%,7%,.85);padding:.3em .5em}.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-controlbar{bottom:10%;left:10%;right:10%;width:auto}.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-titlebar{left:10%;right:10%;top:10%;width:auto}.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-watermark{margin:0;right:10%;top:10%}.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-subtitle-overlay{bottom:10%}.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-subtitle-overlay.bmpui-controlbar-visible{bottom:20%}.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-subtitle-overlay .bmpui-ui-subtitle-label{background-color:rgba(0,0,0,.5);-webkit-box-decoration-break:clone;box-decoration-break:clone;line-height:2em;padding:.3em .5em;text-shadow:none;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-hugeplaybacktogglebutton .bmpui-image{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_2_copy%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M11.3%2C5.4H8.9c-1.3%2C0-2.4%2C1.1-2.4%2C2.4v16.5c0%2C1.3%2C1.1%2C2.4%2C2.4%2C2.4h2.4c1.3%2C0%2C2.4-1.1%2C2.4-2.4V7.7%0A%09%09%09C13.6%2C6.4%2C12.6%2C5.4%2C11.3%2C5.4z%20M11.3%2C24.3H8.9V7.7h2.4V24.3z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_2_copy_2%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M23.1%2C5.4h-2.4c-1.3%2C0-2.4%2C1.1-2.4%2C2.4v16.5c0%2C1.3%2C1.1%2C2.4%2C2.4%2C2.4h2.4c1.3%2C0%2C2.4-1.1%2C2.4-2.4V7.7%0A%09%09%09C25.4%2C6.4%2C24.4%2C5.4%2C23.1%2C5.4z%20M23.1%2C24.3h-2.4V7.7h2.4V24.3z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E");opacity:.7}.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-hugeplaybacktogglebutton.bmpui-off .bmpui-image,.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-hugeplaybacktogglebutton.bmpui-on .bmpui-image{-webkit-animation:none;animation:none;transition:none}.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-seekbar-bufferlevel,.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-seekbar-playbackposition,.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-buffering-overlay,.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-controlbar,.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-subtitle-overlay,.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-titlebar{transition:none}.bmpui-ui-skin-cast-receiver.bmpui-ui-uicontainer .bmpui-ui-buffering-overlay-indicator{display:none}.bmpui-ui-skin-smallscreen{font-size:1.2em}.bmpui-ui-skin-smallscreen .bmpui-ui-settings-panel{height:100%;left:0;margin:0;position:absolute;top:0;width:100%;display:table;display:-webkit-box;display:-ms-flexbox;display:flex}.bmpui-ui-skin-smallscreen .bmpui-ui-settings-panel>.bmpui-container-wrapper{display:table-cell;text-align:center;vertical-align:middle}.bmpui-ui-skin-smallscreen .bmpui-ui-settings-panel .bmpui-ui-settings-panel-page{min-width:15em}.bmpui-ui-skin-smallscreen .bmpui-ui-settings-panel>.bmpui-container-wrapper{margin:auto}.bmpui-ui-skin-smallscreen .bmpui-ui-settings-panel .bmpui-ui-settings-panel-item{text-align:left}.bmpui-ui-skin-smallscreen .bmpui-ui-settings-panel .bmpui-ui-closebutton{margin:2em;position:absolute;right:0;top:0}.bmpui-ui-skin-smallscreen .bmpui-ui-watermark{display:none}.bmpui-ui-skin-smallscreen .bmpui-ui-titlebar>.bmpui-container-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex}.bmpui-ui-skin-smallscreen .bmpui-ui-titlebar>.bmpui-container-wrapper .bmpui-ui-label{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;font-size:1em}.bmpui-ui-skin-smallscreen .bmpui-ui-titlebar>.bmpui-container-wrapper .bmpui-label-metadata-title{width:100%}.bmpui-ui-skin-smallscreen .bmpui-ui-cast-status-overlay{background:#111}.bmpui-ui-skin-smallscreen .bmpui-ui-cast-status-overlay .bmpui-ui-cast-status-label{top:30%}.bmpui-ui-skin-smallscreen .bmpui-ui-hugeplaybacktogglebutton .bmpui-image{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Shape_2%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M23.3%2C15.2L9.8%2C5.6c-0.3-0.2-0.7-0.3-1-0.1C8.5%2C5.7%2C8.3%2C6%2C8.3%2C6.3v19.3c0%2C0.4%2C0.2%2C0.7%2C0.6%2C0.9%0A%09%09%09c0.1%2C0.1%2C0.3%2C0.1%2C0.4%2C0.1c0.2%2C0%2C0.4-0.1%2C0.6-0.2l13.4-9.7c0.3-0.2%2C0.4-0.5%2C0.4-0.8C23.6%2C15.7%2C23.5%2C15.3%2C23.3%2C15.2z%20M10.3%2C23.6V8.4%0A%09%09%09L21%2C16L10.3%2C23.6z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E");background-size:4em}.bmpui-ui-skin-smallscreen.bmpui-remote-control .bmpui-ui-hugeplaybacktogglebutton.bmpui-on .bmpui-image{-webkit-animation:none;animation:none;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2032%2032%22%20style%3D%22%22%20xml%3Aspace%3D%22preserve%22%20height%3D%22100%25%22%20width%3D%22100%25%22%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FFFFFF%3B%7D%0A%3C%2Fstyle%3E%0A%3Cg%20id%3D%22Rectangle_2_copy%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M11.3%2C5.4H8.9c-1.3%2C0-2.4%2C1.1-2.4%2C2.4v16.5c0%2C1.3%2C1.1%2C2.4%2C2.4%2C2.4h2.4c1.3%2C0%2C2.4-1.1%2C2.4-2.4V7.7%0A%09%09%09C13.6%2C6.4%2C12.6%2C5.4%2C11.3%2C5.4z%20M11.3%2C24.3H8.9V7.7h2.4V24.3z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3Cg%20id%3D%22Rectangle_2_copy_2%22%3E%0A%09%3Cg%3E%0A%09%09%3Cpath%20class%3D%22st0%22%20d%3D%22M23.1%2C5.4h-2.4c-1.3%2C0-2.4%2C1.1-2.4%2C2.4v16.5c0%2C1.3%2C1.1%2C2.4%2C2.4%2C2.4h2.4c1.3%2C0%2C2.4-1.1%2C2.4-2.4V7.7%0A%09%09%09C25.4%2C6.4%2C24.4%2C5.4%2C23.1%2C5.4z%20M23.1%2C24.3h-2.4V7.7h2.4V24.3z%22%2F%3E%0A%09%3C%2Fg%3E%0A%3C%2Fg%3E%0A%3C%2Fsvg%3E");visibility:visible}.bmpui-ui-skin-smallscreen.bmpui-remote-control .bmpui-ui-hugeplaybacktogglebutton.bmpui-off .bmpui-image{-webkit-animation:none;animation:none}.bmpui-ui-skin-smallscreen.bmpui-layout-max-width-400 .bmpui-ui-buffering-overlay,.bmpui-ui-skin-smallscreen.bmpui-layout-max-width-400 .bmpui-ui-cast-status-overlay,.bmpui-ui-skin-smallscreen.bmpui-layout-max-width-400 .bmpui-ui-errormessage-overlay,.bmpui-ui-skin-smallscreen.bmpui-layout-max-width-400 .bmpui-ui-hugeplaybacktogglebutton,.bmpui-ui-skin-smallscreen.bmpui-layout-max-width-400 .bmpui-ui-hugereplaybutton,.bmpui-ui-skin-smallscreen.bmpui-layout-max-width-400 .bmpui-ui-settings-panel,.bmpui-ui-skin-smallscreen.bmpui-layout-max-width-400 .bmpui-ui-subtitle-overlay{font-size:.6em}.bmpui-ui-skin-smallscreen.bmpui-layout-max-width-600 .bmpui-ui-buffering-overlay,.bmpui-ui-skin-smallscreen.bmpui-layout-max-width-600 .bmpui-ui-cast-status-overlay,.bmpui-ui-skin-smallscreen.bmpui-layout-max-width-600 .bmpui-ui-errormessage-overlay,.bmpui-ui-skin-smallscreen.bmpui-layout-max-width-600 .bmpui-ui-hugeplaybacktogglebutton,.bmpui-ui-skin-smallscreen.bmpui-layout-max-width-600 .bmpui-ui-hugereplaybutton,.bmpui-ui-skin-smallscreen.bmpui-layout-max-width-600 .bmpui-ui-settings-panel,.bmpui-ui-skin-smallscreen.bmpui-layout-max-width-600 .bmpui-ui-subtitle-overlay{font-size:.8em}.bmpui-ui-skin-smallscreen.bmpui-no-flexbox .bmpui-ui-titlebar>.bmpui-container-wrapper{border-spacing:.5em 0;display:table;width:100%}.bmpui-ui-skin-smallscreen.bmpui-no-flexbox .bmpui-ui-titlebar>.bmpui-container-wrapper>*{display:table-cell;vertical-align:middle;width:1em}.bmpui-ui-skin-smallscreen.bmpui-no-flexbox .bmpui-ui-titlebar>.bmpui-container-wrapper>.bmpui-hidden{display:none}.bmpui-ui-skin-smallscreen.bmpui-no-flexbox .bmpui-ui-titlebar>.bmpui-container-wrapper .bmpui-label-metadata-title{width:100%}.bmpui-ui-uicontainer{color:#fff;font-family:sans-serif;font-size:1em;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bmpui-ui-uicontainer.bmpui-player-state-finished .bmpui-ui-controlbar,.bmpui-ui-uicontainer.bmpui-player-state-finished .bmpui-ui-hugeplaybacktogglebutton,.bmpui-ui-uicontainer.bmpui-player-state-idle .bmpui-ui-controlbar,.bmpui-ui-uicontainer.bmpui-player-state-idle .bmpui-ui-hugeplaybacktogglebutton,.bmpui-ui-uicontainer.bmpui-player-state-idle .bmpui-ui-titlebar{display:none}.bmpui-ui-uicontainer .bmpui-text-right{text-align:right}.bmpui-ui-uicontainer.bmpui-layout-max-width-400 .bmpui-ui-titlebar .bmpui-label-metadata-description{display:none}.bmpui-ui-uicontainer.bmpui-layout-max-width-400 .bmpui-ui-hugeplaybacktogglebutton,.bmpui-ui-uicontainer.bmpui-layout-max-width-400 .bmpui-ui-watermark,.bmpui-ui-uicontainer.bmpui-layout-max-width-600 .bmpui-ui-hugeplaybacktogglebutton,.bmpui-ui-uicontainer.bmpui-layout-max-width-600 .bmpui-ui-watermark{font-size:.7em}.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-ui-label-ad-message{color:white;font-size:120%;}.bmpui-ui-controlbar{display:none;}.bmpui-ui-skin-ads .bmpui-ui-ads-status{background-color:rgba(0,0,0,.7);right:1.5em;    /*padding: .5em 1.5em;*/position:absolute;top:70%;}.bmpui-ui-clickoverlay{display:none;}.bmpui-ui-watermark{display:none;}.bmpui-image{display:none;}.bmpui-ui-skin-ads .bmpui-ui-button-ad-skip::before{display:none;}#skipAdIcon{background-image:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAA3XAAAN1wFCKJt4AAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAADddJREFUeNrs3M1u49YShVHR0Pu/8vHEPWnILpHi+ataC7izm7RjC97FT0qO1toDAKjly7cAABwAAIADAABwAAAADoAT2s//AIAFPG8e+Sv/n8OPAQD2OgDueKpvjgEA2OMA6JXzm0MAANY7AEa9j+8QAICOznwIcMaH+Hx4EAAmHQArjLAjAAAGHgArDa8aAAADDoBVx9YRAACdC8Cq1AAA6HAA7DKujgAAuOkA2G1UHQEA8OEBsOuYeksAAD4sADtzBADAyQMgy3iqAQBQrACoAQBw4gDIOpZqAAAUKwBqAAAUPwDUAAD47wCoNoqOAAAcAEX/udUAABwAhTkCAHAAqAEA4ABQAwDAAaAGAIADQA0AAAeAIwAAHACZjgCHAAAOADUAAPb39C04fQQcvhUATHrAvG2DHADXfliOAABGDH7011/eIweAGgDA+sN/+x75DMCaP1AA8uxEG/TnOACS/nAB8JB42x45ANQAAHJtwlt/tgNADQAg3w6EX4MDQA0AIOfv/j+PEQeAGgBAQQ4ANQCA3L/rmwNADQCg5oNecwB4kQBQ8/d6cwB4sQBQnANg3hHgEADwQDfta3YAePEAoACgBgCQ/AGuOQC8mABQAFADAHAAoAYAkPV3dHMAqAEAKAC4NAFwAKAGAOAAQA0AwAGAGgCAAwA1AAAHAGoAgIcvBwBekAA4AHAEAOAA4MYjwCEAgANADQAAB4AaAAAOADUAAAcAagAADgDUAAAcAKgBADgAUAMAcACgBgDgAEANAMABgBoAgAMANQAABwBqAAAOANQAABwAOAIAcAAw7QhwCAA4AFADAHAAoAYA4ACY6PAjVQMAqFkADoeAGgBAvQNADVADACh8AKgBagAARQ8ANUANAKDwAaAGqAEAFD0A1AA1AIDCB4AaoAYAOACK//M7AtQAAAeAIwA1AMABUO0IcAioAQAOADUARwCAA0ANoNcR4BAAcACoAWoAAA4ANUANAMABoAaoAQA4ANQANQAAB4AaoAYA4ABQA9QAABwAaoAaAIADQA1QAwAcAKgBagCAAwA1QA0AcACgBqgBAA4AHAFqAIADgPAIcAioAQAOADUARwCAA0ANoNcR4BAAcACoAWoAAA4ANUANAHAAoAaoAQAOANQANQDAAYAaoAYAOABQA9QAAAcAaoAaAOAAQA1QAwAcAKgBagCAAwA1QA0AcACgBqgBAA4AHAFqAIADgPAIcAioAQAOADUARwCAA0ANoNcR4BAAHACoAWoAgAMANUANAHAAoAaoAQAOANQANQDAAYAaoAYAOABQA9QAAAcAaoAaAOAAQA1QAwAcAKgBagCAAwA1QA0AcACgBqgBAA4AHAFqAIADgPAIcAioAYADADUARwDgAEANoNcR4BAAHACoAWoAgAMANUANAHAAoAaoAQAOANQANQDAAYAaoAYAOABQA9QAAAcAaoAaAOAAQA1QAwAHAKgBagDgAAA1QA0AHACgBqgBgAMAHAFqAOAAgPAIcAioAYADADUARwDgAEANoNcR4BAAHACoAWoAgAMANUANABwAoAaoAYADANQANQBwAIAaoAYADgBQA9QAwAEAaoAaADgAQA1QAwAHAKgBagDgAAA1QA0AHACgBqgBgAMAHAFqAOAAgPAIcAioAYADADUARwDgAEANoNcR4BAABwCoAWoA4AAANUANABwAoAaoAYADANQANQBwAIAaoAYADgBQA9QAwAEAaoAaADgAQA1QAwAHAKgBagDgAAA1QA0AHACgBqgBgAMAHAFqAOAAgPAIcAioAeAAADUARwA4AEANoNcR4BAABwCoAWoA4AAANUANABwAoAaoAYADANQANQBwAIAaoAYADgBQA9QAwAEAaoAaAA4AQA1QA8ABAKgBagA4AAA1QA0ABwCgBqgB4AAAHAFqADgAgPAIcAioAeAAADUARwA4AEANoNcR4BAABwCoAWoA4AAANUANAAcAoAaoAeAAANQANQAcAIAaoAaAAwBQA9QAcAAAaoAaAA4AQA1QA8ABAKgBagA4AAA1QA0ABwCgBqgB4AAAHAFqADgAgPAIcAioAeAAADUARwA4AEANoNcR4BDAAQCoAWoAOAAANUANAAcAoAaoAeAAANQANQAcAIAaoAaAAwBQA9QAcAAAaoAaAA4AQA1QA8ABAKgBagA4AAA1QA0ABwCgBqgB4AAAHAFqADgAgPAIcAioATgAADUARwAOAEANoNcR4BDAAQCoAWoAOAAANUANAAcAoAaoAeAAANQANQAcAIAaoAaAAwBQA9QAcAAAaoAagAMAQA1wBOAAAFADNjsCHAI4AAA1QA0ABwCgBjgCwAEAOAIcAeAAAGYcAQ4BcAAAagAqAA4AQA3AEYADAFADcATgAADUAMABAKgBgAMAUAN4xdsAOAAANQBwAABqgAqAAwBADQAHAIAaAA4AADUAHAAAagA4AADUAHAAADgC1uPfBMABAKQ8AhwC4AAAAH7z9C0AkpC3QQEAjD8veIsEBwBg/KEybwEAhh8UAADjDwoAgOEHBQDA+IMCAGD49+HfAEABAIw/KAAAht/TPwoAgPEHBQDA8IMCAGD8NyP/owAAht/4gwIAGH/jjwIAYPhBAQAw/p7+cQAAGH/jTybeAgAMv/FHAQAw/sYfBQDA8Bt+FAAA42/8UQAADL/hRwEAjD/GHwUAMPwYfhQAwPhj/FEAAMOP4UcBAIw/xh8FADD8xh8cAIDxN/zgAAAMv/EHBwBg/A0/nOVDgIDxN/4oAIDhx/CjAADGH+OPAgAYfgw/CgBg/DH+KACA4cfwowAAxt/4gwIAGH7DDwoAYPyNPygAgOE3/KAAAMbf+IMCABh+4w8OAMD4G35wAIDh9y0w/uAAAOOP4YeQDwGC8cf4owAAhh/DjwIAGH/jDwoAYPgNPygAgPE3/qAAAIbf8IMCABh/4w8KAGD4DT8oAIDxN/6gAIDhx/CDAgDGH+MPCgAYfow/OADA+GP4wQEAhh/jDw4AMP6GHwj5ECAYf+MPCgBg+A0/KACA8Tf+oAAAht/wgwIAGH/jDwoAGH4MPygAYPwx/qAAgOHH8IMCAMYf4w8KABh+DD8oAGD8jT+gAIDhN/6AAwCMv+EHHABg+I0/4AAA42/4gZAPAYLxN/6gAIDhx/CDAgDGH+MPCgAYfgw/KABg/DH+oACA4cfwgwIAxt/4AwoAGH7DDygAYPyNP6AAgOE3/IACAMbf+AMKABh+4w84AMD4G37AAYDhx/gDDgCMP4YfCPkQIMYf4w8KABh+DD8oAGD8jT+gAIDhN/yAAgDG3/gDCgAYfsMPKABg/I0/oACA4Tf8gAIAxt/4AwoAhh/DDygAGH+MP6AAYPgx/oADAOOP4QccABh+jD/gAMD4G36AkA8BYvyNP6AAgOE3/IACAMbf+AMKABh+ww8oAGD8jT+gAGD4MfyAAoDxx/gDCgCGH8MPKAAYf4w/oABg+DH8gAKA8Tf+AAoAht/wAygAGH/jD6AAYPiNP4ADAONv+AFC3gLA+Bt/QAHA8GP4AQUA44/xBxQADD+GH1AAMP4Yf0ABwPBj+AEFAONv/AEUAAy/4QdQADD+xh9AAcDwG34ABQDjb/wBFAAMv+EHUAAw/sYfQAEw/Bh/AAeA8cfwA4S8BWD8Mf6AAoDhN/y+BYACgPE3/gAKAIbf8AMoABh/4w+gAGD4DT+AAoDxN/4ACgCG3/ADKAAYf+MPoAAYfgw/gAJg/DH+AAqA4cfwAygAxh/jD6AAGH6MP4ADwPgbfgBC3gIw/sYfQAHA8Bt+AAUA42/8ARQADL/hB1AAMP7GH0ABMPwYfgAFwPhj/AEUAMOP4QdQAIw/xh9AATD8GH4ABcD4G38AFADDb/gBUACMv/EHQAEw/MYfAAeA8Tf8AISqvwVg/I0/gAJg+DH8AAqA8cf4AygAhh/DD6AAGH+MP4ACYPgNv28BgAJg/I0/AAqA4Tf8ACgAxt/4A6AAYPgBUAAw/gAoABh+ABQAjD8ADgCMPwDneQsAww+gAIDxB1AAMPwAKAAYfwAUAAw/AAoAxh8ABQDDD4ACgPEHQAHA8AOgAGD8AVAAMPwAKAAYfwAUAAw/AAoAxh8AB4DxBwAHQIHhN/4AHrgcAF6EABDzIUDDD0BBCoDxB0ABwPADoABg/AFQADD8ACgAGH8Av6M3/WdQALyoAFAAMP4AOAAYNfzGH8BD29Cv3QHgBQSAAoCnfgASP8QdDgAvGAAUAIw/AMl/rx8OgDnfdOMP4AhY5mt0AHhhAJD7d/3Lr81/CMjwA1BwixQA4w/Afb/7j8W+nocDoOYPH4CaD4Hh1+AA8NQPQK5NeOvP9hkAww9Av31oq+6RAmD8Aei7E8egP+cUBcDwAzBuN1qnv+9pDgDjD8C8DWkf/vWXOQAMPwAFt8VnAIw/AAUpAIYfgIIUAOMPgAMA4w9ABd4CMPwAKADGHwAUAMMPAAqA8QcABcDwA8DGBaDaGBp/ABQAww8ANQuA8QeAogdA1oE8HsYfAEoVAMMPAG8cAFkG01M/ABQrAIYfAC4cALsOqKd+APiwAOw2pIYfAG44AHYaVeMPABfs+h8CMvwA0KEArDyyxh8AOh4Aq42tD/oBwKADYJXhNfwAMPgAmDnCnvoBoIOzHwL8N8bNEz8A1DkAeh8Chh8AFj4AXg12u+nvAwAsfgBEI94MPQDkPgA82QPAJr58CwDAAQAAOAAAAAcAAJDC9wBpH0gcvLnYOAAAAABJRU5ErkJggg==\');margin-left:20px;width:40px;height:40px;display:inline-block;background-size:contain;}.bmpui-ui-button-ad-skip{display:-webkit-box;    /* OLD - iOS 6-, Safari 3.1-6 */display:-moz-box;    /* OLD - Firefox 19- (buggy but mostly works) */display:-ms-flexbox;    /* TWEENER - IE 10 */display:-webkit-flex;    /* NEW - Chrome */display:flex;}.bmpui-ui-buffering-overlay{display:none;}.bmpui-ui-skin-ads .bmpui-ui-ads-status .bmpui-ui-button-ad-skip{background-color:transparent;background-origin:content-box;background-position:50%;background-repeat:no-repeat;background-size:1.5em;border:0;box-sizing:content-box;cursor:pointer;font-size:1em;height:auto;min-width:1.5em;    /*padding: .25em;*/}.bmpui-ui-button-ad-skip{    /*display: none;*/padding:.5em 1.5em!important;}.bmpui-ui-label-ad-message{display:none;}.bmpui-ui-subtitle-overlay .bmpui-ui-subtitle-label:nth-child(n-1)::after{opacity: 0;}/*.bmpui-ui-ads-status{display: none;}*/.bmpui-ui-playbacktoggle-overlay { display: none !important; }.bmpui-ui-uicontainer { }.bmpui-ui-subtitle-overlay{ font-size: '+SPA.convertScale(60)+"px;}.bmpui-ui-label-ad-message{padding:.5em 1.5em!important;}.bmpui-ui-subtitle-overlay{height: 100%}.bmpui-ui-label-ad-message{padding:.5em 1.5em!important;}";e+="</style>",$("#vmp-content").append(e);try{n.configPlayer()}catch(e){console.warn("error",e),n.param.onEventErrorTechnical&&n.param.onEventErrorTechnical("Có lỗi xảy ra khi khởi tạo config player (934) ("+e.message+")",934)}},this.configPlayer=function(){console.info("configPlayer  called"),bitmovin.player.core.Player.addModule(window.bitmovin.player.polyfill.default),bitmovin.player.core.Player.addModule(window.bitmovin.player["engine-bitmovin"].default),bitmovin.player.core.Player.addModule(window.bitmovin.player["engine-native"].default),bitmovin.player.core.Player.addModule(window.bitmovin.player["container-mp4"].default),bitmovin.player.core.Player.addModule(window.bitmovin.player["container-ts"].default),bitmovin.player.core.Player.addModule(window.bitmovin.player.mserenderer.default),bitmovin.player.core.Player.addModule(window.bitmovin.player.abr.default),bitmovin.player.core.Player.addModule(window.bitmovin.player.drm.default),bitmovin.player.core.Player.addModule(window.bitmovin.player.xml.default),bitmovin.player.core.Player.addModule(window.bitmovin.player.dash.default),bitmovin.player.core.Player.addModule(window.bitmovin.player.hls.default),bitmovin.player.core.Player.addModule(window.bitmovin.player.style.default),bitmovin.player.core.Player.addModule(window.bitmovin.player.crypto.default),bitmovin.player.core.Player.addModule(window.bitmovin.player.subtitles.default),bitmovin.player.core.Player.addModule(window.bitmovin.player.ui.default),bitmovin.player.core.Player.addModule(window.bitmovin.player["advertising-core"].default),bitmovin.player.core.Player.addModule(window.bitmovin.player["advertising-bitmovin"].default);try{bitmovin.player.core.Player.addModule(window.bitmovin.player["subtitles-native"].default),bitmovin.player.core.Player.addModule(window.bitmovin.player["subtitles-vtt"].default),bitmovin.player.core.Player.addModule(window.bitmovin.player["subtitles-cea608"].default),bitmovin.player.core.Player.addModule(window.bitmovin.player.analytics.default)}catch(e){}console.info("configPlayer  called");var e={},t={};t[bitmovin.player.core.BufferType.ForwardDuration]=30,t[bitmovin.player.core.BufferType.BackwardDuration]=10,e[bitmovin.player.core.MediaType.Video]=t,e[bitmovin.player.core.MediaType.Audio]=t,n.conf={key:"eebbd1ca-1407-4b38-a404-e470d5df2969",location:{ui:gConfig.getDomainAPI().slice(0,-3)+"bitmovin/bitmovinplayer-ui.js"},playback:{autoplay:!0},tweaks:{file_protocol:!0,app_id:"com.mytvb2c.app",BACKWARD_BUFFER_PURGE_INTERVAL:10,DWORD_BASE_MEDIA_DECODE_TIMESTAMPS:!0},advertising:{adBreaks:[{tag:{url:n.ad_link,type:n.ad_type},linearAdUiConfig:{message:"Quảng cáo sẻ kết thúc sau {remainingTime} giây",untilSkippableMessage:"Có thể bỏ qua sau {remainingTime} giây.",skippableMessage:'Nhấn phím OK để bỏ qua  <span id="skipAdIcon"></span>'},videoLoadTimeout:8e3}]},buffer:e,events:{error:function(e){e.code,console.error("BITMOVIN EVENT error",e)}}};try{n.conf.location.ui=gConfig.getDomainAPI().replace(/tv\/|tv_emc\//g,"")+"bitmovin/bitmovinplayer-ui.js"}catch(e){}n.addBitmovinAnalytics();try{window.ads_timeout_config&&1e3<window.ads_timeout_config&&(n.conf.advertising.adBreaks[0].videoLoadTimeout=window.ads_timeout_config)}catch(e){console.log(e)}if(null==chosenDrm){isSS()?n.conf.playback.preferredTech=[{player:"native"}]:n.conf.playback.preferredTech=[{player:"native",streaming:"hls"}];try{""==getParam(gPlayParam.subtitle,"")&&"1"!=gPlayParam.isMultiAudio||(n.conf.playback.preferredTech=[{player:"native"}])}catch(e){}}if(0<=getParam(window.low_latency_conf,5)&&"-1"!=getParam(window.low_latency_conf,5))try{1==clsClientLog.debug&&showAutoHideWarning("lowLatency : "+window.low_latency_conf)}catch(e){console.warn(e)}n.isChannelSupportLL()?n.isDeviceSupportLowlatency()?n.addLLConfigSupportDevice():n.addLLConfigNotSupportDevice():isSS()&&bitmovin.player.core.Player.addModule(window.bitmovin.player.tizen.default);try{if(""==getParam(n.conf.live,""))try{1==clsClientLog.debug&&showAutoHideWarning("Ko set low latency")}catch(e){console.warn(e)}else if(""==getParam(n.conf.live.lowLatency,""))try{1==clsClientLog.debug&&showAutoHideWarning("Ko set low latency")}catch(e){console.warn(e)}}catch(e){console.warn(e)}console.info("bitmovin config",n.conf),n.player=new bitmovin.player.core.Player(document.getElementById(n.divID),n.conf),n.player.on(bitmovin.player.core.PlayerEvent.Destroy,function(e){console.log("On Destroy: "+JSON.stringify(e)),window.isPlayingAds=0,n.param.onEventAdsEnd&&(n.param.onEventAdsEnd(),n.param.onEventAdsEnd=null)}),n.player.on(bitmovin.player.core.PlayerEvent.Warning,function(e){console.log("On Warning: "+JSON.stringify(e))}),n.player.on(bitmovin.player.core.PlayerEvent.Error,function(e){console.log("On Error: "+JSON.stringify(e))}),n.player.on(bitmovin.player.core.PlayerEvent.Play,function(e){console.log("On Play: "+JSON.stringify(e)),window.playerStartTime=performance.now()}),n.player.on(bitmovin.player.core.PlayerEvent.Playing,function(e){console.log("Bitmovin On play event call: "+JSON.stringify(e)),ModuleManager.loadFile("clsClientLog",function(){try{""!=window.last_performance_now&&(clsClientLog.saveLog({content:"bitmovin loadsrc ---- start Playing time: "+(performance.now()-window.last_performance_now)}),clsClientLog.sendLog(),window.last_performance_now="")}catch(e){console.log("error",e)}},null,!0)}),n.player.on(bitmovin.player.core.PlayerEvent.AdStarted,function(e){console.info("On Ad Started: "),window.isPlayingAds=1,clearTimeout(timeoutMaxReceiveEventAdsStart),n.param.onEventAdsStart&&n.param.onEventAdsStart();try{clUIVODPlayer&&clUIVODPlayer.HideControl()}catch(e){console.log(e)}try{clUIVODPlayerNew&&clUIVODPlayerNew.hideMovieLeftMenu()}catch(e){console.log(e)}(""!=getParam(gPlayParam.info_movie,"")?clUIVODPlayerNew:clUIVODPlayer).updateController("advertise_play")}),n.player.on(bitmovin.player.core.PlayerEvent.AdQuartile,function(e){console.info("On Ad Quartile: "+JSON.stringify(e))}),n.player.on(bitmovin.player.core.PlayerEvent.AdManifestLoaded,function(e){console.info("On Ad AdManifestLoaded: "+JSON.stringify(e))}),n.player.on(bitmovin.player.core.PlayerEvent.adbreakstarted,function(e){console.info("On Ad adbreakstarted: "+JSON.stringify(e))}),n.player.on(bitmovin.player.core.PlayerEvent.AdError,function(e){console.info("On Ad Error: "+JSON.stringify(e)),window.isPlayingAds=0;try{"1"==clUIVODPlayer.is_startup_ads&&sendLogStartUpAdsErr(n.ad_link,JSON.stringify(e))}catch(e){console.log(e)}n.param.onEventAdsEnd&&(n.param.onEventAdsEnd(),n.param.onEventAdsEnd=null),""!=getParam(gPlayParam.info_movie,"")?(0<clUIVODPlayerNew.breakpoint&&(clUIVODPlayerNew.gShowGuideVOD=!1),clUIVODPlayerNew.updateController("advertise_stop"),clUIVODPlayerNew.autoShowMovieLeftMenu=!1,clUIVODPlayerNew.showUIMovie()):clUIVODPlayer.updateController("advertise_stop");try{console.info("custom code: call play again just in case"),n.player.play()}catch(e){console.warn("error",e)}}),n.player.on(bitmovin.player.core.PlayerEvent.AdBreakFinished,function(e){console.info("On Ad Break Finished: "+JSON.stringify(e)),window.isPlayingAds=0,n.param.onEventAdsEnd&&(n.param.onEventAdsEnd(),n.param.onEventAdsEnd=null);try{""!=getParam(gPlayParam.info_movie,"")?(0<clUIVODPlayerNew.breakpoint&&(clUIVODPlayerNew.gShowGuideVOD=!1),clUIVODPlayerNew.updateController("advertise_stop"),clUIVODPlayerNew.autoShowMovieLeftMenu=!1,clUIVODPlayerNew.showUIMovie()):clUIVODPlayer&&clUIVODPlayer.updateController("advertise_stop"),0!=getParam(gPlayParam.channel_id,0)&&(1==getParam(gPlayParam.channel,0)&&clUIChannelPlayer&&clUIChannelPlayer.ShowGuideChannelEndAd(),1==getParam(gPlayParam.tvod,0))&&clUIChannelVODPlayer&&clUIChannelVODPlayer.updateController("advertise_stop")}catch(e){console.warn("error",e)}try{console.info("custom code: call play again just in case"),n.player.play()}catch(e){console.warn("error",e)}})},this.currentTime=function(){return n.player.getCurrentTime()},this.setCurrentTime=function(e){n.player.play(),setTimeout(function(){n.player.seek(e)},250)},this.duration=function(){return n.player.getDuration()},this.on=function(e,t){try{n.player.on(e,t)}catch(e){console.log(e)}},this.play=function(){try{setTimeout(function(){n.player.play()},500)}catch(e){console.log("error",e)}},this.skipAd=function(){console.log("thisObj.player",n.player),console.log("clsbitmovin skipad function called");try{console.log("return of thisObj.player.skip() ",n.player.ads.skip())}catch(e){console.log("error @@@",e)}},this.seek=function(e){console.info("bitmovin seek",e);try{n.player.timeShift(-e)}catch(e){console.log("error bitmovin",e)}},this.pause=function(){if(console.info("bitmovin pause"),null!=n.player)try{console.info("thisObj.player.isPaused()",n.player.isPaused()),n.player.isPaused()||(console.info("bitmovin pause called"+Math.random()),n.player.pause())}catch(e){console.log("error",e)}},this.destroy=function(){console.warn("bitmovin destroy called");try{try{n.player.destroy()}catch(e){console.log("error",e)}t&&clearInterval(t),n.QnetCallEnd(),""!=getParam(gPlayParam.ad_data,"")&&(gPlayParam.ad_data.ad_info=""),$("#"+n.divID).removeClass()}catch(e){console.log("error",e)}},this.show=function(){n.initVideoEvent()},this.unload=function(){console.log("bitmovin unload"),n.player.unload()},this.getSubtitleList=function(){return n.player.subtitles.list()},this.getAvailableVideoQualities=function(){return n.player.getAvailableVideoQualities()},this.initVideoEvent=function(){if(null!=chosenDrm)consoleLog("chosenDrm: ",chosenDrm),n.setPlayready();else{var e={hls:n.url,poster:getParam(gPlayParam.poster,"")};"1"<n.url.indexOf(".mpd")&&(e={dash:n.url,poster:getParam(gPlayParam.poster,"")});try{window.last_performance_now=performance.now()}catch(e){console.log(e)}try{console.log("source",e),n.player.load(e).then(function(){console.log("bitmovin timeshift range",n.player.getMaxTimeShift()),n.loadMultiAudio(n.player.getAvailableAudio()),n.loadSubtitles(),window.bitmovinCurrentPlayer=n.player})}catch(e){console.log(e)}}},this.changeSrc=function(e){n.player.load({hls:e}).then(function(){console.info("load new src success"),console.log("bitmovin timeshift range",n.player.getMaxTimeShift())})},this.changeSubtitle=function(e){"-1"==e&&n.player.subtitles.disable(n.current_active_sub_id);try{n.player.subtitles.enable(e),n.current_active_sub_id=e}catch(e){console.log(e)}},this.loadSubtitles=function(){try{for(var e=0;e<gPlayParam.subtitle.length;e++){var t={id:e,lang:gPlayParam.subtitle[e].lang,label:gPlayParam.subtitle[e].lang_label,url:gPlayParam.subtitle[e].url,kind:"subtitle"};n.player.subtitles.add(t)}}catch(e){}},this.changeAudio=function(e){try{n.player.setAudio(e)}catch(e){console.log(e)}},this.loadMultiAudio=function(e){try{clUIVODPlayerNew&&clUIVODPlayerNew.createMultiAudio(e)}catch(e){}try{clUIVODPlayer&&clUIVODPlayer.createMultiAudio(e)}catch(e){}},this.setPlayready=function(){var e={DeleteLicenseAfterUse:!0};""!==chosenDrm.licenseServer&&void 0!==chosenDrm.licenseServer&&(consoleLog("chosenDrm.licenseServer: "+chosenDrm.licenseServer),1!=chosenDrm.drmProvider&&3!=chosenDrm.drmProvider&&2!=chosenDrm.drmProvider||(e.LicenseServer=chosenDrm.licenseServer),e.HttpHeader=chosenDrm.vmx_token),1!=chosenDrm.drmProvider&&3!=chosenDrm.drmProvider||""!==chosenDrm.customData&&void 0!==chosenDrm.customData&&(consoleLog("chosenDrm.customData: "+chosenDrm.customData),e.CustomData=chosenDrm.customData),consoleLog("setDrm Playready param: "+JSON.stringify(e));try{n.playDRM(e)}catch(e){consoleLog(e.name)}},this.playDRM=function(e){source={dash:n.url,drm:{playready:{LA_URL:e.LicenseServer,utf8message:!0,plaintextChallenge:!0,customData:e.CustomData,headers:{"Content-Type":"text/xml"}},preferredKeySystems:["playready"],immediateLicenseRequest:!0}},""!=getParam(e.HttpHeader,"")&&(source.drm.playready.headers.Authorization=e.HttpHeader),isLG()&&(console.log("bitmovin lg case"),source={dash:n.url,drm:{widevine:{LA_URL:e.LicenseServer,utf8message:!0,plaintextChallenge:!0,headers:{"Content-Type":"text/xml",Authorization:e.HttpHeader}}}}),3==n.param.drms.PLAYREADY.drmProvider&&(source={dash:n.url,drm:{playready:{LA_URL:e.LicenseServer,utf8message:!0,plaintextChallenge:!0,headers:{"Content-Type":"text/xml","http-header-CustomData":e.CustomData}}}},isLG())&&(source={dash:n.url,drm:{widevine:{LA_URL:"https://lic.drmtoday.com/license-proxy-widevine/cenc/",utf8message:!0,plaintextChallenge:!0,headers:{"Content-Type":"text/xml","dt-custom-data":e.CustomData},prepareLicense:function(e){var t={license:e.license};try{var i=JSON.parse(String.fromCharCode.apply(null,e.license));if(i&&i.status&&i.license&&"OK"===i.status){for(var o=window.atob(i.license),n=new Uint8Array(new ArrayBuffer(o.length)),a=0;a<o.length;a++)n[a]=o.charCodeAt(a);t.license=n}}catch(e){}return t}}}}),console.log("----------src loaded hereeeeeee--------------------",source),n.loadSource(source)},this.loadSource=function(e){try{window.last_performance_now=performance.now()}catch(e){console.log(e)}n.player.load(e).then(function(){console.log("bitmovin timeshift range",n.player.getMaxTimeShift()),window.bitmovinCurrentPlayer=n.player,""!==getParam(chosenDrm,"")&&3==chosenDrm.drmProvider&&""!=chosenDrm.qnet_token&&(console.log("start pinging every 60s"),n.PingQnet(),t=setInterval(function(){n.PingQnet()},1e3*gdrm_today_info_ping_timeout))},function(e){console.info("error loadSource bitmovin",e),ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog({pathSteps:"bitmovin loadSource error",content:JSON.stringify(e)})}catch(e){console.log("error",e)}},null,!0)}).catch(function(e){console.error("Error while creating bitmovin player instance",e),ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog({pathSteps:"Error while creating bitmovin player instance",content:JSON.stringify(e)})}catch(e){console.log("error",e)}},null,!0)})},this.PingQnet=function(){console.log("PingQnet called"),console.log("qnet_token"),console.log(chosenDrm.qnet_token),console.log("qnet_operatorid"),console.log(chosenDrm.qnet_operatorid);var e={data:{token:chosenDrm.qnet_token,operatorId:chosenDrm.qnet_operatorid}};ApiPost_Qnet("/csl/ping",e,function(e){console.log("data from ping after play qnet: "),console.log(e);try{var t;200==e.ec?localStorage.setItem("Qnet_token",chosenDrm.qnet_token):202==e.ec?(chosenDrm.qnet_token=e.token,localStorage.setItem("Qnet_token",chosenDrm.qnet_token)):405==e.ec?n.param.onEventErrorTechnical&&n.param.onEventErrorTechnical("Có lỗi khi kết nối tới QNET 405 (935)",935):401==e.ec?n.param.onEventErrorTechnical&&n.param.onEventErrorTechnical("Có lỗi khi kết nối tới QNET 401 (935)",935):426==e.ec&&(t={data:{session:chosenDrm.qnet_session,operatorId:chosenDrm.qnet_operatorid}},ApiPost_Qnet(" /csl/refresh",t,function(e){console.log("call qnet to get new token: "),console.log(e);try{null!=e.token&&null!=e.token&&(chosenDrm.qnet_token=e.token,n.PingQnet())}catch(e){console.log("error when trying to refrest token -- ping to qnet",e)}},function(e){}))}catch(e){console.log("error when first ping to qnet success case",e)}},function(e){console.log("error when pinging qnet every 60s"),console.log(e),426==e.ec&&(e={data:{session:chosenDrm.qnet_session,operatorId:chosenDrm.qnet_operatorid}},ApiPost_Qnet("/csl/refresh",e,function(e){console.log("call qnet to get new token: "),console.log(e);try{null!=e.token&&null!=e.token&&(chosenDrm.qnet_token=e.token,console.log(e.token),n.PingQnet())}catch(e){console.log("error when trying to refrest token -- ping to qnet",e)}},function(e){}))})},this.QnetCallEnd=function(){var e;t&&clearInterval(t),""!==getParam(chosenDrm,"")&&3==chosenDrm.drmProvider&&""!=chosenDrm.qnet_token&&(console.log("trying to call /csl/end to qnet"),e={data:{token:chosenDrm.qnet_token}},ApiPost_Qnet("/csl/end",e,function(e){console.log("called /csl/end for qnet success event"),console.log(e)},function(e){console.log("called /csl/end for qnet error event"),console.log(e);e={data:{session:chosenDrm.qnet_session,operatorId:chosenDrm.qnet_operatorid}};ApiPost_Qnet("/csl/refresh",e,function(e){console.log("call qnet to get new token: "),console.log(e);try{var t;null!=e.token&&null!=e.token&&(chosenDrm.qnet_token=e.token,t={data:{token:chosenDrm.qnet_token}},ApiPost_Qnet("/csl/end",t,function(e){console.log("called /csl/end for qnet success event"),console.log(e)},function(e){console.log("called /csl/end for qnet error event"),console.log(e)}))}catch(e){console.log("error when trying to refrest token -- ping to qnet",e)}},function(e){})})),hideLoading()},this.getDrmAgent=function(e){return webOSDev&&e&&webOSDev.drmAgent(e)},this.loadDrm=function(e){return new Promise(function(t,i){try{e.load({onSuccess:function(e){t(e)},onFailure:function(e){i(e)}})}catch(e){i("Error while loading DRM manager",e)}})},this.isDrmLoaded=function(o){return new Promise(function(t,i){if(!o)return i("No drmAgent");o.isLoaded({onSuccess:function(e){!0===e.loadStatus?t(e):n.loadDrm(o).then(function(e){t(e)}).catch(function(e){i(e)})},onFailure:function(e){i(e)}})})},this.reloadBitmovinLib=function(){console.warn("trying to reload bitmovin lib");try{[{name:"b-all",url:window.bitmovin_path}].forEach(function(e){(elem=document.getElementById(e.name)).parentNode.removeChild(elem);var t=document.createElement("script");t.src=e.url,t.async=!1,t.id=e.name,console.info("~~~~~~~~~~try reload lib~~~~~~~~~~~~~~",t.id),$("body #"+e.name).length||document.head.appendChild(t)})}catch(e){console.log("error",e)}},this.isChannelSupportLL=function(){if("1"!=getParam(gPlayParam.low_latency,0))return!1;try{bitmovin.player.core.Player.addModule(window.bitmovin.player.lowlatency.default)}catch(e){console.log(e)}return!0},this.addLLConfigNotSupportDevice=function(){n.conf.playback.preferredTech=[{player:"html5"}],delete n.conf.buffer},this.addLLConfigSupportDevice=function(){n.conf.live={lowLatency:{targetLatency:3,catchup:{playbackRateThreshold:.075,seekThreshold:5,playbackRate:1.2},fallback:{playbackRateThreshold:.075,seekThreshold:5,playbackRate:.95}}},n.conf.playback.preferredTech=[{player:"html5",streaming:"dash"}],n.conf.tweaks={file_protocol:!0,app_id:"com.mytvb2c.app",RESTART_THRESHOLD:.2,RESTART_THRESHOLD_DELTA:.05,STARTUP_THRESHOLD:.2,STARTUP_THRESHOLD_DELTA:.05,END_OF_BUFFER_TOLERANCE:.05,LIVE_EDGE_DISTANCE:.5,LOW_LATENCY_BUFFER_GUARD:.8,CHUNKED_CMAF_STREAMING:!0},delete n.conf.buffer,1==clsClientLog.debug&&showAutoHideWarning("lowLatency : 7")},this.isDeviceSupportLowlatency=function(){var e=gOS.indexOf("."),t=gOS;return 1<=e&&(t=t.substr(0,e)),27==gDeviceType&&"6"<=t||108==gDeviceType||115==gDeviceType},this.addBitmovinAnalytics=function(){try{1==window.bitmovin_analytics&&(n.conf.analytics={key:"98CADBC4-7ACD-401F-A450-02266ADD8BFE",videoId:"Analytic LG & SS",config:{origin:"com.mytvb2c.app"}})}catch(e){console.log(e)}}}function showDebugOnScreen(e,t){try{"redis11"!=gDeviceInfo.Username&&"redis52"!=gDeviceInfo.Username||(e+="</br>",t=getParam(t,5),$("#debug").show().append(e),setTimeout(function(){$("#debug").hide()},25e3))}catch(e){console.log("er",e)}}function clsNotification(){var D=this,L=null,k=(this.wrapObjId="notification_alert",this.wrapObjIdToast="notification_toast",this.wrapObjIdpostage="postage_alert",this.urlBack="",this.timerToast=null,this.timerAlert=null,this.pathImg="",null),E=null,i=1,e=0;this.dataPostage=null,this.getURLBack=function(){return this.urlBack},this.onOKFn=function(){try{ModuleManager.loadFile("clsLogBehaviorV2",function(){console.log("alertData",k),clsLogBehaviorV2.setNotificationPopup("view",k.type_id,k.category_id,k.notification_id,k.notification_type,k.content_id),0==getParam(k.content_id,0)&&clsLogBehaviorV2.saveLogActionPopup("NotifyOnApp")},null,!0)}catch(e){console.log(e)}D.hide(),D.param.onOKFn&&D.param.onOKFn()},this.onCancelFn=function(){writeLogBehaviorCloseNoti(k,e,i),D.hide(),D.saveDataReshow(),D.param.onCancelFn&&(actionLog("Click",D.wrapObjId),D.param.onCancelFn())},this.onCheckBoxFn=function(){0==e?(e=1,$("#btn_postage_checkbox img").attr("src",D.pathImg+"info_check.png")):(e=0,$("#btn_postage_checkbox img").attr("src",D.pathImg+"info_uncheck.png")),gDeviceAPI.writeData("postage_off_alert"+getCurrentProfileIDNotification(),JSON.stringify(e)),D.param.onCheckBoxFn&&(actionLog("Click",D.wrapObjId),D.param.onCheckBoxFn())},this.onBackFn=function(){D.hide(),D.saveDataReshow(),D.param.onBackFn?(actionLog("Click",D.wrapObjId),D.param.onBackFn()):D.param.onCancelFn&&(writeLogBehaviorCloseNoti(k,e,i),D.param.onCancelFn())},this.setParam=function(e){(L=e.VMP).getObjById(D.wrapObjId)||L.register(D),D.param=e,i=getParam(D.param.typeAlert,1)},this.getName=function(){return 1==i?this.wrapObjId:this.wrapObjIdpostage},this.buildPageHTML=function(){$("body #notification_toast").length||$("body").append('<div id="notification_toast" class="home-toast" vmp-responsive="font-size" style="display: none;"></div>');var e='<div id="notification_alert" class="home-alert-wr" style="display: none;"><div class="home-alert" style="height: '+SPA.convertScale(155)+"px; font-size: "+SPA.convertScale(28)+'px"><div class="alert-item text-center" style="float:left; height: 100%;box-sizing: border-box;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;"><div class="alert-icon"><img src="app-images/upgrate/noti_icon.png"></div></div><div class="alert-item"><div class="alert-content"><div id="notification_alert_title"> <b>“Sa mạc chết chóc (Scenic Route)”</b> </div><div id="notification_alert_content" style="text-align:justify;"> Bộ phim tâm lý kinh dị, rởn da gà với cái kết không ngờ... </div></div></div><div class="alert-item text-center"><div class="alert-button"><div><span id="btn_notification_ok" class="alert-btn" vmp-item="" vmp-responsive="" index="0" style="width: '+SPA.convertScale(100)+'px"> Xem </span><span id="btn_notification_cancel" class="alert-btn " vmp-item="" vmp-responsive="" index="0" style="width: '+SPA.convertScale(100)+'px"> Đóng </span></div></div></div></div></div>';$("body #notification_alert").length||$("body").append(e)},this.buildTemplatepostage=function(){var e='<div id="postage_alert" class="home-alert-wr" style="display: none;"><div class="home-alert" style="height: '+SPA.convertScale(260)+"px; font-size: "+SPA.convertScale(28)+'px;border-radius: 20px;"><div class="alert-item" style="width:96%;padding:2%;background: transparent;"><div class="alert-content"><div id="postage_alert_title"></div><div id="postage_alert_content" style="text-align:justify;"> Bộ phim tâm lý <b>“Sa mạc chết chóc (Scenic Route)”</b> kinh dị, rởn da gà với cái kết không ngờ... Bộ phim tâm lý <b>“Sa mạc chết chóc (Scenic Route)”</b> kinh dị, rởn da gà với cái kết không ngờ... </div></div></div><div style="border-bottom:1px black solid; width:96%; margin: 0 2%;"></div><div class="alert-item" style="width:98%;padding:'+SPA.convertScale(10)+"px 0;height:"+SPA.convertScale(40)+"px;line-height:"+SPA.convertScale(40)+'px;"><div class="alert-item" style="width:35%;float: right;background: transparent;text-align:right;"><div class="alert-button"><div><span id="btn_postage_cancel" class="alert-btn" vmp-item="" vmp-responsive="" index="0" style="width: '+SPA.convertScale(150)+'px"> Bỏ qua </span><span id="btn_postage_pay" class="alert-btn " vmp-item="" vmp-responsive="" index="0" style="width: '+SPA.convertScale(180)+'px"> Thanh toán </span></div></div></div><div id="btn_postage_checkbox" class="alert-item" vmp-item="" style="width:63%;float: right;text-align: left;height:'+SPA.convertScale(35)+"px;padding-left:"+SPA.convertScale(20)+'px;"><img src="'+D.pathImg+'info_uncheck.png" style="height:'+SPA.convertScale(35)+"px;width:"+SPA.convertScale(35)+"px !important;vertical-align: middle;margin-right:"+SPA.convertScale(10)+'px;">Không hiển thị thông báo nữa</div></div></div></div>';$("body #postage_alert").length||($("body").append(e),1==use_keyboard&&($("#btn_postage_pay").bind("click",function(){D.onOKFn()}),$("#btn_postage_cancel").bind("click",function(){D.onCancelFn()}),$("#btn_postage_checkbox").bind("click",function(){D.onCheckBoxFn()})))},this.init=function(){D.pathImg=ModuleManager.getTemplatePath()+"v2/images/",D.buildPageHTML(),1==use_keyboard&&($("#btn_notification_ok").bind("click",function(){D.onOKFn()}),$("#btn_notification_cancel").bind("click",function(){D.onCancelFn()}))},this.sendKey=function(e){this.onKeyPressed({which:e})},this.setFocus=function(){},this.lostFocus=function(){},this.setHighlight=function(){1==i?1==E?($("#btn_notification_ok").addClass("alert-btn-active"),$("#btn_notification_cancel").removeClass("alert-btn-active")):($("#btn_notification_ok").removeClass("alert-btn-active"),$("#btn_notification_cancel").addClass("alert-btn-active")):2==i&&(1==E?($("#btn_postage_pay").removeClass("alert-btn-active"),$("#btn_postage_cancel").removeClass("alert-btn-active"),$("#btn_postage_checkbox").css("color","#0271f1")):(2==E?($("#btn_postage_pay").removeClass("alert-btn-active"),$("#btn_postage_cancel").addClass("alert-btn-active")):($("#btn_postage_pay").addClass("alert-btn-active"),$("#btn_postage_cancel").removeClass("alert-btn-active")),$("#btn_postage_checkbox").css("color","black")))},this.show=function(){try{D.hide(),setTimeout(function(){this.urlBack=SPA.getFullURLCurrent();var n=null;if(null==(n=D.param.data?D.param.data:n))gNotificationShow=!1,window.VMP.setActive(gVMPCurrentActive);else{var e,t,i=getShortURL();if("channelPlayer"!=i&&"channelTvodPlayer"!=i&&"eventsPlay"!=i)if(isNotNull(n.display_type)&&2==n.display_type)gNotificationShow=!1,window.VMP.setActive(gVMPCurrentActive);else{if(isNotNull(n.product_list))if(""!=n.product_list)if(0==n.product_list.split(",").includes(gServerResponse.product_id))return gNotificationShow=!1,void window.VMP.setActive(gVMPCurrentActive);2==n.notification_type?(saveLogImpressedNoti(n),$("#"+D.wrapObjIdToast).show(),180<(i=n.notification_desc).length&&(i=i.substring(0,180)+"..."),$("#"+D.wrapObjIdToast).html(i),0==(t=getParam(1e3*n.time_out,5e3))&&(t=5e3),isNaN(t)&&(t=5e3),D.timerToast=setTimeout(function(){ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.setNotificationPopup(action,n.type_id,n.category_id,n.notification_id,n.notification_type,n.content_id),clsLogBehaviorV2.saveLogActionPopup(SPA.getScreenBeforePopup())},null,!0),gNotificationShow=!1,$("#"+D.wrapObjIdToast).hide()},t)):1==n.notification_type?1==getParam(n.is_reminder,0)?D.showpostage(n):(APP_CURRENT_STATE=APP_STATE.POPUP,i=n.notification_title,e=n.notification_desc,40<i.length&&(i=i.substring(0,40)+"..."),90<e.length&&(e=e.substring(0,90)+"..."),saveLogImpressedNoti(n),$("#notification_alert_title").html("<b>"+i+"</b>"),$("#notification_alert_content").html(e),$("#btn_notification_ok").html(getParam(D.param.button_ok_text,"Xem")),$("#btn_notification_cancel").html(getParam(D.param.button_cancel_text,lang("common_popup_cancel"))),1==getParam(D.param.transparent,0)?$("#"+D.wrapObjId).addClass("bg-transparent"):$("#"+D.wrapObjId).removeClass("bg-transparent"),E=2,k=n,D.setHighlight(),$("#"+D.wrapObjId).show(),0==(t=getParam(1e3*n.time_out,15e3))&&(t=15e3),isNaN(t)&&(t=15e3),D.timerAlert=setTimeout(function(){writelogBehaviorTimeout(n),APP_CURRENT_STATE=APP_STATE.NORMAL,$("#"+D.wrapObjId).hide(),gNotificationShow=!1,window.VMP.setActive(gVMPCurrentActive)},t)):3!=n.notification_type&&6!=n.notification_type&&4!=n.notification_type||gDeviceAPI.readData(gNotificationDataPopup+getCurrentProfileIDNotification(),function(e){if(console.info(e),null!==e){for(var t=!1,i=0;i<e.length;i++)if(e[i].screen_url==n.screen_url){if("clip"!=n.screen_url){e[i]=n,t=!0;break}if(e[i].module_type_id==n.module_type_id){e[i]=n,t=!0;break}}t||e.push(n),gDeviceAPI.writeData(gNotificationDataPopup+getCurrentProfileIDNotification(),JSON.stringify(e));var o=_leftMenuFnc.getCurrentModuleID();n.module_id==o&&objNotification.showNotification(n.notification_type)}else{o=[];o.push(n),gDeviceAPI.writeData(gNotificationDataPopup+getCurrentProfileIDNotification(),JSON.stringify(o)),objNotification.showNotification(n.notification_type)}})}}},100)}catch(e){console.error("--exception--"),gNotificationShow=!1,window.VMP.setActive(gVMPCurrentActive)}},this.backFocus=function(){gNotificationShow=!1,window.VMP.setActive(gVMPCurrentActive)},this.saveDataReshow=function(){D.dataPostage&&(D.dataPostage.data.reshows[D.dataPostage.index]=new Date,gDeviceAPI.writeData("postage_data"+getCurrentProfileIDNotification(),JSON.stringify(D.dataPostage.data)))},this.showpostage=function(t){try{gVMPCurrentActive="homepage_main_content";var i=null;if(gDeviceAPI.readData("postage_data"+getCurrentProfileIDNotification(),function(e){null!=e&&(i=e)}),null!=i){var e=JSON.parse(JSON.stringify(i));if(delete i.shows,delete i.reshows,JSON.stringify(i)!=JSON.stringify(t)){gDeviceAPI.writeData("postage_off_alert"+getCurrentProfileIDNotification(),JSON.stringify(null)),(i=t).shows=[],i.reshows=[];for(var o=getParam(JSON.parse(t.popup_date_range),[]),n=0;n<o.length;n++)i.shows.push(0),i.reshows.push(null)}else(i=t).shows=e.shows,i.reshows=e.reshows}else{gDeviceAPI.writeData("postage_off_alert"+getCurrentProfileIDNotification(),JSON.stringify(null)),(i=t).shows=[],i.reshows=[];for(o=getParam(JSON.parse(t.popup_date_range),[]),n=0;n<o.length;n++)i.shows.push(0),i.reshows.push(null)}var a=0;if(gDeviceAPI.readData("postage_off_alert"+getCurrentProfileIDNotification(),function(e){null!==e&&(a=e)}),1==a)gDeviceAPI.readData("alertPTList"+getCurrentProfileIDNotification(),function(e){null==e?e=","+t.notification_id:-1==e.indexOf(","+t.notification_id)&&(e=e+","+t.notification_id),gDeviceAPI.writeData("alertPTList"+getCurrentProfileIDNotification(),JSON.stringify(e))}),D.backFocus();else{0==getParam(t.status,1)&&(gDeviceAPI.readData("alertPTList"+getCurrentProfileIDNotification(),function(e){null==e?e=","+t.notification_id:-1==e.indexOf(","+t.notification_id)&&(e=e+","+t.notification_id),gDeviceAPI.writeData("alertPTList"+getCurrentProfileIDNotification(),JSON.stringify(e))}),D.backFocus());for(var r=!1,l=new Date,s=-1,c=getParam(JSON.parse(t.popup_date_range),[]),u=getParam(JSON.parse(t.popup_time_range),[]),p=0;p<c.length;p++)if(1!=i.shows[p]){var m=c[p],d=createDateFromDates(m.from,0,0,0),g=createDateFromDates(m.to,23,59,59);if(d<=l&&l<=g)for(var h=0;h<u.length;h++){var _=u[h],v=createDateFromHour(_.from),f=createDateFromHour(_.to);if(v<=l&&l<=f){r=!0,s=p;break}}}console.warn("---dataItem.shows---",t.shows),-1!=s&&(i.shows[s]=1);for(var b=!0,n=0;n<i.shows.length;n++)if(0==i.shows[n]){b=!1;break}b&&gDeviceAPI.readData("alertPTList"+getCurrentProfileIDNotification(),function(e){null==e?e=","+t.notification_id:-1==e.indexOf(","+t.notification_id)&&(e=e+","+t.notification_id),gDeviceAPI.writeData("alertPTList"+getCurrentProfileIDNotification(),JSON.stringify(e))});var C=!1;if(!r){for(var y=parseInt(getParam(t.day_reshow,48)),w=0;w<i.reshows.length;w++){var P,A,S=i.reshows[w];null!=S&&((S=new Date(S)).setHours(S.getHours()+y),(P=new Date).setMinutes(0),P.setSeconds(0),(A=new Date).setMinutes(59),A.setSeconds(59),P<=S)&&S<=A&&(C=!0,i.reshows[w]=null)}if(gDeviceAPI.writeData("postage_data"+getCurrentProfileIDNotification(),JSON.stringify(i)),!C)return void D.backFocus()}gDeviceAPI.writeData("postage_data"+getCurrentProfileIDNotification(),JSON.stringify(i)),D.dataPostage=C?null:{data:i,index:s},L.setActive(D.getName()),APP_CURRENT_STATE=APP_STATE.POPUP;var I=t.notification_desc;200<I.length&&(I=I.substring(0,200)+"..."),saveLogImpressedNoti(t),D.buildTemplatepostage(),$("#postage_alert_content").html(I),$("#btn_postage_ok").html(getParam(D.param.button_ok_text,"Xem")),$("#btn_postage_cancel").html(getParam(D.param.button_cancel_text,lang("common_popup_cancel")));1==getParam(D.param.transparent,0)?$("#"+D.wrapObjIdpostage).addClass("bg-transparent"):$("#"+D.wrapObjIdpostage).removeClass("bg-transparent"),E=3,k=t,D.setHighlight(),$("#"+D.wrapObjIdpostage).show();var x=getParam(1e3*t.time_out,15e3);0==x&&(x=15e3),isNaN(x)&&(x=15e3),D.timerAlert=setTimeout(function(){writelogBehaviorTimeout(t),D.saveDataReshow(),APP_CURRENT_STATE=APP_STATE.NORMAL,$("#"+D.wrapObjIdpostage).hide(),gNotificationShow=!1,window.VMP.setActive(gVMPCurrentActive)},x)}}catch(e){console.warn(" errorrrrrrrrrrrr",e),D.backFocus()}},this.hide=function(){$("#"+D.wrapObjIdpostage).hide(),$("#"+D.wrapObjId).hide(),$("#"+D.wrapObjIdToast).hide(),$("#dialog_notification_play_toast").hide(),$("#dialog_notification_play").hide(),D.timerToast&&(clearTimeout(D.timerToast),D.timerToast=null),D.timerAlert&&(APP_CURRENT_STATE=APP_STATE.NORMAL,clearTimeout(D.timerAlert),D.timerAlert=null),gNotificationShow=!1},this.hideToastNotification=function(){-1!=["channelPlayer","hboChannelPlayer","eventsPlay","chooseProfile","manageProfile","loadingProfile","loginSelfCare"].indexOf(SPA.currentPath)&&($("#"+D.wrapObjIdToast).hide(),$("#dialog_notification_play_toast").hide(),D.timerToast&&(clearTimeout(D.timerToast),D.timerToast=null),gNotificationShow=!1)},this.onKeyPressed=function(e){var t=e.which;if(1==i)switch(t){case KEY_LEFT:case KEY_RIGHT:E=1==E?2:1,D.setHighlight();break;case KEY_ENTER:1==E?D.onOKFn():D.onCancelFn();break;default:isBackKey(t)&&D.onBackFn()}else if(2==i)switch(t){case KEY_LEFT:--E<1&&(E=1),D.setHighlight();break;case KEY_RIGHT:3<++E&&(E=3),D.setHighlight();break;case KEY_ENTER:1==E?D.onCheckBoxFn():2==E?D.onCancelFn():D.onOKFn();break;default:isBackKey(t)&&D.onBackFn()}},this.TESTER={getCurrentStatus:function(){return D.param.status},getCurrentMessage:function(){return D.param.content}},this.init()}function saveLogImpressedNoti(t,i){try{setTimeout(function(){var e="NotifyOnApp";ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.setNotificationPopup("impressed",t.type_id,t.category_id,t.notification_id,t.notification_type,t.content_id),SPA.getScreenName()!=e&&SPA.setScreenBeforePopup(SPA.getScreenName()),clsLogBehaviorV2.saveLogImpressedPopup(e),0!=getParam(i,1)&&SPA.setScreenName(e)},null,!0)},1500)}catch(e){console.log(e)}}function writeLogBehaviorCloseNoti(t,e,i){try{i=getParam(i,1);var o="close";1==(e=getParam(e,-1))&&(o="skip",2==i)&&gDeviceAPI.writeData("postage_off_alert"+getCurrentProfileIDNotification(),JSON.stringify(e)),ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.setNotificationPopup(o,t.type_id,t.category_id,t.notification_id,t.notification_type,t.content_id);var e=SPA.getScreenBeforePopup();clsLogBehaviorV2.saveLogActionPopup(e),SPA.setScreenName(e)},null,!0)}catch(e){console.log(e)}}function writelogBehaviorTimeout(e){ModuleManager.loadFile("clsLogBehavior",function(){clsLogBehaviorV2.setNotificationPopup("timeout",e.type_id,e.category_id,e.notification_id,e.notification_type,e.content_id),clsLogBehaviorV2.saveLogActionPopup(SPA.getScreenBeforePopup())},null,!0)}window.timeOutFocusLeftMenuSupport=null,window.buildTemplateLeftmenuSupport=function(){for(var e="",t=("online"!=gDevMode&&(e="("+gDevMode+")"),ModuleManager.getTemplatePath()+"UI_UX/setting_top.png"),i=($("#Menu_Title").html('<img vmp-responsive="width" src="'+t+'" style="width: 64px;"> CÀI ĐẶT '+e),("undefined"==typeof gMenuSupport||null==typeof gMenuSupport||null==gMenuSupport||0==gMenuSupport.length||"undefined"!=typeof EMCFlag&&1==EMCFlag)&&(gMenuSupport=[{ID:"1",MENU_ID:"0",MENU_HTML5:"info_b2c",MENU_TITLE:"Thông tin tài khoản",MENU_HEADER:"Thông tin tài khoản",MENU_IMAGE_ACTIVE:"app-images/ico_account_active.png",MENU_IMAGE_INACTIVE:"app-images/ico_account.png",MODIFYDATE:"2021-05-17 16:22:20"},{ID:"17",MENU_ID:"0",MENU_HTML5:"common_setting",MENU_TITLE:"Thiết lập chung",MENU_HEADER:"Thiết lập chung",MENU_IMAGE_ACTIVE:"app-images/ico_config_active.png",MENU_IMAGE_INACTIVE:"app-images/ico_config.png",MODIFYDATE:"2021-05-14 14:04:05"}]),"<style>"),o=(i+=".lst-button .item-button {padding: 8px 15px 8px 45px;}",""),n=0;n<gMenuSupport.length;n++){var a=gMenuSupport[n];o+='<div id="'+a.MENU_HTML5+'" class="item-button" vmp-item vmp-responsive="margin-bottom"><span id="ico-support-wrap" class="ico-support-wrap ico-sp-'+a.MENU_HTML5+'" aria-hidden="true" vmp-responsive="width, height"></span><span class="spansupport" id="span_menu_'+a.MENU_HTML5+'" vmp-responsive="font-size">'+a.MENU_TITLE+"</span></div>",i=(i+=".ico-sp-"+a.MENU_HTML5+"{background:url("+a.MENU_IMAGE_INACTIVE+")no-repeat;background-size: 100% 100%}")+(".item-button.focused .ico-sp-"+a.MENU_HTML5+"{background:url("+a.MENU_IMAGE_ACTIVE+")no-repeat;background-size: 100% 100%}")}i+="</style>",$("#ico-support-wrap").css("background","url(app-images/upgrate/setting_top_2.png) no-repeat"),$("#vmp-content").append(i),$("#leftmenu_wr").html(o),SPA.autoResponsive("#leftmenu_wr",0)},window.createSupportLeftMenuB2C=function(e){isShowLogOut=0,isShowChangeDev=0,isShowChangeDevEco=0,isShowChangeDevPackage=0,lostFocusRightFnB2C=e,buildTemplateLeftmenuSupport();var t={support_logout:"info_b2c",introduce_package_b2c:"introduce_package_b2c",page_history_month:"history_transaction_b2c","generate-qr":"qr-login",list_package:"change_package_b2c",package_wr:"change_package_b2c",list_package_eco:"change_package_eco",package_wr_eco:"change_package_eco",info_device:"info_device_b2c",device_list_page:"multiscreen_devices",support_remote:"remote",guide_header:"guide",promotion_b2c:"promotion",notify_header:"notify",customer_care:"customer_care_b2c","":"survey_b2c",common_setting_page:"common_setting",list_package_extra:"package_extra_b2c",change_package_page:"multiscreen_package",channel_sort_order_support:"channel_sort_order",vpoint_page:"vpoint",payment_history:"payment_history",vmp_package:"packageService"};try{if("string"==typeof lostFocusRightFnB2C)for(var i=0;i<gMenuSupport.length;i++)if(t[lostFocusRightFnB2C]==gMenuSupport[i].MENU_HTML5){$(".account-title span:last-child").html(gMenuSupport[i].MENU_HEADER);break}}catch(e){}return gAppReview&&($("#package_extra_b2c").remove(),$("#history_transaction_b2c").remove(),$("#change_package_b2c").remove(),$("#multiscreen_package").remove(),$("#multiscreen_devices").remove(),$("#promotion").remove(),$("#qr-login").remove(),$("#survey_b2c").remove(),$("#package").remove(),$("#introduce_package_b2c").remove()),1==gEcosystem&&$("#multiscreen_package").remove(),SPA.screenHeight<=750&&(SPA.transform({element:"#support_menu_b2c .spp-wrap-r",transform:"translateY(-68px)"}),$(".lst-button").attr("vmp-responsive",""),$(".lst-button").css("margin-top","0px"),$("#leftmenu_wrapper_div").css("height","106%")),objSupportLeftMenuB2C=new clsFormView({wrap_obj_id:"support_menu_b2c",display_type:"vertical",IsLeftMenu:1,visible_line_leftmenu:15,onLostFocusDownFn:function(e){},onLostFocusUpFn:function(e){},onLostFocusRightFn:function(e){"string"==typeof lostFocusRightFnB2C?("page_history_month"==lostFocusRightFnB2C&&(isLostRightTransB2C=!0),"list_package_extra"==lostFocusRightFnB2C&&(isLostRightPackageExtra=!0),"mlt_devices_mng"==lostFocusRightFnB2C&&(isLostRightMultiscreenDevices=!0),"page_info_device_button"==lostFocusRightFnB2C&&(isLostRightInfoDevice=!0),"list_notify"==lostFocusRightFnB2C&&(isLostRightNotify=!0),"list_guide"==lostFocusRightFnB2C&&(isLostRightGuide=!0),"remote"==lostFocusRightFnB2C&&(isLostRightRemote=!0),"generate-qr"==lostFocusRightFnB2C&&(isLostRightQRLogin=!0),"vpoint_cate"==lostFocusRightFnB2C&&(isLostRightVPoint=!0),"payment_history"==lostFocusRightFnB2C&&(isLostRightPaymentHistory=!0),console.log("----"+lostFocusRightFnB2C),VMP.setActive(lostFocusRightFnB2C)):lostFocusRightFnB2C()},onLostFocusLeftFn:function(e){},onItemFocusFn:function(e){var t=e.getCurrentItem().itemId;cssMenuFocus(t),null==timeOutFocusLeftMenuSupport&&(timeOutFocusLeftMenuSupport=setTimeout(function(){-1==exceptionNonAutoFocus.indexOf(t)&&handleClick(e)},1500))},onItemLostFocusFn:function(e){e=e.getCurrentItem();cssMenuLostFocusB2C(),e.itemId,clearTimeoutFocusLeftMenuSupport()},onItemClickFn:handleClick,onBackFn:function(e){clearTimeoutFocusLeftMenuSupport(),"string"==typeof lostFocusRightFnB2C&&"support_remote"==lostFocusRightFnB2C&&null!=socketService&&(socketService.VIEW_PAGE=""),SPA.goBack()},VMP:VMP})},window.clearTimeoutFocusLeftMenuSupport=function(){clearTimeout(timeOutFocusLeftMenuSupport),timeOutFocusLeftMenuSupport=null},window.moveLeftMenuUp=function(){gtimeMoveLeftMenu<2&&(gtimeMoveLeftMenu++,gtranslateY-=100,SPA.transform({element:"#leftmenu_wrapper_div .lst-button",transform:"translateY("+gtranslateY+"px)",transition:1}))},window.moveLeftMenu=function(e,t){gMenuSupport.length<=14||(e==gMenuSupport[12].MENU_HTML5&&t==gMenuSupport[11].MENU_HTML5&&gtimeMoveLeftMenu<2&&(gtimeMoveLeftMenu++,gtranslateY-=100,SPA.transform({element:"#leftmenu_wrapper_div .lst-button",transform:"translateY("+gtranslateY+"px)",transition:1})),e==gMenuSupport[11].MENU_HTML5&&t==gMenuSupport[12].MENU_HTML5&&0<gtimeMoveLeftMenu&&(gtimeMoveLeftMenu--,gtranslateY+=100,SPA.transform({element:"#leftmenu_wrapper_div .lst-button",transform:"translateY("+gtranslateY+"px)",transition:1})))},window.processLogOut=function(){console.log("process log out called");ApiPost("account/logout",{show_loading:!0,data:{}},function(e){if(0==e.result){ModuleManager.loadFile("clsSmartView",function(){clsSmartView&&clsSmartView.sendEvent("tv_message",{code:5,message:"TV Logout"})},function(){console.error("Không load được file SmartView")},!0),console.log("go to login page"),$("#debug").hide(),gCheckSelfcareAlert=0,gIsLogin=!1,gAccountInfo="",gDeviceInfo.AuthenType=1,deviceLogoutAccount(),setServerResponse(),cacheManager.removeAll(),routerManager.clearAll(),gDeviceAPI.writeData("Advertise_popup",null),gDeviceAPI.writeData("key_support_survey"+g_currentProfile.PROFILE_ID,null),gDeviceAPI.writeData("key_module_survey"+g_currentProfile.PROFILE_ID,null),gDeviceAPI.writeData("key_limit_survey"+g_currentProfile.PROFILE_ID,null),gDeviceAPI.writeData("key_timeout_callapi_survey"+g_currentProfile.PROFILE_ID,null),gDeviceAPI.writeData("key_lasttime_callapi_survey"+g_currentProfile.PROFILE_ID,null),gDeviceAPI.writeData("key_lasttime_callapi_notification",null),gDeviceAPI.writeData("notification_data_popup",null),gDeviceAPI.writeData("notification_data_popup_api",null),gDeviceAPI.writeData("alertPTList",null),gDeviceAPI.writeData("notification_data_text",null),gDeviceAPI.writeData("voteList",null),gDeviceAPI.writeData("show_expired_hst",null),gDeviceAPI.writeData(gShowExpired,null),gDeviceAPI.writeData("gReminderV2",null),gDeviceAPI.writeData("g_profileList",null),gDeviceAPI.writeData("g_currentProfile",null),gDeviceAPI.writeData("postage_off_alert",null),gDeviceAPI.writeData("postage_data",null),gDeviceAPI.writeData("abtesting_flag",null),ModuleManager.loadFile("clsRecommend",function(){clsRecommend.deleteLocalDataAll()},null,!0),SPA.location("loginSelfCare");try{setTimeout(function(){deleteAllRemoteFile()},timeout)}catch(e){}}else showConfirm({VMP:VMP,content:lang("common_error_message"),button_ok_text:lang("common_popup_retry"),button_cancel_text:lang("common_popup_no"),onOKFn:function(){processLogOut()},onCancelFn:function(){VMP.setActive("support_menu_b2c")}})},function(e){showConfirm({VMP:VMP,content:lang("common_error_message"),button_ok_text:lang("common_popup_retry"),button_cancel_text:lang("common_popup_no"),onOKFn:function(){processLogOut()},onCancelFn:function(){VMP.setActive("support_menu_b2c")}})})},window.deleteLocalFile=function(){try{for(var e=localStorage.length-1;0<=e;e--){var t=localStorage.key(e);if("clsAdvertisePopup.js"==t.split("_")[0]){localStorage.removeItem(t);break}}}catch(e){}},window.processRestart=function(){gAccountInfo="",gIsLogin=!1,gDeviceAPI.writeData(gAAAData,null),cacheManager.removeAll(),routerManager.clearAll(),setTimeout(function(){location.reload(!0)},0)},window.cssMenuLostFocusB2C=function(){switch(gCurentMenuPageB2C){case PAGE_B2C.INFO:$("#info_b2c .spansupport").addClass("spp-menu-active"),$("#language_b2c .spansupport").removeClass("spp-menu-active"),$("#history_transaction_b2c .spansupport").removeClass("spp-menu-active"),$("#package_extra_b2c .spansupport").removeClass("spp-menu-active"),$("#change_package_b2c .spansupport").removeClass("spp-menu-active"),$("#customer_care_b2c .spansupport").removeClass("spp-menu-active"),$("#info_device_b2c .spansupport").removeClass("spp-menu-active"),$("#introduce_package_b2c .spansupport").removeClass("spp-menu-active");break;case PAGE_B2C.LANGUAGE:$("#info_b2c .spansupport").removeClass("spp-menu-active"),$("#language_b2c .spansupport").addClass("spp-menu-active"),$("#history_transaction_b2c .spansupport").removeClass("spp-menu-active"),$("#package_extra_b2c .spansupport").removeClass("spp-menu-active"),$("#change_package_b2c .spansupport").removeClass("spp-menu-active"),$("#customer_care_b2c .spansupport").removeClass("spp-menu-active"),$("#info_device_b2c .spansupport").removeClass("spp-menu-active"),$("#introduce_package_b2c .spansupport").removeClass("spp-menu-active");break;case PAGE_B2C.HISTORY:$("#info_b2c .spansupport").removeClass("spp-menu-active"),$("#language_b2c .spansupport").removeClass("spp-menu-active"),$("#history_transaction_b2c .spansupport").addClass("spp-menu-active"),$("#package_extra_b2c .spansupport").removeClass("spp-menu-active"),$("#change_package_b2c .spansupport").removeClass("spp-menu-active"),$("#customer_care_b2c .spansupport").removeClass("spp-menu-active"),$("#info_device_b2c .spansupport").removeClass("spp-menu-active"),$("#introduce_package_b2c .spansupport").removeClass("spp-menu-active");break;case PAGE_B2C.CHANGE_PACKAGE:$("#info_b2c .spansupport").removeClass("spp-menu-active"),$("#language_b2c .spansupport").removeClass("spp-menu-active"),$("#history_transaction_b2c .spansupport").removeClass("spp-menu-active"),$("#package_extra_b2c .spansupport").removeClass("spp-menu-active"),$("#change_package_b2c .spansupport").addClass("spp-menu-active"),$("#customer_care_b2c .spansupport").removeClass("spp-menu-active"),$("#info_device_b2c .spansupport").removeClass("spp-menu-active"),$("#introduce_package_b2c .spansupport").removeClass("spp-menu-active");break;case PAGE_B2C.PACKAGE_EXTRA:$("#info_b2c .spansupport").removeClass("spp-menu-active"),$("#language_b2c .spansupport").removeClass("spp-menu-active"),$("#package_extra_b2c .spansupport").addClass("spp-menu-active"),$("#change_package_b2c .spansupport").removeClass("spp-menu-active"),$("#history_transaction_b2c .spansupport").removeClass("spp-menu-active"),$("#customer_care_b2c .spansupport").removeClass("spp-menu-active"),$("#info_device_b2c .spansupport").removeClass("spp-menu-active"),$("#introduce_package_b2c .spansupport").removeClass("spp-menu-active");break;case PAGE_B2C.DISPLAY:$("#info_b2c .spansupport").removeClass("spp-menu-active"),$("#language_b2c .spansupport").removeClass("spp-menu-active"),$("#package_extra_b2c .spansupport").removeClass("spp-menu-active"),$("#change_package_b2c .spansupport").removeClass("spp-menu-active"),$("#history_transaction_b2c .spansupport").removeClass("spp-menu-active"),$("#customer_care_b2c .spansupport").removeClass("spp-menu-active"),$("#info_device_b2c .spansupport").removeClass("spp-menu-active"),$("#introduce_package_b2c .spansupport").removeClass("spp-menu-active");break;case PAGE_B2C.INFO_DEVICE:$("#info_b2c .spansupport").removeClass("spp-menu-active"),$("#language_b2c .spansupport").removeClass("spp-menu-active"),$("#package_extra_b2c .spansupport").removeClass("spp-menu-active"),$("#change_package_b2c .spansupport").removeClass("spp-menu-active"),$("#history_transaction_b2c .spansupport").removeClass("spp-menu-active"),$("#customer_care_b2c .spansupport").removeClass("spp-menu-active"),$("#info_device_b2c .spansupport").addClass("spp-menu-active"),$("#introduce_package_b2c .spansupport").removeClass("spp-menu-active");break;case PAGE_B2C.CUSTOMER_CARE:$("#info_b2c .spansupport").removeClass("spp-menu-active"),$("#language_b2c .spansupport").removeClass("spp-menu-active"),$("#package_extra_b2c .spansupport").removeClass("spp-menu-active"),$("#change_package_b2c .spansupport").removeClass("spp-menu-active"),$("#history_transaction_b2c .spansupport").removeClass("spp-menu-active"),$("#customer_care_b2c .spansupport").addClass("spp-menu-active"),$("#info_device_b2c .spansupport").removeClass("spp-menu-active"),$("#introduce_package_b2c .spansupport").removeClass("spp-menu-active");break;case PAGE_B2C.INTRODUCE_PACKAGE:$("#info_b2c .spansupport").removeClass("spp-menu-active"),$("#language_b2c .spansupport").removeClass("spp-menu-active"),$("#package_extra_b2c .spansupport").removeClass("spp-menu-active"),$("#change_package_b2c .spansupport").removeClass("spp-menu-active"),$("#history_transaction_b2c .spansupport").removeClass("spp-menu-active"),$("#customer_care_b2c .spansupport").removeClass("spp-menu-active"),$("#info_device_b2c .spansupport").removeClass("spp-menu-active"),$("#introduce_package_b2c .spansupport").addClass("spp-menu-active");break;case PAGE_B2C.COMMON_SETTING:$("#info_b2c .spansupport").removeClass("spp-menu-active"),$("#language_b2c .spansupport").removeClass("spp-menu-active"),$("#package_extra_b2c .spansupport").removeClass("spp-menu-active"),$("#change_package_b2c .spansupport").removeClass("spp-menu-active"),$("#history_transaction_b2c .spansupport").removeClass("spp-menu-active"),$("#customer_care_b2c .spansupport").removeClass("spp-menu-active"),$("#info_device_b2c .spansupport").removeClass("spp-menu-active"),$("#introduce_package_b2c .spansupport").removeClass("spp-menu-active"),$("#common_setting .spansupport").addClass("spp-menu-active")}},window.cssMenuFocus=function(e){$("#"+e+" .spansupport").removeClass("spp-menu-active")},window.clsCateView=function(e){var v=this,o=e.VMP,f=(this.wrapObjId=e.wrap_obj_id,this.autoRegister=getParam(e.auto_register,!0),this.onLostFocusUpFn=e.onLostFocusUpFn,this.onLostFocusDownFn=e.onLostFocusDownFn,this.onLostFocusLeftFn=e.onLostFocusLeftFn,this.onLostFocusRightFn=e.onLostFocusRightFn,this.onBackFn=e.onBackFn,this.loadDataFn=e.loadDataFn,this.onItemFocusFn=e.onItemFocusFn,this.onItemLostFocusFn=e.onItemLostFocusFn,this.onItemClickFn=e.onItemClickFn,this.onMoveFn=e.onMoveFn,this.loadDataFn=e.loadDataFn,this.onMouseMoveFn=e.onMouseMoveFn,this.borderRadiusFocus=getParam(e.border_radius,24),this.borderRadiusFocusCate=getParam(e.border_radius_cate,v.borderRadiusFocus),this.isHomePage=getParam(e.home_page,!1),getParam(e.add_tranform,!1)),l=(this.hasFocusAnimation=!0,checkAnimation()),b=checkMouse(),C=(this.gotoRight=function(e){var t=C.rowList[e].totalItem,e=C.rowList[e];e.currentItemIndex=t-1,T(e,0)},this.reset=function(){t()},this.gotoFirst=h,this.fireLostFocusEvent=I,this.fireFocusEvent=_,this.onMouseWheel=function(e){0<e?this.sendKey(KEY_UP):this.sendKey(KEY_DOWN)},this.onMouseMove=function(){v.onMouseMoveFn&&v.onMouseMoveFn()},this.onKeyPressed=i,this.lostFocus=function(){C.rowList[C.currentRowIndex];I()},{}),n=null,a=null,r=0,s=1e3,y=6,c=(SPA.convertScale(46),1.2),u=SPA.convertScale(50),w=0,p={LEFT:"left",MIDDLE:"middle",RIGHT:"right",NONE:"none"};function P(e,t,i,o,n){n=getParam(n,0);var a={},a=l?{element:t,transform:"translate("+i+"px, "+o+"px)",transition:n}:{element:t,transform:"translate("+i+"px, "+o+"px)",transition:0},n=[{name:"border",value:"0.01px solid rgba(0, 0, 0, 0)"},{name:"margin-left",value:"0px"},{name:"margin-top",value:"0px"}];getParam(e.lostfocusStyle)?(i=e.lostfocusStyle.concat(n),a.other_style=i):a.other_style=n,$(t).attr("is_focus","0"),SPA.transform(a),l&&SPA.hideBorder()}function m(e,t,i,o,n,a){n=getParam(n,1),a=getParam(a,!1);a={},a=l?{element:t,transform:"translate("+i+"px, "+o+"px) scale("+c+")",transition:n,border_color:"white"}:{element:t,transform:"translate("+i+"px, "+o+"px) scale("+c+")",transition:0,border_color:"white"},n=[{name:"border",value:y+"px solid white"},{name:"margin-left",value:"-"+y+"px"},{name:"margin-top",value:"-"+y+"px"}];getParam(e.focusStyle)?(i=e.focusStyle.concat(n),a.other_style=i):a.other_style=n,$(t).attr("is_focus","1"),SPA.transform(a)}function d(e,t){var i=null,i=t==p.LEFT?(e.itemWidth+e.itemGap)*e.currentItemIndex+e.leftGap:t==p.MIDDLE?e.middleObject.x:w-u-e.itemWidth-(e.itemWidth+e.itemGap)*(e.totalItem-e.currentItemIndex-1);v.getSelectedItem();return i}function g(e,t){e=getParam(e,1);var i=C.rowList[C.currentRowIndex],o=d(i,k(i,0)),n=C.topGap;m(i,v.getSelectedItem(),o,n,e,t)}function t(){try{var e,t,i,o=$("#"+v.wrapObjId).css("width");o="%"==o.substring(o.length-1)?(e=parseInt(o),SPA.screenWidth*e/100):parseInt(o),w=o,C={autoHover:"true",topRow:0,topGap:0,totalHeight:0,column:0,visibleRow:0,middleRow:0};for(var n=getAttr("#"+v.wrapObjId,"vmp-style"),a=0;a<n.length;a++)switch(n[a].name){case"top-gap":C.topGap=SPA.convertScale(n[a].value);break;case"column":C.column=n[a].value;break;case"visible-row":C.visibleRow=n[a].value,C.middleRow=Math.ceil(C.visibleRow/2);break;case"auto-hover":C.autoHover=n[a].value}C.currentRowIndex=0,C.rowList=[];for(var r=$("#"+v.wrapObjId).children(),l=-1,s=0;s<r.length;s++)void 0!==$(r[s]).attr("vmp-row")&&(t="#"+v.wrapObjId+" #"+$(r[s]).attr("id"),i=function(e,t){for(var i=Math.round(SPA.convertScale($(e).height()),0),o={currentItemIndex:0,itemList:[],leftIndex:0,yOrg:0,xOrg:0,bGotFocus:!1,height:i},i=($(e).css({height:i}),function(e){for(var t={leftGap:0,itemGap:0},i=getAttr(e,"vmp-style"),o=0;o<i.length;o++){var n=i[o].name,a=i[o].value;switch(n){case"left-gap":t.leftGap=SPA.convertScale(a);break;case"item-gap":t.itemGap=SPA.convertScale(a)}}return t}(e)),n=(o.leftGap=i.leftGap,o.itemGap=i.itemGap,o.focusStyle=function(e){return getAttr(e,"vmp-focus-style")}(e),o.lostfocusStyle=function(e){return getAttr(e,"vmp-lostfocus-style")}(e),$(e).children()),a=-1,r=0;r<n.length;r++){var l;void 0!==$(n[r]).attr("vmp-item")&&(0==++a&&(o.itemWidth=$(n[r]).width(),o.itemHeight=$(n[r]).height()),l=e+" #"+$(n[r]).attr("id"),$(l).attr("col",a),$(l).attr("row",t),function(e){b&&1==use_keyboard&&("true"==C.autoHover&&($(e).prepend('<div class="zoom-icon"></div>'),$(e).bind("mouseover",function(){SPA.isEnable()&&($(this).addClass("featured-thumbnail"),0==$(this).attr("is_focus"))&&($(this).css("border","6px solid white"),$(this).css("margin-left","-"+y+"px"),$(this).css("margin-top","-"+y+"px"))}),$(e).bind("mouseout",function(){$(this).removeClass("featured-thumbnail"),0==$(this).attr("is_focus")&&($(this).css("border","0px solid white"),$(this).css("margin-left","0px"),$(this).css("margin-top","0px"))})),$(e).bind("click",function(){var e,t;SPA.isEnable()&&(t=parseInt($(this).attr("col")),e=parseInt($(this).attr("row")),e=e,t=t,C.currentRowIndex=e,C.rowList[e].currentItemIndex=t,A())}))}(l),o.itemList.push({itemId:l}),$(n[r]).css("position"))}return o.totalItem=a+1,o.visibleItem=Math.floor(w/(o.itemWidth+o.itemGap)),o.middleItem=Math.ceil(o.visibleItem/2)-1,o.middleObject={x:(w-o.itemWidth)/2,y:C.topGap},o}(t,++l),$(t).attr("row",l),i.rowId=t,C.rowList.push(i));C.totalItem=l+1;for(var c=0;c<C.rowList.length;c++){f&&SPA.transform({element:C.rowList[c].rowId,transform:"translateY(0px)"}),g=d=m=p=u=void 0;for(var u=c,p=C.rowList[u],m=0,d=C.topGap,g=0;g<p.itemList.length;g++)m+=0==g?p.leftGap:p.itemWidth+p.itemGap,P(p,p.itemList[g].itemId,m,d,0);for(var h=0;h<C.rowList[c].itemList.length;h++);}var _=C.rowList[0].itemList[0];console.warn(C.rowList),_.start_time=(new Date).getTime()}catch(e){gotoHomeError(e.message+" (888)")}}function A(){var e=C.currentRowIndex,t=C.rowList[e].currentItemIndex;$(C.rowList[e].rowId).attr("refer");if(console.info("Refer : ",$(C.rowList[e].rowId).attr("refer")),ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.onClassFireClick(C.rowList[e].itemList[t].itemId)},null,!0),v.onItemClickFn)try{v.onItemClickFn(v)}catch(e){gotoHomeError(e.message+" (888)")}}function h(){var e=C.currentRowIndex,e=C.rowList[e];e.currentItemIndex=0,E(e,0)}function i(e){var t=e.which;switch(t){case KEY_DOWN:!function(){var e=l?1:0;if(C.rowList[C.currentRowIndex],v.isHomePage){if(C.currentRowIndex>=C.totalItem-1)return S(),v.onLostFocusDownFn&&v.onLostFocusDownFn(v);if(v.lostFocus(),C.currentRowIndex<C.totalItem-2){var t=$(C.rowList[C.topRow].rowId).height();C.currentRowIndex==C.totalItem-2&&(v.deltaYTranform=v.deltaY,t-=v.deltaYTranform);for(var i=0;i<C.totalItem;i++)(o=C.rowList[i]).yOrg-=t,SPA.transform({element:C.rowList[i].rowId,transform:"translateY("+o.yOrg+"px)",transition:e});C.topRow++}else if(C.currentRowIndex==C.totalItem-2){v.deltaYTranform=v.deltaY;for(i=0;i<C.totalItem;i++)(o=C.rowList[i]).yOrg-=v.deltaYTranform,SPA.transform({element:C.rowList[i].rowId,transform:"translateY("+o.yOrg+"px)",transition:e})}}else{if(C.topRow>=C.totalItem-1)return S(),v.onLostFocusDownFn&&v.onLostFocusDownFn(v);v.lostFocus();t=$(C.rowList[C.topRow].rowId).height();C.currentRowIndex==C.totalItem-2&&(v.deltaYTranform=v.deltaY,t-=v.deltaYTranform);for(var o,i=0;i<C.totalItem;i++)(o=C.rowList[i]).yOrg-=t,SPA.transform({element:C.rowList[i].rowId,transform:"translateY("+o.yOrg+"px)",transition:e});C.topRow++}C.currentRowIndex++,v.setFocus(),v.onMoveFn&&v.onMoveFn(v,-t)}();break;case KEY_UP:var i=l?1:0;if(C.rowList[C.currentRowIndex],0==C.topRow)S(),v.onLostFocusUpFn&&v.onLostFocusUpFn(v);else{if(v.lostFocus(),v.isHomePage)if(C.currentRowIndex<C.totalItem-1){for(var o=$(C.rowList[C.topRow-1].rowId).height(),n=0;n<C.totalItem;n++)(r=C.rowList[n]).yOrg+=o,SPA.transform({element:C.rowList[n].rowId,transform:"translateY("+r.yOrg+"px)",transition:i});C.topRow--}else{var a=0;0!=v.deltaYTranform&&(a=v.deltaYTranform,v.deltaYTranform=0);for(n=0;n<C.totalItem;n++)(r=C.rowList[n]).yOrg+=a,SPA.transform({element:C.rowList[n].rowId,transform:"translateY("+r.yOrg+"px)",transition:i})}else{o=$(C.rowList[C.topRow-1].rowId).height();0!=v.deltaYTranform&&(o-=v.deltaYTranform,v.deltaYTranform=0);for(var r,n=0;n<C.totalItem;n++)(r=C.rowList[n]).yOrg+=o,SPA.transform({element:C.rowList[n].rowId,transform:"translateY("+r.yOrg+"px)",transition:i});C.topRow--}C.currentRowIndex--,v.setFocus(),v.onMoveFn&&v.onMoveFn(v,o)}break;case KEY_RIGHT:L(1);break;case KEY_LEFT:L(-1);break;case KEY_ENTER:A();break;default:isBackKey(t)&&v.onBackFn&&v.onBackFn(v)}}function _(e){(e=getParam(e,!0))&&g(),S(),n=setTimeout(function(){g(0,!0),v.onItemFocusFn&&v.onItemFocusFn(v)},SPA.slideTransitionTime);var t=C.currentRowIndex,i=C.rowList[t].currentItemIndex;ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.setOther(t,i),clsLogBehaviorV2.onClassFocus(v.getSelectedItem())},null,!0)}function S(){n&&(clearTimeout(n),n=null)}function I(e){var t,i,o;(e=getParam(e,!0))&&(t=getParam(t,0),e=C.rowList[C.currentRowIndex],i=d(e,k(e,0)),o=C.topGap,P(e,v.getSelectedItem(),i,o,t)),a&&clearTimeout(a),v.onItemLostFocusFn&&v.onItemLostFocusFn(v)}function x(e){e.itemList[e.currentItemIndex].start_time=0}function D(e,t,i){if(t==p.LEFT)E(e,i);else{if(t!=p.MIDDLE)return t==p.RIGHT&&(T(e,i),1);var o=e,t=i;o.lastStatus=p.MIDDLE,I(!1);for(var n,a=C.topGap,r=o.currentItemIndex+t,l=0;l<o.totalItem;l++)l==r?m(o,o.itemList[r].itemId,o.middleObject.x,o.middleObject.y,1):(n=l<r?o.middleObject.x-(o.itemWidth+o.itemGap)*(r-l):o.middleObject.x+(o.itemWidth+o.itemGap)*(l-r),P(o,o.itemList[l].itemId,n,a,1));o.currentItemIndex+=t,o.leftIndex+=t,_(!1)}return 1}function L(e){var t,i,o=C.rowList[C.currentRowIndex],n=k(o,e);if(0<e)return 0==o.currentItemIndex&&x(o),D(o,n,e)?void 0:(t=o.itemList[o.currentItemIndex],void(getParam(t.start_time)&&0!=t.start_time?(i=(new Date).getTime()-t.start_time,s<i&&(t.start_time=0,v.fireLostFocusRightEvent())):t.start_time=(new Date).getTime()));0==o.currentItemIndex?(t=o.itemList[o.currentItemIndex],getParam(t.start_time)&&0!=t.start_time?(i=(new Date).getTime()-t.start_time,r<i&&(t.start_time=0,v.fireLostFocusLeftEvent())):t.start_time=(new Date).getTime()):(o.currentItemIndex!=o.totalItem-1&&1!=o.currentItemIndex||x(o),D(o,n,e))}function k(e,t){t=getParam(t,1);var i=e.currentItemIndex,o="";return e.totalItem<=e.visibleItem?p.LEFT:0<t?i+t==e.totalItem?p.NONE:i<e.middleItem?p.LEFT:i==e.middleItem||i<e.totalItem-e.middleItem-2?p.MIDDLE:i<e.totalItem-1?p.RIGHT:p.NONE:t<0?0==i?p.NONE:i<=e.middleItem+1?p.LEFT:i<=e.totalItem-e.middleItem-1?p.MIDDLE:i<=e.totalItem-1?p.RIGHT:p.NONE:(i<=e.middleItem?o=p.LEFT:i<e.totalItem-e.middleItem-1?o=p.MIDDLE:i<e.totalItem-1&&(o=p.RIGHT),o)}function E(e,t){e.lastStatus;I(!1);var i=C.topGap;if(e.currentItemIndex==e.totalItem-t)h();else{for(var o=0;o<e.itemList.length;o++){var n=(e.itemWidth+e.itemGap)*o+e.leftGap;(o==e.currentItemIndex+t?m:P)(e,e.itemList[o].itemId,n,i,1)}e.currentItemIndex<e.totalItem-t&&(e.currentItemIndex+=t),e.lastStatus=p.LEFT,_(!1)}}function T(e,t){last_status=e.lastStatus,I(!1);for(var i=C.topGap,o=0;o<e.itemList.length;o++){var n=w-u-e.itemWidth-(e.itemWidth+e.itemGap)*(e.totalItem-o-1);(o==e.currentItemIndex+t?m:P)(e,e.itemList[o].itemId,n,i,1)}e.currentItemIndex+=t,e.lastStatus=p.RIGHT,_(!1)}this.deltaY=getParam(e.deltaY,0),this.deltaY=SPA.convertScale(this.deltaY),this.deltaYTranform=0,this.getName=function(){return this.wrapObjId},this.hide=function(){$("#"+v.wrapObjId).hide()},this.show=function(){$("#"+v.wrapObjId).show()},this.setSelectedItem=function(e,t){o.disable();for(var i=0;i<e;i++)v.sendKey(KEY_DOWN);for(i=0;i<t;i++)v.sendKey(KEY_RIGHT);setTimeout(function(){o.enable()},200)},this.getItem=function(e,t){return C.rowList[e].itemList[t].itemId},this.setCurrentItem=function(e,t){v.currentRow=e,v.arrRows[e].setCurrentIndex(t)},this.getTotalRowCount=function(){return C.totalItem},this.isLastRow=function(){return C.currentRowIndex==C.totalItem-1},this.getFullRowId=function(e){return"#"+v.wrapObjId+" #"+e},this.getCurrentRowIndex=function(){return C.currentRowIndex},this.getCurrentItemIndex=function(){return C.rowList[C.currentRowIndex].currentItemIndex},this.setFocus=function(){var e=C.rowList[C.currentRowIndex];e.currentItemIndex!=e.totalItem-1&&1!=e.currentItemIndex||x(e),_()},this.getCurrentRow=function(){return C.currentRowIndex},this.sendKey=function(e){i({which:e})},this.setCurrentIndex=function(e,t){return t>e.totalItem-1?e.currentItemIndex=e.totalItem-1:e.currentItemIndex=t<0?0:t,e.currentItemIndex},this.fireLostFocusRightEvent=function(){v.onLostFocusRightFn&&v.onLostFocusRightFn(v)},this.fireLostFocusLeftEvent=function(){S(),v.onLostFocusLeftFn?v.onLostFocusLeftFn(v):createMenuHomepageUI()},this.getSelectedRow=function(){return C.rowList[C.currentRowIndex].rowId},this.getSelectedItem=function(){var e=C.rowList[C.currentRowIndex];return e.itemList[e.currentItemIndex].itemId},this.getNextItem=function(){var e,t=C.rowList[C.currentRowIndex];return t.currentItemIndex!=t.itemList.length-1&&(e=t.currentItemIndex+1,t.itemList[e].itemId)},v.autoRegister&&o.register(v),t()},window.clsGridviewChannelNew=function(e){var d=this,t=null,o=e.VMP,r=(this.wrapObjId=e.wrap_obj_id,this.autoRegister=getParam(e.auto_register,!0),this.onLostFocusUpFn=e.onLostFocusUpFn,this.onLostFocusDownFn=e.onLostFocusDownFn,this.onLostFocusLeftFn=e.onLostFocusLeftFn,this.onLostFocusRightFn=e.onLostFocusRightFn,this.onBackFn=e.onBackFn,this.onItemFocusFn=e.onItemFocusFn,this.onItemLostFocusFn=e.onItemLostFocusFn,this.onItemClickFn=e.onItemClickFn,this.onMoveFn=e.onMoveFn,this.onMouseMoveFn=e.onMouseMoveFn,this.dataList=getParam(e.data,[]),this.rowIndex=getParam(e.row_index,0),this.colIndex=getParam(e.col_index,0),6),u=0,p={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom",NONE:"none"},g=p.TOP,m=checkAnimation(),a=checkMouse(),h=getParam(e.number_item_row,4),n=500,l={NONE:"none",ANIMATION:"animation"},_={rowGap:SPA.convertScale(70),top:SPA.convertScale(10),leftIndex:0,totalRow:8,currentRowIndex:0,maxRow:8,middleRow:0,visibleRow:3,hiddenRow:2,rowList:[],keyList:[],finishRowCount:0,status:l.NONE,topRow:0,bottomRow:0,autoHover:!0},v={itemWidth:SPA.convertScale(403),itemHeight:SPA.convertScale(240),itemGap:SPA.convertScale(65),leftGap:SPA.convertScale(55),totalItem:h,width:SPA.convertScale(1920),height:SPA.convertScale(240),topGap:SPA.convertScale(50)};function f(e){for(var t=e.row_info.currentItemIndex,i=0;i<_.rowList.length;i++){var o=_.rowList[i];t>o.row_info.totalItem-1?_.rowList[i].row_info.currentItemIndex=o.row_info.totalItem-1:_.rowList[i].row_info.currentItemIndex=t}c(e,!0),setTimeout(function(){d.onItemFocusFn&&d.onItemFocusFn(d)},n),ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.setOther(d.getCurrentRowIndex(),d.getCurrentItemIndex()),clsLogBehaviorV2.onClassFocus(d.getSelectedItemId())},null,!0)}function b(e){c(e,!1),d.onItemLostFocusFn&&d.onItemLostFocusFn(d)}function s(){var e=_.maxRow;_.maxRow>_.totalRow&&(e=_.totalRow);for(var t=0;t<e;t++){var i={currentItemIndex:0,keyList:[],totalItem:h};if(i.totalItem=d.dataList[t].length,_.rowList[t]={row_info:i,row_index:t,row_index_data:t,row_id:t},a)for(var o=0;o<i.totalItem;o++){var n="#item_"+t+"_"+o;1==use_keyboard&&(_.autoHover&&($(n).prepend('<div class="zoom-icon"></div>'),$(n).bind("mouseover",function(){SPA.isEnable()&&($(this).addClass("featured-thumbnail"),1!=$(this).attr("is_focus"))&&($(this).css("border","6px solid white"),$(this).css("margin-left","-"+r+"px"),$(this).css("margin-top","-"+r+"px"))}),$(n).bind("mouseout",function(){$(this).removeClass("featured-thumbnail"),1!=$(this).attr("is_focus")&&($(this).css("border","0px solid white"),$(this).css("margin-left","0px"),$(this).css("margin-top","0px"))})),$(n).bind("click",function(){if(SPA.isEnable()){var e=parseInt($(this).attr("col")),t=parseInt($(this).attr("row")),i=e;_.currentRowIndex=t;for(var o=0;o<_.rowList.length;o++)if(_.rowList[o].row_index_data==t){_.rowList[o].row_info.currentItemIndex=i;break}I()}}))}}C(!0);for(t=0;t<e;t++)$("#channellist_item_row_"+_.rowList[t].row_index).bind("transitionend",function(){_.finishRowCount++,_.finishRowCount==e-_.hiddenRow+1&&(_.status=l.NONE)});unlock()}function C(e){if(g==p.TOP)y(e);else if(g==p.MIDDLE){var t=_.finishRowCount=0;SPA.screenWidth<1900&&(t=v.height);for(var i=0;i<_.rowList.length;i++){var o,n=_.rowList[i];o=n.row_index==_.middleRow?_.middleY-_.top-t:n.row_index<_.middleRow?_.middleY-(_.middleRow-n.row_index)*(_.rowGap+v.height)-_.top-t:_.middleY+(n.row_index-_.middleRow)*(_.rowGap+v.height)-_.top-t,S(m?{element:"#channellist_item_row_"+n.row_id,transform:"translateY("+o+"px)",transition:n.transition}:{element:"#channellist_item_row_"+n.row_id,transform:"translateY("+o+"px)"})}}else if(g==p.BOTTOM){_.finishRowCount=0;for(var a=d.getLastRowPosition(),r=0;r<_.rowList.length;r++){var l=_.rowList[r],s=a-l.row_index+1,c=(a==l.row_index&&(s=a-l.row_index+2),_.rowGap),c=(a==l.row_index&&(c=0),_.top+(c+v.height)*s);c=u-c,S(m?{element:"#channellist_item_row_"+l.row_id,transform:"translateY("+c+"px)",transition:l.transition}:{element:"#channellist_item_row_"+l.row_id,transform:"translateY("+c+"px)"})}}else y(e)}function y(e){e=getParam(e,!1);_.finishRowCount=0;for(var t=0;t<_.rowList.length;t++){var i=_.rowList[t],o=_.top+(_.rowGap+v.height)*i.row_index;if(S(!m||e?{element:"#channellist_item_row_"+i.row_id,transform:"translateY("+o+"px)"}:{element:"#channellist_item_row_"+i.row_id,transform:"translateY("+o+"px)",transition:i.transition}),e)if(m)for(var n=0;n<i.row_info.totalItem;n++){var a=(v.itemWidth+v.itemGap)*n+v.leftGap;n==i.row_info.currentItemIndex&&i.row_index_data==_.currentRowIndex?S({element:"#item_"+i.row_id+"_"+n,transform:"translate("+a+"px, "+v.topGap+"px) scale(1.2)",transition:A(),border:r+"px solid white",margin:"-"+r+"px"}):S({element:"#item_"+i.row_id+"_"+n,transform:"translate("+a+"px, "+v.topGap+"px)"})}else for(n=0;n<i.row_info.totalItem;n++){a=(v.itemWidth+v.itemGap)*n+v.leftGap;n==i.row_info.currentItemIndex&&i.row_index_data==_.currentRowIndex?S({element:"#item_"+i.row_id+"_"+n,transform:"translate("+a+"px, "+v.topGap+"px) scale(1.2)",border:r+"px solid white",margin:"-"+r+"px"}):S({element:"#item_"+i.row_id+"_"+n,transform:"translate("+a+"px, "+v.topGap+"px)"})}}}function i(e){switch(e){case KEY_DOWN:if(g=w(1),_.currentRowIndex==_.totalRow-1)d.onLostFocusDownFn&&d.onLostFocusDownFn(d);else{if(_.currentRowIndex>=_.totalRow-2||_.totalRow<=_.visibleRow)d.fireLostFocusEvent(),_.currentRowIndex++;else{var t=d.getLastRowIndex();if(t>_.totalRow-2){d.fireLostFocusEvent(),_.currentRowIndex++;for(var i=0;i<_.rowList.length;i++)_.rowList[i].row_index--,_.rowList[i].transition=A(),$("#channellist_item_row_"+_.rowList[i].row_id).attr("row_index",_.rowList[i].row_index)}else{d.fireLostFocusEvent(),_.currentRowIndex++;for(i=0;i<_.rowList.length;i++){var o=_.rowList[i];if(-2==o.row_index){_.rowList[i].row_index=5,_.rowList[i].row_index_data=t+1,_.rowList[i].transition="none";for(var n=d.dataList[t+1].length,a=0;a<n;a++)$("#item_"+o.row_id+"_"+a).attr("row",t+1),$("#item_"+o.row_id+"_"+a+" img").attr("src",d.dataList[t+1][a].CONTENT_IMAGE_URL),$("#item_"+o.row_id+"_"+a+" .channel-key-text").html(d.dataList[t+1][a].SORT_ORDER);if(n<h){for(var r=h-n,a=0;a<r;a++){var l=h-1-a;$("#item_"+o.row_id+"_"+l).hide()}_.rowList[i].row_info.totalItem=n}}else _.rowList[i].row_index--,_.rowList[i].transition=A();$("#channellist_item_row_"+o.row_id).attr("row_index",_.rowList[i].row_index)}}C()}d.fireFocusEvent()}break;case KEY_UP:if(g=w(-1),0==_.currentRowIndex)d.onLostFocusUpFn&&d.onLostFocusUpFn(d);else{if(_.currentRowIndex>=_.totalRow-1||_.totalRow<=_.visibleRow)d.fireLostFocusEvent(),_.currentRowIndex--;else{var s=d.getFirstRowIndex();if(0==s){d.fireLostFocusEvent(),_.currentRowIndex--;for(var c=0;c<_.rowList.length;c++)_.rowList[c].transition=A(),_.rowList[c].row_index++,$("#channellist_item_row_"+_.rowList[c].row_id).attr("row_index",_.rowList[c].row_index)}else{d.fireLostFocusEvent(),_.currentRowIndex--;for(c=0;c<_.rowList.length;c++){var u=_.rowList[c];if(5==u.row_index){_.rowList[c].row_index=-2,_.rowList[c].transition="none",_.rowList[c].row_index_data=s-1;for(var p=0;p<h;p++)$("#item_"+u.row_id+"_"+p).show(),$("#item_"+u.row_id+"_"+p).attr("row",s-1),$("#item_"+u.row_id+"_"+p+" img").attr("src",d.dataList[s-1][p].CONTENT_IMAGE_URL),$("#item_"+u.row_id+"_"+p+" .channel-key-text").html(d.dataList[s-1][p].SORT_ORDER);_.rowList[c].row_info.totalItem=h}else _.rowList[c].transition=A(),_.rowList[c].row_index++;$("#channellist_item_row_"+u.row_id).attr("row_index",_.rowList[c].row_index)}}C()}d.fireFocusEvent()}break;case KEY_RIGHT:!(m=P(_.currentRowIndex))||m.row_info.currentItemIndex>=m.row_info.totalItem-1||(b(m),m.row_info.currentItemIndex++,f(m));break;case KEY_LEFT:(m=P(_.currentRowIndex))&&(0==m.row_info.currentItemIndex?d.onLostFocusLeftFn&&d.onLostFocusLeftFn(d):(b(m),m.row_info.currentItemIndex--,f(m)));break;case KEY_ENTER:I();break;default:isBackKey(e)&&d.onBackFn&&(actionLog("Back",d.wrapObjId),d.onBackFn(d))}var m}function w(e){e=getParam(e,1);var t=_.currentRowIndex,i="";return _.totalRow<=_.visibleRow?p.TOP:0<e?t+e==_.totalRow?p.NONE:t<_.middleRow?p.TOP:p.MIDDLE:e<0?0==t?p.NONE:t<=_.middleRow+1?p.TOP:t>_.middleRow+1?p.MIDDLE:p.NONE:i}function P(e){for(var t=null,i=0;i<_.rowList.length;i++){var o=_.rowList[i];if(o.row_index_data==e){t=o;break}}return t||null}function A(){return"transform "+n+"ms ease 0s"}function S(e){var t,i={transform:e.transform,"-o-transform":e.transform,"-ms-transform":e.transform,"-moz-transform":e.transform,"-webkit-transform":e.transform};t=e.transition||"none",i.transition=t,i["-o-transition"]=t,i["-ms-transition"]=t,i["-moz-transition"]=t,i["-webkit-transition"]=t,e.border?(i.border=e.border,i["-o-border"]=e.border,i["-ms-border"]=e.border,i["-moz-border"]=e.border,i["-webkit-border"]=e.border):(i.border="none",i["-o-border"]="none",i["-ms-border"]="none",i["-moz-border"]="none",i["-webkit-border"]="none"),e.margin?(i["margin-left"]=e.margin,i["-o-margin-left"]=e.margin,i["-ms-margin-left"]=e.margin,i["-moz-margin-left"]=e.margin,i["-webkit-margin-left"]=e.margin,i["margin-top"]=e.margin,i["-o-margin-top"]=e.margin,i["-ms-margin-top"]=e.margin,i["-moz-margin-top"]=e.margin,i["-webkit-margin-top"]=e.margin):(i["margin-left"]="",i["-o-margin-left"]="",i["-ms-margin-left"]="",i["-moz-margin-left"]="",i["-webkit-margin-left"]="",i["margin-top"]="",i["-o-margin-top"]="",i["-ms-margin-top"]="",i["-moz-margin-top"]="",i["-webkit-margin-top"]=""),$(e.element).css(i)}function c(e,t){var i=e.row_id,o=e.row_info.currentItemIndex,e=(v.itemWidth+v.itemGap)*e.row_info.currentItemIndex+v.leftGap;m?t?($("#item_"+i+"_"+o).attr("is_focus","1"),S({element:"#item_"+i+"_"+o,transform:"translate("+e+"px, "+v.topGap+"px) scale(1.2)",transition:A(),border:r+"px solid white",margin:"-"+r+"px"})):($("#item_"+i+"_"+o).attr("is_focus","0"),S({element:"#item_"+i+"_"+o,transform:"translate("+e+"px, "+v.topGap+"px)"})):t?($("#item_"+i+"_"+o).attr("is_focus","1"),S({element:"#item_"+i+"_"+o,transform:"translate("+e+"px, "+v.topGap+"px) scale(1.2)",border:r+"px solid white",margin:"-"+r+"px"})):($("#item_"+i+"_"+o).attr("is_focus","0"),S({element:"#item_"+i+"_"+o,transform:"translate("+e+"px, "+v.topGap+"px)"}))}function I(){if(ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.onClassFireClick(d.getSelectedItemId(),d.getCurrentRowIndex(),d.getCurrentItemIndex())},null,!0),d.onItemClickFn){actionLog("Click",d.wrapObjId);try{d.onItemClickFn(d)}catch(e){gotoHomeError(e.message+" (894)")}}}this.init=function(e){try{d.dataList=arrayTo2Dimension(d.dataList,h),_.totalRow=d.dataList.length,_.bottomIndex=_.rowList.length-1-2,s(),_.currentRowIndex=0;var t,i=$("#"+d.wrapObjId).css("height");i="%"==i.substring(i.length-1)?(t=parseInt(i),SPA.screenHeight*t/100):parseInt(i),u=i,_.middleY=(u-v.itemHeight)/2-SPA.convertScale(115),d.setSelectedItem(d.rowIndex,d.colIndex)}catch(e){gotoHomeError(e.message+" (894)")}},this.reset=function(){g=p.TOP,_.currentRowIndex=0,d.rowIndex=0,d.colIndex=0,this.init(1)},this.getName=function(){return this.wrapObjId},this.hide=function(){$("#"+d.wrapObjId).hide()},this.show=function(){$("#"+d.wrapObjId).show()},this.setSelectedItem=function(e,t){o.disable();for(var i=0;i<e;i++)d.sendKey(KEY_DOWN,!1);for(i=0;i<t;i++)d.sendKey(KEY_RIGHT,!1);setTimeout(function(){o.enable()},200)},this.getCurrentRowIndex=function(){return _.currentRowIndex},this.getCurrentItemIndex=function(){return P(_.currentRowIndex).row_info.currentItemIndex},this.getSelectedRow=function(){return P(_.currentRowIndex)},this.getFirstRowIndex=function(){for(var e=[],t=0;t<_.rowList.length;t++)e.push(_.rowList[t].row_index_data);return Math.min.apply(null,e)},this.getLastRowIndex=function(){for(var e=[],t=0;t<_.rowList.length;t++)e.push(_.rowList[t].row_index_data);return Math.max.apply(null,e)},this.getLastRowPosition=function(){for(var e=[],t=0;t<_.rowList.length;t++)e.push(_.rowList[t].row_index);return Math.max.apply(null,e)},this.setFocus=function(){d.fireFocusEvent()},this.lostFocus=function(){d.fireLostFocusEvent()},this.gotoTop=function(e){},this.gotoBottom=function(e){},this.sendKey=function(e,t){t=getParam(t,!0),this.onKeyPressed({which:e},t)},this.onKeyPressed=function(e,t){t=getParam(t,!0);e=e.which;e!=KEY_RIGHT&&e!=KEY_LEFT&&lock(t),i(e),setTimeout(function(){unlock(t)},n-100)},this.fireFocusEvent=function(e){f(P(_.currentRowIndex))},this.fireLostFocusEvent=function(e){b(P(_.currentRowIndex))},this.fireLostFocusRightEvent=function(){d.onLostFocusRightFn&&d.onLostFocusRightFn(d)},this.fireLostFocusLeftEvent=function(){d.onLostFocusLeftFn&&d.onLostFocusLeftFn(d)},this.getSelectedItem=function(){var e=P(_.currentRowIndex);return e?d.dataList[e.row_index_data][e.row_info.currentItemIndex]:null},this.getSelectedItemId=function(){var e=P(_.currentRowIndex);return e?"#item_"+e.row_id+"_"+e.row_info.currentItemIndex:null},this.onMouseWheel=function(e){0<e?this.sendKey(KEY_UP):this.sendKey(KEY_DOWN)},this.onMouseMove=function(){d.onMouseMoveFn&&d.onMouseMoveFn()},this.setStatus=function(e){t=e},this.getStatus=function(){return t},d.autoRegister&&o.register(d),this.init(0)},window.clsGridviewMovieNew=function(e){var m=this,t=null,o=e.VMP,r=(this.wrapObjId=e.wrap_obj_id,this.autoRegister=getParam(e.auto_register,!0),this.onLostFocusUpFn=e.onLostFocusUpFn,this.onLostFocusDownFn=e.onLostFocusDownFn,this.onLostFocusLeftFn=e.onLostFocusLeftFn,this.onLostFocusRightFn=e.onLostFocusRightFn,this.onBackFn=e.onBackFn,this.onItemFocusFn=e.onItemFocusFn,this.onItemLostFocusFn=e.onItemLostFocusFn,this.onItemClickFn=e.onItemClickFn,this.onMoveFn=e.onMoveFn,this.onMouseMoveFn=e.onMouseMoveFn,this.dataList=getParam(e.data,[]),this.rowIndex=getParam(e.row_index,0),this.colIndex=getParam(e.col_index,0),6),c=0,u={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom",NONE:"none"},d=u.TOP,p=checkAnimation(),a=checkMouse(),g=0,h=5,n=500,l={NONE:"none",ANIMATION:"animation"},_={rowGap:SPA.convertScale(200),top:SPA.convertScale(0),leftIndex:0,totalRow:8,currentRowIndex:0,maxRow:8,middleRow:0,visibleRow:2,hiddenRow:2,rowList:[],keyList:[],finishRowCount:0,status:l.NONE,topRow:0,bottomRow:0,autoHover:!0},v={itemWidth:SPA.convertScale(310),itemHeight:SPA.convertScale(480),itemGap:SPA.convertScale(60),leftGap:SPA.convertScale(55),totalItem:h,width:SPA.convertScale(1920),height:SPA.convertScale(387),topGap:SPA.convertScale(65)};function f(e){for(var t=e.row_info.currentItemIndex,i=0;i<_.rowList.length;i++){var o=_.rowList[i];t>o.row_info.totalItem-1?_.rowList[i].row_info.currentItemIndex=o.row_info.totalItem-1:_.rowList[i].row_info.currentItemIndex=t}I(e,!0),setTimeout(function(){m.onItemFocusFn&&m.onItemFocusFn(m)},n),ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.setOther(m.getCurrentRowIndex(),m.getCurrentItemIndex()),clsLogBehaviorV2.saveLogFocus(m.getSelectedItemId())},null,!0)}function b(e){I(e,!1),m.onItemLostFocusFn&&m.onItemLostFocusFn(m)}function s(){var e=_.maxRow;_.maxRow>_.totalRow&&(e=_.totalRow);for(var t=0;t<e;t++){var i={currentItemIndex:0,keyList:[],totalItem:h};if(i.totalItem=m.dataList[t].length,_.rowList[t]={row_info:i,row_index:t,row_index_data:t,row_id:t},a)for(var o=0;o<i.totalItem;o++){var n="#item_"+t+"_"+o;1==use_keyboard&&(_.autoHover&&($(n).prepend('<div class="zoom-icon"></div>'),$(n).bind("mouseover",function(){SPA.isEnable()&&($(this).addClass("featured-thumbnail"),1!=$(this).attr("is_focus"))&&($(this).css("border","6px solid white"),$(this).css("margin-left","-"+r+"px"),$(this).css("margin-top","-"+r+"px"))}),$(n).bind("mouseout",function(){$(this).removeClass("featured-thumbnail"),1!=$(this).attr("is_focus")&&($(this).css("border","0px solid white"),$(this).css("margin-left","0px"),$(this).css("margin-top","0px"))})),$(n).bind("click",function(){if(SPA.isEnable()){var e=parseInt($(this).attr("col")),t=parseInt($(this).attr("row")),i=e;_.currentRowIndex=t;for(var o=0;o<_.rowList.length;o++)if(_.rowList[o].row_index_data==t){_.rowList[o].row_info.currentItemIndex=i;break}x()}}))}}C(!0);for(t=0;t<e;t++)$("#movie_item_row_"+_.rowList[t].row_index).bind("transitionend",function(){_.finishRowCount++,_.finishRowCount==e-_.hiddenRow+1&&(_.status=l.NONE)});unlock()}function C(e){if(d==u.TOP)y(e);else if(d==u.MIDDLE)for(var t=_.finishRowCount=0;t<_.rowList.length;t++){var i,o=_.rowList[t];i=o.row_index==_.middleRow?_.middleY-_.top:o.row_index<_.middleRow?_.middleY-(_.middleRow-o.row_index)*(_.rowGap+v.height)-_.top:_.middleY+(o.row_index-_.middleRow)*(_.rowGap+v.height)-_.top,i-=g,S(p?{element:"#movie_item_row_"+o.row_id,transform:"translateY("+i+"px)",transition:o.transition}:{element:"#movie_item_row_"+o.row_id,transform:"translateY("+i+"px)"})}else if(d==u.BOTTOM){_.finishRowCount=0;for(var n=m.getLastRowPosition(),a=0;a<_.rowList.length;a++){var r=_.rowList[a],l=n-r.row_index+1,s=(n==r.row_index&&(l=n-r.row_index+2),_.rowGap),s=(n==r.row_index&&(s=0),_.top+(s+v.height)*l);s=c-s,S(p?{element:"#channellist_item_row_"+r.row_id,transform:"translateY("+s+"px)",transition:r.transition}:{element:"#channellist_item_row_"+r.row_id,transform:"translateY("+s+"px)"})}}else y(e)}function y(e){e=getParam(e,!1);_.finishRowCount=0;for(var t=0;t<_.rowList.length;t++){var i=_.rowList[t],o=_.top+(_.rowGap+v.height)*i.row_index;if(o-=g,S(!p||e?{element:"#movie_item_row_"+i.row_id,transform:"translateY("+o+"px)"}:{element:"#movie_item_row_"+i.row_id,transform:"translateY("+o+"px)",transition:i.transition}),e)if(p)for(var n=0;n<i.row_info.totalItem;n++){var a=(v.itemWidth+v.itemGap)*n+v.leftGap;n==i.row_info.currentItemIndex&&i.row_index_data==_.currentRowIndex?S({element:"#item_"+i.row_id+"_"+n,transform:"translate("+a+"px, "+v.topGap+"px) scale(1.2)",transition:A(),border:r+"px solid white",margin:"-"+r+"px"}):S({element:"#item_"+i.row_id+"_"+n,transform:"translate("+a+"px, "+v.topGap+"px)"})}else for(n=0;n<i.row_info.totalItem;n++){a=(v.itemWidth+v.itemGap)*n+v.leftGap;n==i.row_info.currentItemIndex&&i.row_index_data==_.currentRowIndex?S({element:"#item_"+i.row_id+"_"+n,transform:"translate("+a+"px, "+v.topGap+"px) scale(1.2)",border:r+"px solid white",margin:"-"+r+"px"}):S({element:"#item_"+i.row_id+"_"+n,transform:"translate("+a+"px, "+v.topGap+"px)"})}}}function i(e){switch(e){case KEY_DOWN:if(d=w(1),_.currentRowIndex==_.totalRow-1)m.onLostFocusDownFn&&m.onLostFocusDownFn(m);else{if(_.currentRowIndex>=_.totalRow-2||_.totalRow<=_.visibleRow){if(m.fireLostFocusEvent(),_.currentRowIndex++,_.currentRowIndex==_.totalRow-1&&1<_.totalRow){g=v.itemHeight,_.totalRow<=_.visibleRow&&(g=.7*v.itemHeight);for(var t=0;t<_.rowList.length;t++)_.rowList[t].transition=A();C(),g=0}}else{var i=m.getLastRowIndex();if(i>_.totalRow-2){m.fireLostFocusEvent(),_.currentRowIndex++;for(t=0;t<_.rowList.length;t++)_.rowList[t].row_index--,_.rowList[t].transition=A(),$("#movie_item_row_"+_.rowList[t].row_id).attr("row_index",_.rowList[t].row_index)}else{m.fireLostFocusEvent(),_.currentRowIndex++;for(t=0;t<_.rowList.length;t++){var o=_.rowList[t];if(-2==o.row_index){_.rowList[t].row_index=5,_.rowList[t].row_index_data=i+1,_.rowList[t].transition="none";for(var n=m.dataList[i+1].length,a=0;a<n;a++)$("#item_"+o.row_id+"_"+a).attr("row",i+1),$("#item_"+o.row_id+"_"+a+" img").attr("src",m.dataList[i+1][a].CONTENT_IMAGE_URL);if(n<h){for(var r=h-n,a=0;a<r;a++)$("#item_"+o.row_id+"_"+(h-1-a)).hide();_.rowList[t].row_info.totalItem=n}}else _.rowList[t].row_index--,_.rowList[t].transition=A();$("#movie_item_row_"+o.row_id).attr("row_index",_.rowList[t].row_index)}}C()}m.fireFocusEvent()}break;case KEY_UP:if(d=w(-1),0==_.currentRowIndex)m.onLostFocusUpFn&&m.onLostFocusUpFn(m);else{if(_.currentRowIndex>=_.totalRow-1||_.totalRow<=_.visibleRow){if(m.fireLostFocusEvent(),_.currentRowIndex--,_.currentRowIndex==_.totalRow-2){for(var l=0;l<_.rowList.length;l++)_.rowList[l].transition=A();C()}}else{var s=m.getFirstRowIndex();if(0==s){m.fireLostFocusEvent(),_.currentRowIndex--;for(l=0;l<_.rowList.length;l++)_.rowList[l].transition=A(),_.rowList[l].row_index++,$("#movie_item_row_"+_.rowList[l].row_id).attr("row_index",_.rowList[l].row_index)}else{m.fireLostFocusEvent(),_.currentRowIndex--;for(l=0;l<_.rowList.length;l++){var c=_.rowList[l];if(5==c.row_index){_.rowList[l].row_index=-2,_.rowList[l].transition="none",_.rowList[l].row_index_data=s-1;for(var u=0;u<h;u++)$("#item_"+c.row_id+"_"+u).show(),$("#item_"+c.row_id+"_"+u).attr("row",s-1),$("#item_"+c.row_id+"_"+u+" img").attr("src",m.dataList[s-1][u].CONTENT_IMAGE_URL);_.rowList[l].row_info.totalItem=h}else _.rowList[l].transition=A(),_.rowList[l].row_index++;$("#movie_item_row_"+c.row_id).attr("row_index",_.rowList[l].row_index)}}C()}m.fireFocusEvent()}break;case KEY_RIGHT:!(p=P(_.currentRowIndex))||p.row_info.currentItemIndex>=p.row_info.totalItem-1||(b(p),p.row_info.currentItemIndex++,f(p));break;case KEY_LEFT:(p=P(_.currentRowIndex))&&(0==p.row_info.currentItemIndex?m.onLostFocusLeftFn&&m.onLostFocusLeftFn(m):(b(p),p.row_info.currentItemIndex--,f(p)));break;case KEY_ENTER:x();break;default:isBackKey(e)&&m.onBackFn&&(actionLog("Back",m.wrapObjId),m.onBackFn(m))}var p}function w(e){e=getParam(e,1);var t=_.currentRowIndex,i="";return _.totalRow<=_.visibleRow?u.TOP:0<e?t+e==_.totalRow?u.NONE:t<_.middleRow?u.TOP:u.MIDDLE:e<0?0==t?u.NONE:t<=_.middleRow+1?u.TOP:t>_.middleRow+1?u.MIDDLE:u.NONE:i}function P(e){for(var t=null,i=0;i<_.rowList.length;i++){var o=_.rowList[i];if(o.row_index_data==e){t=o;break}}return t||null}function A(){return"transform "+n+"ms ease 0s"}function S(e){var t,i={transform:e.transform,"-o-transform":e.transform,"-ms-transform":e.transform,"-moz-transform":e.transform,"-webkit-transform":e.transform};t=e.transition||"none",i.transition=t,i["-o-transition"]=t,i["-ms-transition"]=t,i["-moz-transition"]=t,i["-webkit-transition"]=t,e.border?(i.border=e.border,i["-o-border"]=e.border,i["-ms-border"]=e.border,i["-moz-border"]=e.border,i["-webkit-border"]=e.border):(i.border="none",i["-o-border"]="none",i["-ms-border"]="none",i["-moz-border"]="none",i["-webkit-border"]="none"),e.margin?(i["margin-left"]=e.margin,i["-o-margin-left"]=e.margin,i["-ms-margin-left"]=e.margin,i["-moz-margin-left"]=e.margin,i["-webkit-margin-left"]=e.margin,i["margin-top"]=e.margin,i["-o-margin-top"]=e.margin,i["-ms-margin-top"]=e.margin,i["-moz-margin-top"]=e.margin,i["-webkit-margin-top"]=e.margin):(i["margin-left"]="",i["-o-margin-left"]="",i["-ms-margin-left"]="",i["-moz-margin-left"]="",i["-webkit-margin-left"]="",i["margin-top"]="",i["-o-margin-top"]="",i["-ms-margin-top"]="",i["-moz-margin-top"]="",i["-webkit-margin-top"]=""),$(e.element).css(i)}function I(e,t){var i=e.row_id,o=e.row_info.currentItemIndex,e=(v.itemWidth+v.itemGap)*e.row_info.currentItemIndex+v.leftGap;p?t?($("#item_"+i+"_"+o).attr("is_focus","1"),S({element:"#item_"+i+"_"+o,transform:"translate("+e+"px, "+v.topGap+"px) scale(1.2)",transition:A(),border:r+"px solid white",margin:"-"+r+"px"})):($("#item_"+i+"_"+o).attr("is_focus","0"),S({element:"#item_"+i+"_"+o,transform:"translate("+e+"px, "+v.topGap+"px)"})):t?($("#item_"+i+"_"+o).attr("is_focus","1"),S({element:"#item_"+i+"_"+o,transform:"translate("+e+"px, "+v.topGap+"px) scale(1.2)",border:r+"px solid white",margin:"-"+r+"px"})):($("#item_"+i+"_"+o).attr("is_focus","0"),S({element:"#item_"+i+"_"+o,transform:"translate("+e+"px, "+v.topGap+"px)"}))}function x(){if(console.info("row: ",m.getCurrentRowIndex()),console.info("col: ",m.getCurrentItemIndex()),ModuleManager.loadFile("clsLogBehavior",function(){clsLogBehavior.setOther(m.getCurrentRowIndex(),m.getCurrentItemIndex())},null,!0),ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.setOther(m.getCurrentRowIndex(),m.getCurrentItemIndex()),clsLogBehaviorV2.getLogBehaviorParam(m.getSelectedItemId())},null,!0),m.onItemClickFn){actionLog("Click",m.wrapObjId);try{m.onItemClickFn(m)}catch(e){gotoHomeError(e.message+" (898)")}}}this.addMore=function(e){var t=(t=[].concat.apply([],m.dataList)).concat(e);m.dataList=t,m.dataList=arrayTo2Dimension(m.dataList,h),_.totalRow=m.dataList.length},this.init=function(e){try{m.dataList=arrayTo2Dimension(m.dataList,h),_.totalRow=m.dataList.length,_.bottomIndex=_.rowList.length-1-2,s(),_.currentRowIndex=0;var t,i=$("#"+m.wrapObjId).css("height");i="%"==i.substring(i.length-1)?(t=parseInt(i),SPA.screenHeight*t/100):parseInt(i),c=i,_.middleY=(c-v.itemHeight)/2-SPA.convertScale(130),m.setSelectedItem(m.rowIndex,m.colIndex)}catch(e){gotoHomeError(e.message+" (898)")}},this.reset=function(){d=u.TOP,_.currentRowIndex=0,m.rowIndex=0,m.colIndex=0,this.init(1)},this.getName=function(){return this.wrapObjId},this.hide=function(){$("#"+m.wrapObjId).hide()},this.show=function(){$("#"+m.wrapObjId).show()},this.setSelectedItem=function(e,t){o.disable();for(var i=0;i<e;i++)m.sendKey(KEY_DOWN,!1);for(i=0;i<t;i++)m.sendKey(KEY_RIGHT,!1);setTimeout(function(){o.enable()},200)},this.getCurrentRowIndex=function(){return _.currentRowIndex},this.getCurrentItemIndex=function(){return P(_.currentRowIndex).row_info.currentItemIndex},this.getSelectedRow=function(){return P(_.currentRowIndex)},this.getFirstRowIndex=function(){for(var e=[],t=0;t<_.rowList.length;t++)e.push(_.rowList[t].row_index_data);return Math.min.apply(null,e)},this.getLastRowIndex=function(){for(var e=[],t=0;t<_.rowList.length;t++)e.push(_.rowList[t].row_index_data);return Math.max.apply(null,e)},this.getLastRowPosition=function(){for(var e=[],t=0;t<_.rowList.length;t++)e.push(_.rowList[t].row_index);return Math.max.apply(null,e)},this.setFocus=function(){m.fireFocusEvent()},this.gotoTop=function(e){},this.gotoBottom=function(e){},this.lostFocus=function(){m.fireLostFocusEvent()},this.sendKey=function(e,t){t=getParam(t,!0),this.onKeyPressed({which:e},t)},this.onKeyPressed=function(e,t){t=getParam(t,!0);e=e.which;e!=KEY_RIGHT&&e!=KEY_LEFT&&lock(t),i(e),setTimeout(function(){unlock(t)},n-100)},this.fireFocusEvent=function(e){f(P(_.currentRowIndex))},this.fireLostFocusEvent=function(e){b(P(_.currentRowIndex))},this.fireLostFocusRightEvent=function(){m.onLostFocusRightFn&&m.onLostFocusRightFn(m)},this.fireLostFocusLeftEvent=function(){m.onLostFocusLeftFn&&m.onLostFocusLeftFn(m)},this.getSelectedItem=function(){var e=P(_.currentRowIndex);return e?m.dataList[e.row_index_data][e.row_info.currentItemIndex]:null},this.getSelectedItemId=function(){var e=P(_.currentRowIndex);return e?"#item_"+e.row_id+"_"+e.row_info.currentItemIndex:null},this.onMouseWheel=function(e){0<e?this.sendKey(KEY_UP):this.sendKey(KEY_DOWN)},this.onMouseMove=function(){m.onMouseMoveFn&&m.onMouseMoveFn()},this.setStatus=function(e){t=e},this.getStatus=function(){return t},m.autoRegister&&o.register(m),this.init(0)},window.BitMovinPlayer=BitMovinPlayer,window.clsNotification=clsNotification,window.objNotification={typePopup:3,hasShowDataText:!1,isShowPopup:!1,button_index:1,currentData:null,timerPopup:null,surveyNotiList:"",buildPageHTML:function(){$("body #notification_text").length||$("body").append('<div id="notification_text" class="footer_text" style="display: none; bottom: 0"><marquee behavior=scroll direction="left" scrollamount="15"></marquee></div>'),$("body #notification_popup_3_4_text").length||$("body").append('<div id="notification_popup_3_4_text" class="transparent-bg" style="display: none;;z-index: 2"><div class="popup-text-wr"><div vmp-style="selected:focused" vmp-responsive="font-size"><div class="popup-text-content"><div class="popup-line"></div><div id="notification_popup_3_4_text_tittle" style="font-weight:bold;text-align:center;"></div><div id="notification_popup_3_4_text_detail"></div></div><div class="popup-text-btn-wr"><div id="noti_close_button_3_4_text" class="orange-bg round-btn focus"> Đóng </div></div></div></div></div>'),$("#notification_popup_3_4_text #noti_close_button_3_4_text").attr("onClick","objNotification.button_index=1;SPA.sendKey(KEY_ENTER);"),$("body #notification_popup_3_4_img").length||$("body").append('<div id ="notification_popup_3_4_img" class="wrap-lst" style="display: none;;z-index: 2"><div class="in-wrap-lst" id ="notification_popup_3_4_image"><img src="app-images/s_popup_img.jpg"></div><div class="popup-btn-wr-center" style="width: 100%; left: 0; text-align: center"><div id="noti_watch_button_34" class="round-btn" style="margin-right: 50px;"> Xem </div><div id="noti_close_button_34" class="round-btn focus"> Đóng </div></div></div>'),$("#notification_popup_3_4_img #noti_watch_button_34").attr("onClick","objNotification.button_index=0;SPA.sendKey(KEY_ENTER);"),$("#notification_popup_3_4_img #noti_close_button_34").attr("onClick","objNotification.button_index=1;SPA.sendKey(KEY_ENTER);");$("body #notification_popup_full").length||$("body").append('<div id ="notification_popup_full" class="full-popup" style="display: none;z-index: 10; position: fixed"><div id="notification_popup_full_img"><img src="app-images/popup_img.jpg"></div><img src="app-images/mask_popup.png" alt="" class="mask-bottom" style="height:auto;"><div class="popup-btn-wr"><div id="noti_watch_button_full" class="round-btn" style="margin-right: 20px;"> Xem </div><div id="noti_close_button_full" class="round-btn focus"> Đóng </div></div></div>'),$("#notification_popup_full #noti_watch_button_full").attr("onClick","objNotification.button_index=0;SPA.sendKey(KEY_ENTER);"),$("#notification_popup_full #noti_close_button_full").attr("onClick","objNotification.button_index=1;SPA.sendKey(KEY_ENTER);");$("body #noti_style").length||$("body").append('<style id="noti_style">.round-btn { font-size: 20px; text-transform: uppercase; font-weight: 550; border-radius: 50px !important; width: 76px; height: 76px; position: relative; display: inline-block; vertical-align: middle; line-height: 3.7; text-align: center; background: #7f807f; transition: 0.2s; }.round-btn.focus { background: #fa8e03; color: #000 !important; box-shadow: 3px 3px 25px rgba(0, 0, 0, 0.5); }')},hidePopUp:function(){objNotification.buildPageHTML(),gIsShowPopupNotification=3==objNotification.typePopup?($("#notification_popup_full").hide(),$("#homepage_mytv_logo").show(),objNotification.isShowPopup=!1):4==objNotification.typePopup?($("#notification_popup_3_4_img").hide(),objNotification.isShowPopup=!1):(5==objNotification.typePopup||($("#homepage_mytv_logo").show(),$("#notification_popup_full").hide(),$("#notification_popup_3_4_img").hide()),$("#notification_popup_3_4_text").hide(),objNotification.isShowPopup=!1),objNotification.timerPopup&&(clearTimeout(objNotification.timerPopup),objNotification.timerPopup=null)},showNotification:function(t){objNotification.getSurveyNotificationIDList(function(){ModuleManager.loadFile("clsNotification",function(){clNotification&&clNotification.hideToastNotification(),objNotification.hasShowDataText&&objNotification.hideTextNotification()},null,!0),objNotification.buildPageHTML(),objNotification.isSurveyCheckedCurrentPage=!1,clearTimeout(objNotification.surveyCheckedTimeout),objNotification.surveyCheckedTimeout=null;var e=getShortURL();if(!(0<=["","login","loginChangeLink","changeLink","loginChangeUser","fimPlusSplash","changeLinkAAA","loginSelfCare","registerSelfCare","provinceSelfCare","paySelfCare","storeSelfCare","chooseProfile","manageProfile","loadingProfile"].indexOf(e)))if(null!=getParam(t,null)){if(3==t)gDeviceAPI.readData(gNotificationDataPopup+getCurrentProfileIDNotification(),function(e){null!==e?objNotification.checkNotification(e,null):objNotification.checkSurvey(),0==objNotification.isShowPopup&&gDeviceAPI.readData("notification_data_popup_api"+getCurrentProfileIDNotification(),function(e){null!==e&&objNotification.checkNotification(e,null)})});else if(4==t&&objNotification.hasShowDataText)return void objNotification.hideTextNotification()}else gDeviceAPI.readData(gNotificationDataPopup+getCurrentProfileIDNotification(),function(e){null!==e?objNotification.checkNotification(e,function(){objNotification.hasShowDataText?objNotification.hideTextNotification():0==objNotification.isShowPopup&&gDeviceAPI.readData("notification_data_popup_api"+getCurrentProfileIDNotification(),function(e){null!==e?objNotification.checkNotification(e,null):objNotification.checkSurvey()})}):(0==objNotification.isShowPopup&&gDeviceAPI.readData("notification_data_popup_api"+getCurrentProfileIDNotification(),function(e){null!==e?objNotification.checkNotification(e,null):objNotification.checkSurvey()}),objNotification.hasShowDataText&&objNotification.hideTextNotification())})})},checkNotification:function(e,t){try{if(objNotification.buildPageHTML(),Array.isArray(e)){if(1!=objNotification.isShowPopup){var i=getShortURL(),o=(console.log("--pathURL--"+i),_leftMenuFnc.getCurrentModuleID());objNotification.checkNotificationRunningText(o,e);if(-1==["homeNewUI","channel","hbo","4k","tvod","movie","livestream","clip","music","gentertainment","myplus","danet","galaxyplay","clip-detail","ceeshow","specialModule"].indexOf(i))objNotification.globalRunningText||objNotification.processHideTextNotification(),objNotification.checkSurvey();else{for(var n=null,a=0,r=0;r<e.length;r++)if(6==e[r].notification_type&&(e[r].is_play_content=1,e[r].is_linkable=1),4!=e[r].notification_type&&e[r].module_id==o&&0<e[r].popup_limit&&1==objNotification.checkShowTime(e[r])&&1==objNotification.checkAvailableInSurveyNotiList(e[r].notification_id)){n=e[r],a=r,console.log("--pathURL--",a);break}n?(saveLogImpressedNoti(n),objNotification.typePopup=n.category_id,3==(objNotification.currentData=n).category_id?($("#notification_popup_full_img").html(n.notification_full_desc),$("#homepage_mytv_logo").hide(),1==n.is_play_content||1==n.is_linkable?($("#noti_watch_button_34").show(),$("#noti_watch_button_full").show()):($("#noti_watch_button_34").hide(),$("#noti_watch_button_full").hide()),objNotification.button_index=1,objNotification.setHighlight(),$("#notification_popup_full").show(),objNotification.isShowPopup=!0,gIsShowPopupNotification=!0):4==n.category_id?($("#notification_popup_3_4_image").html(n.notification_full_desc),1==n.is_play_content||1==n.is_linkable?($("#noti_watch_button_34").show(),$("#noti_watch_button_full").show()):($("#noti_watch_button_34").hide(),$("#noti_watch_button_full").hide()),objNotification.button_index=1,objNotification.setHighlight(),$("#notification_popup_3_4_img").show(),objNotification.isShowPopup=!0,gIsShowPopupNotification=!0):5==n.category_id&&($("#notification_popup_3_4_text_detail").html(n.notification_full_desc),$("#notification_popup_3_4_text_tittle").html(n.notification_title),$("#notification_popup_3_4_text").show(),objNotification.isShowPopup=!0,gIsShowPopupNotification=!0),0==(l=getParam(1e3*n.time_out,15e3))&&(l=15e3),isNaN(l)&&(l=15e3),objNotification.timerPopup=setTimeout(function(){try{ModuleManager.loadFile("clsLogBehavior",function(){clsLogBehavior.setNotificationPopup(objNotification.currentData.screen_url,objNotification.currentData.type_id,objNotification.currentData.category_id,"timeout",objNotification.currentData.notification_id,"NotifyOnApp",objNotification.currentData.notification_type,objNotification.currentData.is_linkable,objNotification.currentData.screen_name),clsLogBehavior.saveLogBehavior(SPA.getFullURLCurrent())},null,!0)}catch(e){}writelogBehaviorTimeout(objNotification.currentData),gIsShowPopupNotification=!1,objNotification.hidePopUp()},l),e[a].popup_limit=n.popup_limit-1,1==e[a].noti_api?gDeviceAPI.writeData("notification_data_popup_api"+getCurrentProfileIDNotification(),JSON.stringify(e)):gDeviceAPI.writeData(gNotificationDataPopup+getCurrentProfileIDNotification(),JSON.stringify(e))):objNotification.checkSurvey()}}null!=t&&t()}else if(!objNotification.hideTextNotification()){if("none"==$("#notification_text").css("display")){for(var l,s,c=!1,u=new Date,p=JSON.parse(e.popup_date_range),r=0;r<p.length;r++){var m=p[r],d=createDateFromDates(m.from,0,0,0),g=createDateFromDates(m.to,23,59,59);if(d<=u&&u<=g)for(var h=JSON.parse(e.popup_time_range),_=0;_<h.length;_++){var v=h[_],f=createDateFromHour(v.from),b=createDateFromHour(v.to);if(f<=u&&u<=b){c=!0;break}}}c?(saveLogImpressedNoti(e),e.text_speed=getParam(e.text_speed,30),e.text_size=getParam(e.text_size,40),e.text_speed<10&&(e.text_speed=10),40<e.text_speed&&(e.text_speed=40),e.text_speed=Math.floor(.3*e.text_speed),e.text_size<30&&(e.text_size=30),50<e.text_size&&(e.text_size=50),s='<marquee behavior=scroll direction="left" ',s=(s+='scrollamount="'+e.text_speed+'">')+getParam(e.notification_full_desc,"Nội dung thông báo")+"</marquee>",$("#notification_text").css({color:e.text_color,"font-size":e.text_size+"px","background-color":e.text_background}),$("#notification_text").show(),$("#notification_text").html(s),0==(l=getParam(1e3*e.time_out,15e3))&&(l=15e3),isNaN(l)&&(l=15e3),objNotification.runningTextTimeout=setTimeout(function(){writelogBehaviorTimeout(e),$("#notification_text").html(""),$("#notification_text").hide()},l),objNotification.hasShowDataText=!0):objNotification.checkSurvey()}null!=t&&t()}}catch(e){console.error("try/cacth in show popup"),console.log(e)}},checkShowTime:function(e){for(var t=!1,i=new Date,o=JSON.parse(e.popup_date_range),n=0;n<o.length;n++){var a=o[n],r=createDateFromDates(a.from,0,0,0),a=createDateFromDates(a.to,23,59,59);if(r<=i&&i<=a)for(var l=JSON.parse(e.popup_time_range),s=0;s<l.length;s++){var c=l[s],u=createDateFromHour(c.from),c=createDateFromHour(c.to);if(console.log("--inShowTime--",u,c),u<=i&&i<=c){t=!0;break}}}return t},checkNotificationRunningText:function(e,t){for(var i=-1,o=!1,n=0;n<t.length;n++)if(4==t[n].notification_type&&(""==t[n].screen_url&&(i=n),t[n].module_id==e)&&0<t[n].popup_limit&&1==objNotification.checkShowTime(t[n])&&1==objNotification.checkAvailableInSurveyNotiList(t[n].notification_id)){o=!0,objNotification.showTextNotification(t[n]);break}o||(-1!=i?(objNotification.showTextNotification(t[i]),objNotification.globalRunningText=!0):objNotification.processHideTextNotification())},showTextNotification:function(e){var t;1==objNotification.globalRunningText&&""==e.screen_url||(objNotification.globalRunningText=!1,objNotification.processHideTextNotification(),e.text_speed=getParam(e.text_speed,30),e.text_size=getParam(e.text_size,40),e.text_speed<10&&(e.text_speed=10),40<e.text_speed&&(e.text_speed=40),e.text_speed=Math.floor(.3*e.text_speed),e.text_size<30&&(e.text_size=30),50<e.text_size&&(e.text_size=50),t='<marquee behavior=scroll direction="left" ',t=(t+='scrollamount="'+e.text_speed+'">')+getParam(e.notification_full_desc,"Nội dung thông báo")+"</marquee>",$("#notification_text").css({color:e.text_color,"font-size":SPA.convertScale(e.text_size)+"px","background-color":e.text_background}),$("#notification_text").show(),$("#notification_text").html(t),0==(t=getParam(1e3*e.time_out,15e3))&&(t=15e3),isNaN(t)&&(t=15e3),saveLogImpressedNoti(e,0),objNotification.runningTextTimeout=setTimeout(function(){try{ModuleManager.loadFile("clsLogBehavior",function(){clsLogBehavior.setNotificationPopup(e.screen_url,e.type_id,e.category_id,"timeout",e.notification_id,"NotifyOnApp",e.notification_type,e.is_linkable,e.screen_name),clsLogBehavior.saveLogBehavior(SPA.getFullURLCurrent())},null,!0)}catch(e){}objNotification.globalRunningText=!1,objNotification.processHideTextNotification()},t),objNotification.hasShowDataText=!0)},globalRunningText:!1,runningTextTimeout:null,hideTextNotification:function(){objNotification.buildPageHTML();var e=getShortURL();return 0<=["clipGuidePlayer","channelPlayer","channelTvodPlayer","radioPlayer","tvodPlayer","musicPlayer","clipPlayer","hboPlayer","hboChannelPlayer","moviePlayer","moviePlayerNew","movieTrailerPlayer","livestreamPlayerVOD","livestreamPlayer","eventsPlay","chooseProfile","manageProfile","loadingProfile","loginSelfCare","lixi","homeNewUI"].indexOf(e)&&(objNotification.globalRunningText=!1,objNotification.hasShowDataText=!1,objNotification.processHideTextNotification(),!0)},processHideTextNotification:function(){$("#notification_text").hide(),clearTimeout(objNotification.runningTextTimeout),objNotification.runningTextTimeout=null},isSurveyCheckedCurrentPage:!1,surveyCheckedTimeout:null,checkSurvey:function(t){1!=objNotification.isSurveyCheckedCurrentPage&&(objNotification.isSurveyCheckedCurrentPage=!0,console.log("thainh survey 1"),ModuleManager.loadFile("clsSurvey",function(){var e="homeNewUI"==getShortURL()?1100:0;objNotification.surveyCheckedTimeout=setTimeout(function(){clsSurvey.checkSurveyModule(t)},e)},null,!0))},onKeyPressed:function(e){var t=e.which;switch(t){case KEY_LEFT:case KEY_RIGHT:1==objNotification.button_index?objNotification.button_index=0:objNotification.button_index=1,objNotification.setHighlight();break;case KEY_ENTER:if(1==objNotification.button_index)writeLogBehaviorCloseNoti(objNotification.currentData),gIsShowPopupNotification=!1,objNotification.hidePopUp();else{try{ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.setNotificationPopup("view",objNotification.currentData.type_id,objNotification.currentData.category_id,objNotification.currentData.notification_id,objNotification.currentData.notification_type,objNotification.currentData.content_id),0==getParam(objNotification.currentData.content_id,0)&&clsLogBehaviorV2.saveLogActionPopup("NotifyOnApp")},null,!0)}catch(e){console.log(e)}if(null==objNotification.currentData)return gIsShowPopupNotification=!1,objNotification.hidePopUp(),void showAutoHideWarning("Lỗi không lấy được thông tin nội dung Notification");ModuleManager.loadFile("clsNotificationPlay",function(){clNotificationPlay=clNotificationPlay||new clsNotificationPlay,console.info(objNotification),console.info(objNotification.currentData),clNotificationPlay.setParam({VMP:window.VMP,content:"",data:objNotification.currentData,category_id:objNotification.currentData.category_id,button_ok_text:"Xem",button_cancel_text:"",onOKFn:function(){}}),gIsShowPopupNotification=!1,objNotification.hidePopUp(),clNotificationPlay.onOKFn()},null,!0)}break;default:isBackKey(t)&&(gIsShowPopupNotification=!1,objNotification.hidePopUp())}},setHighlight:function(){1==objNotification.button_index?($("#noti_close_button_34").addClass("focus"),$("#noti_close_button_full").addClass("focus"),$("#noti_watch_button_34").removeClass("focus"),$("#noti_watch_button_full").removeClass("focus")):($("#noti_close_button_34").removeClass("focus"),$("#noti_close_button_full").removeClass("focus"),$("#noti_watch_button_34").addClass("focus"),$("#noti_watch_button_full").addClass("focus"))},getSurveyNotificationIDList:function(t){gDeviceAPI.readData("surveyNotiList"+getCurrentProfileIDNotification(),function(e){objNotification.surveyNotiList=null==e?"":e,t()})},checkAvailableInSurveyNotiList:function(e){return!(-1<objNotification.surveyNotiList.indexOf(","+e))}},window.getCurrentProfileIDNotification=function(){return null==g_currentProfile?"":g_currentProfile.PROFILE_ID};var screenName="";function clsNotificationPlay(){var o=this,i=(this.wrapObjId="dialog_notification_play",this.urlBack="",this.param=null,this.data=null,null),t=["kid","news","training","music","entertaiment","feature_clip","life_style","sport","health","karaoke","comedy","vtvcab_on","tet_2021","women_gifts","proud_vietnam","summer_fun","sending_love_message"],n=["movie","galaxyplay","danet"];this.screenMapping=function(e){return 0<=t.indexOf(e)?"clip":0<=n.indexOf(e)?"movie":e},this.getURLBack=function(){return o.urlBack},this.setURLBack=function(e){o.urlBack=e},this.getDataServiceFromHome=function(e){for(var t=!1,i=0;i<window.homeServiceData.length;i++)if(window.homeServiceData[i].module_id==e){t=window.homeServiceData[i];break}return t},this.onOKFn=function(){o.hide();try{var e=SPA.getCurrentPath();"movie"!=e&&"channel"!=e&&"fimplus"!=e&&"danet"!=e&&"4k"!=e&&"clip"!=e&&"specialModule"!=e||fn("clearRunBanner")}catch(e){}console.log("clsNotificationPlay hereeeeeeeeeeeeeeeeee");try{if("6"==clNotificationPlay.data.notification_type||1==clNotificationPlay.data.is_linkable){if(1==clNotificationPlay.data.is_linkable&&4==clNotificationPlay.data.linkable_type)return void ModuleManager.loadFile("clsSurvey",function(){clsSurvey.apiGetSurveyNotification(clNotificationPlay.data.survey_id,clNotificationPlay.data.notification_id)},null,!0);switch(isClickedSpecialModule=!1,SPA.savePath(SPA.getFullURLCurrent()),ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.setReferer(REFERER.NOTIFICATION)},null,!0),gNotificationShow=!1,clNotificationPlay.data.linkable_type){case"3":case"5":var t=0;void 0!==window.billNumber&&(t=window.billNumber),SPA.location("supportInfoPackage?bill_number="+t);break;case"1":_leftMenuFnc.onClickPlayItem(clNotificationPlay.data.content_info,"",gVMPCurrentActive);break;case"2":_leftMenuFnc.onItemClickServiceMenu(clNotificationPlay.data.module_id_linkable,gVMPCurrentActive);break;case"6":SPA.location("notifySupport");break;default:window.VMP.setActive(gVMPCurrentActive)}return}}catch(e){console.log(e)}1==o.param.data.category_id&&o.param.onOKFn&&o.param.onOKFn()},this.onCancelFn=function(){o.hide(),o.param.onCancelFn&&(actionLog("Click",o.wrapObjId),o.param.onCancelFn())},this.onBackFn=function(){o.hide(),o.param.onBackFn?(actionLog("Click",o.wrapObjId),o.param.onBackFn()):o.param.onCancelFn&&(actionLog("Click",o.wrapObjId),o.param.onCancelFn())},this.buildPageHTML=function(){$("body #dialog_notification_play").length||$("body").append('<div id="dialog_notification_play" style="display:none;" class="mask-with-bg"><div id="common-dialog-wrap" class="common-dialog-wrap" vmp-responsive="font-size,min-width,max-width" style="word-break: break-all;"><h3 id="dialog_notification_play_title" style="">Title</h3><p id="dialog_notification_play_content" style="font-size:24px;text-align: justify;line-height:30px;">Content</p><div class="common-btn common-btn-dialog common-btn-dialog-half" id="btn_notification_play_cancel" style="">Button Text</div><div class="common-btn common-btn-dialog common-btn-dialog-half" id="btn_notification_play_ok" style="">Button Text</div></div></div>');$("body #dialog_notification_play_toast").length||$("body").append('<div id="dialog_notification_play_toast" style="display:none;" class="mask-with-bg"><div id="common-dialog-wrap" class="common-dialog-wrap" vmp-responsive="font-size,min-width,max-width" style="word-break: break-all;"><h3 id="dialog_notification_play_title" style="">Title</h3><p id="dialog_notification_play_content" style="font-size:24px;text-align: justify;line-height:30px;">Content</p><div class="common-btn common-btn-dialog common-btn-dialog" id="btn_notification_play_ok_toast" style="">Button Text</div></div></div>')},this.setParam=function(e){o.buildPageHTML(),window.VMP.getObjById(o.wrapObjId)||window.VMP.register(o),o.param=e,o.data=e.data},this.setData=function(e){null==o.param&&(o.param={data:null}),o.param.data=e},this.getName=function(){return this.wrapObjId},this.init=function(){2==o.param.data.category_id?1==use_keyboard&&($("#btn_notification_play_ok").bind("click",function(){o.onOKFn()}),$("#btn_notification_play_cancel").bind("click",function(){o.onCancelFn()})):1==use_keyboard&&$("#btn_notification_play_ok_toast").bind("click",function(){o.onOKFn()})},this.sendKey=function(e){this.onKeyPressed({which:e})},this.setFocus=function(){},this.lostFocus=function(){},this.setHighlight=function(){2==o.param.data.category_id?1==i?($("#btn_notification_play_ok").addClass("active"),$("#btn_notification_play_cancel").removeClass("active")):($("#btn_notification_play_ok").removeClass("active"),$("#btn_notification_play_cancel").addClass("active")):$("#btn_notification_play_ok_toast").addClass("active")},this.show=function(){this.init(),1==o.param.data.category_id&&(o.wrapObjId="dialog_notification_play_toast");var e=o.param.data.notification_title,t=(100<e.length&&(e=e.substring(0,100)+"..."),o.param.data.notification_desc),e=(500<t.length&&(t=t.substring(0,500)+"..."),$("#"+o.wrapObjId+" #dialog_notification_play_title").html(e),$("#"+o.wrapObjId+" #dialog_notification_play_content").html(t),1==o.param.data.category_id?$("#btn_notification_play_ok_toast").html(getParam(o.param.button_ok_text,lang("common_popup_ok"))):($("#btn_notification_play_ok").html(getParam(o.param.button_ok_text,lang("common_popup_ok"))),$("#btn_notification_play_cancel").html(getParam(o.param.button_cancel_text,lang("common_popup_cancel")))),getParam(o.param.transparent,0)),t=getParam(o.param.minWidth,0);getParam(o.param.text_align)&&$("#dialog_notification_play_content").css({"text-align":o.param.text_align}),1==e?($("#dialog_notification_play").addClass("bg-transparent"),$("#common-dialog-wrap").addClass("dialog-bg")):($("#dialog_notification_play").removeClass("bg-transparent"),$("#common-dialog-wrap").removeClass("dialog-bg")),0<t&&$("#dialog_notification_play_content").css({"min-width":t+"px"}),i=getParam(o.param.init_item,1),o.setHighlight(),$("#"+o.wrapObjId).show()},this.hide=function(){$("#"+o.wrapObjId).hide()},this.onKeyPressed=function(e){var t=e.which;switch(t){case KEY_LEFT:case KEY_RIGHT:i=1==i?2:1,o.setHighlight();break;case KEY_ENTER:1==i?o.onOKFn():o.onCancelFn();break;default:isBackKey(t)&&o.onBackFn()}},this.TESTER={getCurrentStatus:function(){return o.param.status},getCurrentMessage:function(){return o.param.content}},this.toLocation=function(e){var t=o.urlBack.split("?"),i="";"clipPlayer"!=(i="/"==(i=1<t.length?t[0]:o.urlBack).substr(0,1)?i.substr(1,i.length-1):i)&&"moviePlayer"!=i&&"moviePlayerNew"!=i&&"musicPlayer"!=i&&"tvodPlayer"!=i&&"channelPlayer"!=i&&SPA.savePath(o.urlBack),clUIVODPlayer&&1==gIsPlayerPlaying&&"channelPlayer"!=i&&(gIsBackFromNotification=!0,clUIVODPlayer.HandleBack(),gIsBackFromNotification=!1),clUIVODPlayerNew&&1==gIsPlayerPlaying&&"channelPlayer"!=i&&(gIsBackFromNotification=!0,clUIVODPlayerNew.HandleBack(),gIsBackFromNotification=!1),null!=clUIChannelPlayer&&1==gIsPlayerPlaying&&"channelPlayer"==i&&("channelPlayer"==e?clUIChannelPlayer.CanncelPlayer():(gIsBackFromNotification=!0,clUIChannelPlayer.HandleBack(),gIsBackFromNotification=!1)),SPA.location(e)},this.stopVideoBeforePlay=function(e){e=getParam(e,!1);var t=SPA.getCurrentPath();try{clUIVODPlayer&&1==gIsPlayerPlaying&&"channelPlayer"!=t&&(gIsBackFromNotification=!0,clUIVODPlayer.CancelPlayer(),gIsBackFromNotification=!1)}catch(e){}try{clUIVODPlayerNew&&1==gIsPlayerPlaying&&"channelPlayer"!=t&&(gIsBackFromNotification=!0,clUIVODPlayerNew.CancelPlayer(),gIsBackFromNotification=!1)}catch(e){}try{null!=clUIChannelPlayer&&1==gIsPlayerPlaying&&"channelPlayer"==t&&(1==e?clUIChannelPlayer.CanncelPlayer():(gIsBackFromNotification=!0,clUIChannelPlayer.HandleBack(),gIsBackFromNotification=!1))}catch(e){}}}window.clsNotificationPlay=clsNotificationPlay,window.clsUIVODPlayer=function(e){var f=this,r=e.VMP,n=(f.param=null,this.url=e.url,this.showControlBar=e.showControlBar,this.status="",null),a=(this.onLostFocusDownFn=e.onLostFocusDownFn,this.onLostFocusUpFn=e.onLostFocusUpFn,this.onLostFocusRightFn=e.onLostFocusRightFn,this.onLostFocusLeftFn=e.onLostFocusLeftFn,this.onAddFavoriteFn=e.onAddFavoriteFn,this.onRemoveFavoriteFn=e.onRemoveFavoriteFn,this.onBackFn=e.onBackFn,this.onBackComplete=e.onBackComplete,this.onBackWardfn=e.onBackWardfn,this.onChoosePartition=e.onChoosePartition,this.onErrorFn=e.onErrorFn,this.onCallBackURLFn=e.onCallBackURLFn,this.clsDialogPlayList=null,this.divID=e.divID,this.movie_title=e.movie_title,this.intervalSaveDuration=null,this.breakpoint=getParam(e.breakpoint,0),this.showBreakpoint=!0,this.bFocusTimeShift=!1,this.clsRateDialog=null),l="PLAYING",i="PAUSED",t="ERROR_NETWORK",o=(this.seekTime=0,this.duration=0,this.seeking=!1,this.seekTicker=null,this.seekLevel=0,this.ctrlDispTimer=null,this.state=i,this.seekStep=1,this.canSeek=!0,this.bEnable=!1,this.bShowControlBar=!1,this.bShowTimeShiftBar=!1,getParam(e.isTrailer,!1)),R=getParam(e.isBackupDuration,!1),s=null,c=10/60,O=(this.iLevelSeek=c,o&&(this.iLevelSeek=10/60),this.iTimeSeek=0,this.bShowLevelSeek=!1,this.flagConfirmBreakPoint=!1,this.timeSeek=0,this.intervalSaveDuration=null,this.qnet_token="",this.qnet_operatorid="",this.qnet_session="",this.is_home_trailer=0,this.is_poster_trailer=0,this.is_home_preview=0,this.is_startup_ads=0,this.poster_trailer_timebegin=0,this.poster_trailer_timeplay=0,PAGE_STATUS.MOVIE_PLAYER.NORMAL),u=0,p={before:60,show:3e4,Nbreakpoint:90},m={before:30,show:15e3,Nbreakpoint:90},d={before:30,show:15e3,Nbreakpoint:90},g=0,h=0,_=0,v=null,b=(this.isAutoPlay=!1,this.timerBuffering=null,this.secTimeOut=60,this.setTimeoutPromoVideo=5,this.secTimeUpdate=0,this.secTimeUpdateZero=0,this.favorite=getParam(e.favorite,0),this.bShowFavorite=!0,this.ContentTypeID=0,this.DurationBeginPlaying=0,this.bShowAdvertise=getParam(e.showAdvertise,!1),this.timerAdvertise=null,this.secTimeAdvertise=getParam(e.secTimeAdvertise,0),this.bCloseAdvertise=!1,this.playListAdvertise=[],this.iPlayer=gPlayer.WJPLAYER,this.link_to_cdn="",this.profile4K="",this.PauseDuration=0,this.PauseStartTimeStamp=0,this.isLiveStream=!1,this.bRelateMovie=!1,this.bShowRelateMovieBar=!1,this.bNextPrev=!0,null),C=null,y=null,w=null,P=6,B=6,A=0,S=1,I=0,x=null,V=1,D=null,L="00:00",k=(this.IsAddPlaylist=0,this.lstPlayList=[],this.logoConfigList=[],{PLAYER:"PLAYER",CONTROLBAR:"CONTROLBAR",TIMESHIFT:"TIMESHIFT",RELATEMOVIE:"RELATEMOVIE",PLAYLIST:"PLAYLIST",CHOOSEPARTITION:"CHOOSEPARTITION",ADVERTISE:"ADVERTISE",CHOOSEMULTI:"CHOOSEMULTI"}),E=k.PLAYER,T=(this.autoLockKeyboard=!0,this.bDelayUnlockKeyTime=3e3,this.isRegisterMouseEvent=getParam(e.isRegisterMouseEvent,!0),this.loop_trailer=getParam(e.loop_trailer,null),this.isAdsExitApp=0,f.ObjDialogChooseSubtitle=null,this.getVideoControll=function(){return a},[{name:"player_timeshift",text_name:"Tua",img:"",img1:"",img2:"",isEnable:!0,position:200},{name:"player_choose_partition",text_name:"Chọn tập phim",img:"",img1:"app-images/upgrate/cp_series.png",img2:"app-images/upgrate/cp_series.png",isEnable:!0,position:300},{name:"player_recommand",text_name:"Nội dung liên quan",img:"",img1:"",img2:"",isEnable:!0,position:400},{name:"player_play",text_name:"Tạm dừng",img:"",img1:"",img2:"",isEnable:!0,position:500},{name:"add_myList",text_name:"Thêm vào danh sách<br> của tôi",img:"",img1:"app-images/profile/player/add_to_list.png",img2:"app-images/profile/player/remove_outof_list.png",isEnable:!0,position:600},{name:"player_favorite_kid",text_name:"Thích",text_name_remove:"Bỏ thích",img:"",img1:"app-images/profile/player/like.png",img2:"app-images/profile/player/like_rated.png",isEnable:!0,position:700},{name:"player_unfavorite",text_name:"Không thích",text_name_remove:"Bỏ không thích",img:"",img1:"app-images/profile/player/dislike.png",img2:"app-images/profile/player/dislike_rated.png",isEnable:!0,position:800}]);function F(){var e="";f.iNumSecSpace=60*f.iLevelSeek,e+='<div class="thumb-item-wrap"><div class="thumb-item-row">';for(var t,i=0;i<f.iNumItemShiftBar;i++)i==Math.floor(f.iNumItemShiftBar/2)?(e=(e+='<div class="thumb-item current-active" id="thumbmovie-'+i+'" style="cursor: pointer;opacity: 1; border-radius: 12px; margin: 0px 60px 0 50px; transform: scale(1.4); padding: 14px; vertical-align: inherit;" vmp-responsive="height">')+'<div class="thumb-time">'+f.convertSecondToString(f.iTimeShiftEnd)+"</div>",f.convertTime?e+='<img onerror="showDefaultImage(this,1);" src="'+f.thumbnailUrl+f.convertTime(f.iTimeShiftEnd)+'" style="border:4px solid #fff; box-shadow: 0 0 5px black;">':e+='<img onerror="showDefaultImage(this,1);" src="'+f.thumbnailUrl+f.iTimeShiftEnd+'" style="border:4px solid #fff; box-shadow: 0 0 5px black;">',e+="</div>",L=$("#thumbmovie-"+i+" .thumb-time").html()):(t="",e=(e+='<div class="thumb-item" id="thumbmovie-'+i+'" style="opacity: 1; border:0;margin-top:-6px; cursor: pointer;margin: 0 20px;border-radius: 12px;"  vmp-responsive="height">')+'<div class="thumb-time" style="'+(t=f.iTimeShiftEnd>f.duration-10?"visibility:hidden":t)+'">'+f.convertSecondToString(f.iTimeShiftEnd)+"</div>",f.convertTime?e+='<img onerror="showDefaultImage(this,1);" src="'+f.thumbnailUrl+f.convertTime(f.iTimeShiftEnd)+'" style="'+t+'">':e+='<img onerror="showDefaultImage(this,1);" src="'+f.thumbnailUrl+f.iTimeShiftEnd+'" style="'+t+'">',e+="</div>"),f.iTimeShiftEnd+=f.iNumSecSpace;return e=e+"</div>"+"</div>"}function U(){for(var e,t=(t="")+'<div class="thumb-item-wrap">'+'<div class="thumb-item-row">',i=0;i<f.iNumItemShiftBar;i++)i==Math.floor(f.iNumItemShiftBar/2)?(t=(t+='<div class="thumb-item current-active" id="thumbmovie-'+i+'" style="cursor: pointer;opacity: 1; border-radius: 12px; margin: 0px 60px 0 50px; transform: scale(1.4); padding: 14px; vertical-align: inherit;" vmp-responsive="height">')+'<div class="thumb-time">'+f.convertSecondToString(f.iTimeShiftEnd)+"</div>",f.convertTime?t+='<img onerror="showDefaultImage(this,1);" src="'+f.thumbnailUrl+f.convertTime(f.iTimeShiftEnd)+'" style="border:4px solid #fff; box-shadow: 0 0 5px black;">':t+='<img onerror="showDefaultImage(this,1);" src="'+f.thumbnailUrl+f.iTimeShiftEnd+'" style="border:4px solid #fff; box-shadow: 0 0 5px black;">'):(e="",f.iTimeShiftEnd>f.duration-10&&(e="visibility:hidden"),t=(t+='<div class="thumb-item" id="thumbmovie-'+i+'" style="opacity: 1; border:0;margin-top:-6px; cursor: pointer;margin: 0 20px;border-radius: 12px;"  vmp-responsive="height">')+'<div class="thumb-time" style="'+(e=f.iTimeShiftEnd<0?"visibility:hidden":e)+'">'+f.convertSecondToString(f.iTimeShiftEnd)+"</div>",f.convertTime?t+='<img onerror="showDefaultImage(this,1);" src="'+f.thumbnailUrl+f.convertTime(f.iTimeShiftEnd)+'" style="'+e+'">':t+='<img onerror="showDefaultImage(this,1);" src="'+f.thumbnailUrl+f.iTimeShiftEnd+'" style="'+e+'">'),t+="</div>",f.iTimeShiftEnd+=f.iNumSecSpace;return t=t+"</div>"+"</div>"}function K(e){var t=KeyRate.getKeyRate(),t=(f.iNumSecSpace=t/2*(60*f.iLevelSeek),f.getTimesThumbnail(L)),t=getParam(t,0);if(1==e){var i=t-2*f.iNumSecSpace,o=(i+=f.iNumSecSpace)+4*f.iNumSecSpace,n=60*f.iLevelSeek*2;if(o>f.duration+n-10&&(f.iNumSecSpace=60*f.iLevelSeek,i=t-2*f.iNumSecSpace,o=(i+=f.iNumSecSpace)+4*f.iNumSecSpace),o>f.duration+n-10)return}else{i=t-2*f.iNumSecSpace,o=(i-=f.iNumSecSpace)+4*f.iNumSecSpace;if(i<(n=-60*f.iLevelSeek*2)&&(f.iNumSecSpace=60*f.iLevelSeek,i=t-2*f.iNumSecSpace,o=(i-=f.iNumSecSpace)+4*f.iNumSecSpace),i<n)return}f.iTimeShiftEnd=i;e=U();$("#timeshift-bar").html(e),L=f.convertSecondToString(i+2*f.iNumSecSpace),t=f.getTimesThumbnail(L),f.setCurrentTime(t),Y()}function H(t){var i;1==getParam(gPlayParam.is_cast,0)&&(i=0,"SEEK"==t&&(i=a.currentTime()),ModuleManager.loadFile("clsSmartView",function(){var e;!clsSmartView||"PAUSE"!=t&&"PLAY"!=t&&"SEEK"!=t||(e={play_status:t,value:i},clsSmartView.sendEvent("handle_content",e))},function(){console.error("Không load được file SmartView")},!0))}function Y(){if(1==use_keyboard)for(var e=0;e<f.iNumItemShiftBar;e++)$("#thumbmovie-"+e+" .thumb-time").prepend('<div class="zoom-icon"></div>'),$("#thumbmovie-"+e).bind("mouseover",function(){"thumbmovie-2"!=$(this).attr("id")&&($(this.lastChild).css("box-sizing","border-box"),$(this.lastChild).css("border","6px solid white"))}),$("#thumbmovie-"+e).bind("mouseout",function(){"thumbmovie-2"!=$(this).attr("id")&&$(this.lastChild).css("border","0px solid white")}),$("#thumbmovie-"+e).bind("click",function(){var e=$(this).attr("id").split("-"),e=parseInt(e[1]);f.iIndexThumbail=e,L=this.innerText,f.sendKey(KEY_ENTER)})}function j(e){n.lostFocus();var e=e.getSelectedItem(),t=$(e).attr("movieName"),i="",i=55<(t="null"==t?"":t).length?t.substring(0,52)+"...":t;$(e+" span").html(i)}function G(e){n.lostFocus(),clearTimeout(v),v=null;var e=e.getSelectedItem(),t=$(e).attr("movieName"),i="",i=50<(t="null"==t?"":t).length?t.substring(0,47)+"...":t;$(e+" span").html(i)}function z(){var e={data:{is_include_content:1,type_id:gPlayParam.type_id},show_loading:!0};ApiPost("playlist/list",e,function(e){0!=e.result&&showTooltip({desc:"Lấy danh sách Playlist thất bại",is_top:!0}),E=k.PLAYLIST;var t=e.data,i=(f.lstPlayList=e.data,t),o="";o=(o=(o+='<div id="li_row_0" vmp-row class="playListRow">')+'<div id="li_row_0_0" vmp-item class="common-btn-dialog" playList_id="add_new" vmp-responsive="font-size, height" ><img class="dialog_playlist_img" src="app-images/upgrate/playlist/dialog_pl_add.png" style="width: 60px; margin-left: -5px;vertical-align:top" vmp-responsive="width">')+'<span style="font-weight: bold;line-height: '+SPA.convertScale(60)+'px">Thêm danh sách mới</span></div></div>';for(var n=0;n<i.length;n++){var a=i[n];a.TYPE_ID==gPlayParam.type_id&&(o=(o=(o+='<div id="li_row_'+(n+1)+'" vmp-row class="playListRow">')+'<div id="li_row_'+(n+1)+"_"+n+'" vmp-item class="common-btn-dialog" playList_id="'+a.ID+'" member_id="'+a.MEMBER_ID+'" type_id="'+a.TYPE_ID+'" type_group="'+a.TYPE_GROUP+'" vmp-responsive="font-size, height" ><img class="dialog_playlist_img" src="app-images/upgrate/playlist/pl_kid.png" vmp-responsive="width">')+"<span>"+a.NAME+"</span></div></div>")}$("#playList_list").html(""),$("#playList_list").html(o),SPA.autoResponsive("#playList_list"),$("#dialog_add_playlist").show(),null==C?C=new clsAnimationView({wrap_obj_id:"playList_list",delay_focus_event:0,VMP:r,onLostFocusRightFn:function(e){},onLostFocusLeftFn:function(e){},onItemClickFn:function(e){var t,e=e.getSelectedItem(),e=$(e).attr("playList_id");"add_new"==e?(t={VMP:r,password:null,title:"Tạo danh sách chọn",mode:"action",keyword:"",onOKFn:function(e){e={data:{name:e,type_id:gPlayParam.type_id,type_group:null},show_loading:!1};ApiPost("playlist/store",e,function(e){$("#dialog_add_playlist").hide(),r.setActive(f.getName()),E=k.CONTROLBAR,f.Play(),0==e.result?q(e.playlist_id):showTooltip({desc:e.message,is_top:!0})},function(e){$("#dialog_add_playlist").hide(),r.setActive(f.getName()),showTooltip({desc:"Có lỗi xảy ra, xin vui lòng thử lại sau",is_top:!0})})},onCancelFn:function(e){f.Play(),r.setActive("playList_list")},onChangeFn:function(e){},onBackFn:function(){f.Play(),r.setActive("playList_list")}},f.Pause(),showKeyboard(t)):q(e)},onItemFocusFn:function(e){e=e.getSelectedItem(),e=$(e).attr("id");$("#"+e).css({background:"#808080",color:"white"}),console.log("focus",e)},onItemLostFocusFn:function(e){var t=e.getSelectedItem(),t=$(t).attr("id");parseInt(e.getTotalRowCount());$("#"+t).css({background:"none",color:"black"}),console.log("lost focus",t)},onBackFn:function(){E=k.CONTROLBAR,$("#dialog_add_playlist").hide(),r.setActive(f.getName()),f.restartTimer()},use_auto_hightlight:!1}):C.reset(),r.setActive("playList_list")},function(e){showTooltip({desc:"Có lỗi xảy ra, vui lòng thử lại",is_top:!0})})}function q(e){!function(e,t){try{for(var i=!1,o=[],n=0;n<f.lstPlayList.length;n++)if(f.lstPlayList[n].ID==e){o=f.lstPlayList[n];break}for(var a=0;a<o.CONTENTS.length;a++)if(o.CONTENTS[a].CONTENT_ID==t){i=!0;break}return i}catch(e){}}(e,gPlayParam.movie_id)?(e={data:{playlist_id:e,content_id:gPlayParam.movie_id,type_id:gPlayParam.type_id,partition:gPlayParam.partition},show_loading:!1},ApiPost("playlist/add-content",e,function(e){$("#dialog_add_playlist").hide(),r.setActive(f.getName()),E=k.CONTROLBAR,e.result,showTooltip({desc:e.message,is_top:!0})},function(e){$("#dialog_add_playlist").hide(),r.setActive(f.getName()),showTooltip({desc:"Có lỗi xảy ra, xin vui lòng thử lại sau",is_top:!0})})):showTooltip({desc:"Bài hát đã tồn tại",is_top:!0})}function W(e){for(var t=-1,i=0;i<r.arrObjList.length;i++)if(r.arrObjList[i].wrapObjId==e){t=i;break}-1<t&&r.arrObjList.splice(t,1)}function Q(){!function t(i){if(null!=x)return void i();{var e,o;o=gPlayParam.is_clip?(e={data:{content_id:gPlayParam.movie_id,ver:1}},"clip/detail-series"):(e={data:{movie_id:gPlayParam.movie_id,ver:1}},"movie/detail-series")}ApiPost(o,e,function(e){try{var t=e.result;null==e.data||""==e.data.partition_list||null==e.data.partition_list?showTooltip({desc:getParam(e.message,"Có lỗi xảy ra, vui lòng thử lại sau")}):null!=e.data.partition_list&&""!=e.data.partition_list&&null!=e.data.partition_list&&0==t?(x=e.data.partition_list,i()):showTooltip({desc:getParam(e.message,"Có lỗi xảy ra, vui lòng thử lại sau")})}catch(e){console.log(e),showTooltip({desc:"Có lỗi xảy ra, vui lòng thử lại sau"})}},function(e){t(i)})}(function(){B=P=6,I=A=0,S=function(){for(var e=1,t=0;t<x.length;t++)if(gPlayParam.partition==x[t].SERIES_PARTITION){e=t+1;break}return Math.ceil(e/B)}(),e=x,(A=parseInt(parseFloat(e.length/P).toFixed(0)))*P<e.length&&A++,M(),N();var e={wrap_obj_id:"list-cp-row",DisableKeyPressTimeout:100,delay_focus_event:0,add_focus_hover:!1,VMP:r,onItemFocusFn:function(e){e=e.getSelectedItem().split(" "),e=e[1]+" "+e[2];$(e).addClass("focused"),"2"==f.ContentTypeID&&($(e+" .partition-name").css("color","black"),$(e).css("background-color","white"))},onItemLostFocusFn:function(e){e=e.getSelectedItem().split(" "),e=e[1]+" "+e[2];$(e).removeClass("focused"),"2"==f.ContentTypeID&&($(e+" .partition-name").css("color","white"),$(e).css("background-color",""))},onLostFocusLeftFn:function(e){1<S&&(--S<A&&(P=6),$("#list-cp-row").hide(),M(),y.init(),$("#list-cp-row_highlight_item").css("padding-right","0"),$("#list-cp-row_highlight_item").css("padding-bottom","0"),y.setFocus(),$("#list-cp-row").show(),N())},onLostFocusRightFn:function(e){S<A&&(++S==A&&(P=x.length-(S-1)*P),$("#list-cp-row").hide(),M(),y.init(),$("#list-cp-row_highlight_item").css("padding-right","0"),$("#list-cp-row_highlight_item").css("padding-bottom","0"),y.setFocus(),$("#list-cp-row").show(),N())},onLostFocusDownFn:function(e){1<A?r.setActive("cp_movePage"):(E=k.CONTROLBAR,$("#dialog_choose_partition").hide(),r.setActive(f.getName()),f.restartTimer())},onItemClickFn:function(e){e=e.getSelectedItem();"1"==$(e).attr("partition_status")&&(V=$(e).attr("partition"),gPlayParam.content_name=gPlayParam.content_root_name+" "+$(e).attr("string_partition"),f.isAutoPlay=!1,f.HandleBack(1,1))},onBackFn:function(){E=k.CONTROLBAR,$("#dialog_choose_partition").hide(),r.setActive(f.getName()),f.restartTimer()}};isLG()&&(e.DisableKeyPressTimeout=300),y?y.init():y=new clsAnimationView(e),console.info(r.arrObjList),y.lostFocus(),$("#list-cp-row_highlight_item").css({"padding-right":"0","padding-bottom":"0",width:"100%"}),y.setSelectedItem(I,0),n.setFocus("player_choose_partition"),r.setActive("list-cp-row"),E=k.CHOOSEPARTITION})}function M(){for(var e=function(){var e=[],t=(S-1)*B,i=0;for(;t<x.length&&(e.push(x[t]),t++,!(P<=++i)););return e}(),t="",i=0;i<e.length;i++){var o=e[i],n=parseInt(o.SERIES_DURATION),a=0,r=function(e){e=Number(e);var t=Math.floor(e%86400/3600),e=Math.floor(e%3600/60),e=0<e?e+"":"00";"00"!=e&&e<10&&(e="0"+e);return(0<t?t+"h":"0h")+e}(n),l=parseInt(o.BREAK_POINT),l=(0!=n&&l<=n&&(a=l/n*100),{});l.keyword=o.SERIES_PARTITION,l.action="select_seri",l.writeAction="1";try{var s=clsLogBehaviorV2.addLogBehaviorParamString(l)}catch(e){console.log(e)}n=0;"1"==getParam(o.SERIES_STATUS,"0")&&(n=1),l=30<getParam(o.SERIES_TITLE,"").length?o.SERIES_TITLE.substring(0,30)+"...":getParam(o.SERIES_TITLE,""),t="2"==f.ContentTypeID?(t+='<div class="cp-row-series" id="row_'+i+'" vmp-row vmp-style="item-gap:25" partition="'+o.SERIES_PARTITION+'" style="height: 115px;">',o.SERIES_PARTITION==gPlayParam.partition?t+='<div id="li_'+(I=i)+'" lwed="1" vmp-item '+s+' class="cp-series-new active" partition_status='+n+' string_partition="'+o.STRING_PARTITION+'" partition="'+o.SERIES_PARTITION+'" vmp-responsive="height, width, line-height, padding-left, padding-right, padding-top, padding-bottom, margin-left, margin-top" style="height: 100px; padding-top: 10px; padding-bottom: 10px; padding-left: 40px; padding-right: 40px; line-height: unset; ">':t+='<div id="li_'+i+'" lwed="0" vmp-item '+s+' class="cp-series-new" partition_status='+n+' string_partition="'+o.STRING_PARTITION+'" partition="'+o.SERIES_PARTITION+'" vmp-responsive="height, width, line-height, padding-left, padding-right, padding-top, padding-bottom, margin-left, margin-top" style="height: 100px; padding-top: 10px; padding-bottom: 10px; padding-left: 40px; padding-right: 40px; line-height: unset; ">',(t=(t=(t+='<div style="display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; height: 75px" vmp-responsive="height"><div style="display: inline-block; width: 60%; line-height: 38px;"  vmp-responsive="line-height">')+'<div style="color: #EC7A0A; font-size: 22px;" vmp-responsive="font-size">'+getParam(o.STRING_PARTITION,"Tập "+o.SERIES_PARTITION)+'<span style="color: #7A7A7A;">/ '+r+'</span></div><div class="partition-name" style="font-size: 24px; color: white; font-weight: bold; height: 38px; line-height: 38px; overflow: hidden;" vmp-responsive="font-size, height, line-height">'+l+'</div></div><div style="display: inline-block; width: 40%; line-height: 38px; text-align: right; " vmp-responsive="font-size, line-height">')+'<div style="color: #7A7A7A; font-size: 22px;" vmp-responsive="font-size"> Ngày phát hành: </div><div style="font-size: 22px; height: 38px; overflow: hidden;" vmp-responsive="font-size">'+getParam(o.PUBLISH_DATE,"--/--/----")+'</div></div></div><div class="cp-line" style="width: 100%; line-height: unset; display: block; margin-top: 5px; margin-left: 0px;" vmp-responsive="margin-top">')+'<div style="width: '+a+'%; height:100%; background: red; border-radius: 4px"></div></div></div></div>'):(t+='<div class="cp-row-series" id="row_'+i+'" vmp-row vmp-style="item-gap:25" partition="'+o.SERIES_PARTITION+'" string_partition="'+o.STRING_PARTITION+'" vmp-responsive="width">',o.SERIES_PARTITION==gPlayParam.partition?t+='<div id="li_'+(I=i)+'" lwed="1" vmp-item '+s+' class="cp-series-new active" partition_status="1" partition="'+o.SERIES_PARTITION+'" string_partition="'+o.STRING_PARTITION+'" vmp-responsive="height, width, line-height" style="">':t+='<div id="li_'+i+'" lwed="0" vmp-item '+s+' class="cp-series-new" partition_status="1" partition="'+o.SERIES_PARTITION+'" string_partition="'+o.STRING_PARTITION+'" vmp-responsive="height, width, line-height" style="">',(t=(t+='<div class="cp-left" vmp-responsive="font-size">'+getParam(o.STRING_PARTITION,"Tập "+o.SERIES_PARTITION)+"</div>")+'<div class="cp-line"><div style="width: '+a+'%; height:100%; background: red; border-radius: 4px"></div>')+'</div><div class="cp-right" vmp-responsive="font-size">'+r+"</div></div></div>")}$("#list-cp-row").html(t);var c=SPA.convertScale(599),c=parseInt(c*SPA.convertScale(1.91)/SPA.convertScale(35));c=gPlayParam.content_root_name.length>c?gPlayParam.content_root_name.substring(0,c-3)+"...":gPlayParam.content_root_name,$("#dialog_choose_partition #cp_name").html(c),SPA.autoResponsive("#dialog_choose_partition",0),$("#dialog_choose_partition").show()}function N(){var e,t={wrap_obj_id:"cp_movePage",display_type:"horizontal",VMP:r,onItemFocusFn:function(e){e=e.getCurrentItem().itemId;"cp_movePage-next"==e?$("#cp_movePage-next img").attr("src","app-images/upgrate/next_icon_focus.png"):"cp_movePage-previous"==e&&$("#cp_movePage-previous img").attr("src","app-images/upgrate/pre_icon_focus.png")},onLostFocusDownFn:function(e){E=k.CONTROLBAR,$("#dialog_choose_partition").hide(),r.setActive(f.getName()),f.restartTimer()},onItemLostFocusFn:function(e){e=e.getCurrentItem().itemId;"cp_movePage-next"==e?$("#cp_movePage-next img").attr("src","app-images/upgrate/next_icon.png"):"cp_movePage-previous"==e&&$("#cp_movePage-previous img").attr("src","app-images/upgrate/pre_icon.png")},onItemClickFn:function(e){e=e.getCurrentItem().itemId;"cp_movePage-next"==e?S<A&&(++S==A&&(P=x.length-(S-1)*P),$("#list-cp-row").hide(),M(),y.init(),$("#list-cp-row_highlight_item").css("padding-right","0"),$("#list-cp-row_highlight_item").css("padding-bottom","0"),y.setSelectedItem(P-1,0),y.lostFocus(),y.onLostFocusDownFn&&y.onLostFocusDownFn(),$("#list-cp-row").show(),N(),2==S&&2<A&&(w.currentIndex=1,w.currentMouseIndex=1),w.setFocus()):"cp_movePage-previous"==e&&1<S&&(--S<A&&(P=6),$("#list-cp-row").hide(),M(),y.init(),$("#list-cp-row_highlight_item").css("padding-right","0"),$("#list-cp-row_highlight_item").css("padding-bottom","0"),y.setSelectedItem(P-1,0),y.lostFocus(),y.onLostFocusDownFn&&y.onLostFocusDownFn(),$("#list-cp-row").show(),N(),w.setFocus())},onLostFocusUpFn:function(e){r.setActive("list-cp-row")},onBackFn:function(){E=k.CONTROLBAR,$("#dialog_choose_partition").hide(),r.setActive(f.getName()),f.restartTimer()}};A<=1?($("#cp_movePage-previous").removeAttr("vmp-item").removeClass("focused2").css("opacity",0).off(),$("#cp_movePage-next").removeAttr("vmp-item").removeClass("focused2").css("opacity",0).off()):(e=2,e=1==S?($("#cp_movePage-previous").removeAttr("vmp-item").removeClass("focused2").css({display:"inline-block",opacity:"0.4"}).off(),$("#cp_movePage-next").attr("vmp-item","").removeClass("focused2").css({display:"inline-block",opacity:"1"}),1):S==A?($("#cp_movePage-next").removeAttr("vmp-item").removeClass("focused2").css({display:"inline-block",opacity:"0.5"}).off(),$("#cp_movePage-previous").attr("vmp-item","").removeClass("focused2").css({display:"inline-block",opacity:"1"}),1):($("#cp_movePage-previous").attr("vmp-item","").css({display:"inline-block",opacity:"1"}).removeClass("focused2"),$("#cp_movePage-next").attr("vmp-item","").css({display:"inline-block",opacity:"1"}).removeClass("focused2"),2),w?(1==e&&(w.currentIndex=0,w.currentMouseIndex=0),w.init()):w=new clsFormView(t))}this.is_like=getParam(gPlayParam.is_like,-1),this.is_mylist=getParam(gPlayParam.is_mylist,0),this.buildPlayerHTML=function(e){_=g_currentProfileType==GProfileType.MYTV?((t=JSON.parse(JSON.stringify(T))).unshift({name:"add_playList",text_name:"Thêm vào danh sách",img:"",img1:"app-images/profile/player/add_to_list.png",img2:"app-images/profile/player/remove_outof_list.png",isEnable:!0,position:100}),"height: "+SPA.convertScale(220)+"px"):(t=T,"height: "+SPA.convertScale(350)+"px");var t,i=!1;""!=getParam(gPlayParam.ad_data,"")&&(""!=getParam(gPlayParam.ad_data.ad_info,"")&&t.push({name:"player_rm_ad",isEnable:!0,position:1100}),i=!0),""==getParam(gPlayParam.subtitle,"")&&"1"!=gPlayParam.isMultiAudio||gConfig.getDeviceType()==DEVICE_TYPE.LG2015||gAppReview||i&&t.push({name:"multisub",text_name:"multisub/audio",isEnable:!0,position:i?1300:1100});for(var o=0;o<e.length;o++)for(var n=e[o],a=0;a<t.length;a++)t[a].name==n&&(t[a].isEnable=!1);for(var r=0,l=0;l<t.length;l++)if("player_play"==t[l].name){r=l;break}for(var s=r-1;0<=s;s--)0==t[s].isEnable?t[s].position=t[s+1].position:t[s].position=t[s+1].position-200;for(var c=r+1;c<t.length;c++)0==t[c].isEnable?t[c].position=t[c-1].position:t[c].position=t[c-1].position+200;var u='<div class="player" id="media_player" style="display: none;"><div id="timeshift-bar" class="timeshift-thumb" style="display: none;"></div><div id="relate-movie-bar" class="relatemovie-thumb" style="display:none;" vmp-responsive="height,width"></div><div class="controls-bar" style="width:90%;'+_+'">\x3c!-- <div id="player_prev" class="player-nav" style="float:left;display: none;" vmp-responsive="width, margin-top, font-size"><div id="player_prev_img" vmp-item style="float: left; width: 25%; height: 100%"><img id="pre_img" src="" onerror="showDefaultImage(this,1);" style="width: 100%; border: 7px solid rgba(0,0,0,0); margin-right: -14px" /></div><div class="player-nav-title-r" style="" vmp-responsive="margin-right"><div>TRƯỚC ĐÓ</div><div id="pre_title">Đấu phá thương khung - Tập 3</div></div></div><div id="player_next" class="player-nav" style="float:right;display: none;" vmp-responsive="width, margin-top, font-size"><div id="player_next_img" vmp-item style="float: right; width: 25%; height: 100%"><img vmp-item id="next_img" src="" onerror="showDefaultImage(this,1);" style="width: 100%; border: 7px solid rgba(0,0,0,0); margin-left: -14px" /></div><div class="player-nav-title-l" style="" vmp-responsive="margin-left"><div>KẾ TIẾP</div><div id="next_title">Đấu phá thương khung - Tập 3</div></div></div> --\x3e<div class="player-control"><div class="mplayer-timer" style="position:absolute;top:-45px;left:0px;font-size:32px;"><span id="media_player_current"></span></div><div class="player-bar-channel"></div><div class="player-bar-channel" id="player-bar-timeshift" style="z-index: 2; background: rgba(0,0,0,0);"></div><div class="mplayer-timer" style="position:absolute;top:-45px;right:0px;font-size:32px;"><span id="media_player_duration"></span></div><div class="player-bar-channel-active" style="width: 1%;" id="player_bar_active"><img src="app-images/player-circle-btn.png" class="circle-btn-player"></div><div class="btn-player-bar"></div></div><div class="btn-player-wrap" style="top:30%;" vmp-responsive="width, font-size"><div id="player_controlbar" vmp-highlight="class:player_highlight_item;">',p="buttonDesc";g_currentProfileType==GProfileType.KID&&(p="buttonDesc kid_font");for(var m,d,g,h=0;h<t.length;h++)0!=t[h].isEnable&&("add_playList"==t[h].name?(d={action:"add_to_playlist",writeAction:"1"},u+='<div id="add_playList" class="btn-player" '+clsLogBehaviorV2.addLogBehaviorParamString(d)+' vmp-style="top:0;left:'+t[h].position+';" vmp-item><div style="width: 70%; height: 70%; position: absolute; margin: auto; top: -5px; left: -12px; right: 0; bottom: 0;"><img style="width: '+SPA.convertScale(45)+'px" src="app-images/upgrate/playlist/pl_addplaylist.png"></div>',g_currentProfileType==GProfileType.KID&&(u+='<span class="'+p+'" style=""><img style="width: '+SPA.convertScale(45)+'px" src="app-images/profile/player/arrow.png"><br><a>Thêm vào danh sách</a></span>'),u+="</div>"):"player_timeshift"==t[h].name?(u+='<div id="player_timeshift" class="btn-player" vmp-style="top:0;left:'+t[h].position+';" vmp-item><div class="glyphicon glyphicon-tvod"style="width: 70%; height: 70%; position: absolute; margin: auto; top: 5px; left: -5px; right: 0; bottom: 0;"></div>',g_currentProfileType==GProfileType.KID&&(u+='<span class="'+p+'" style=""><img style="width: '+SPA.convertScale(45)+'px" src="app-images/profile/player/arrow.png"><br><a>'+t[h].text_name+"</a></span>"),u+="</div>"):"player_choose_partition"==t[h].name?(u+='<div id="player_choose_partition" class="btn-player" vmp-style="top:0;left:'+t[h].position+';" vmp-item><div style="width: 70%; height: 70%; position: absolute; margin: auto; top: -10px; left: -5px; right: 0; bottom: 0;"><img style="width: '+SPA.convertScale(45)+'px" src="app-images/upgrate/cp_series.png"></div>',g_currentProfileType==GProfileType.KID&&(u+='<span class="'+p+'" style=""><img style="width: '+SPA.convertScale(45)+'px" src="app-images/profile/player/arrow.png"><br><a>'+t[h].text_name+"</a></span>"),u+="</div>"):"player_play"==t[h].name?((d={action:"pause"}).contentId=getParam(gPlayParam.movie_id,getParam(gPlayParam.content_id,"")),d.typeId=getParam(f.ContentTypeID,""),d.writeAction="1",u+='<div id="player_play" class="btn-player" '+clsLogBehaviorV2.addLogBehaviorParamString(d)+' vmp-style="top:0;left:'+t[h].position+';" vmp-item vmp-selected><div id="glyphicon-play-movie" class="glyphicon glyphicon-play"style="width: 70%; height: 70%; position: absolute; margin: auto; top: 0; left: 0; right: 0; bottom: 0;"></div>',g_currentProfileType==GProfileType.KID&&(u+='<span class="'+p+'" style=""><img style="width: '+SPA.convertScale(45)+'px" src="app-images/profile/player/arrow.png"><br><a>'+t[h].text_name+"</a></span>"),u+="</div>"):"player_favorite_kid"==t[h].name?(g=t[h].img1,m=t[h].text_name,1==f.is_like&&(g=t[h].img2,m=t[h].text_name_remove),(d={action:"thumb_up"}).contentId=getParam(gPlayParam.movie_id,getParam(gPlayParam.content_id,"")),d.typeId=getParam(f.ContentTypeID,""),d.writeAction="1",u+='<div id="player_favorite_kid" class="btn-player" '+clsLogBehaviorV2.addLogBehaviorParamString(d)+' vmp-style="top:0;left:'+t[h].position+';" vmp-item><div style="width: 70%; height: 70%; position: absolute; margin: auto; top: -10px; left: -5px; right: 0; bottom: 0;"><img style="width: '+SPA.convertScale(45)+'px" src="'+g+'"></div><span class="'+p+'" style=""><img style="width: '+SPA.convertScale(45)+'px" src="app-images/profile/player/arrow.png"><br><a>'+m+"</a></span></div>"):"player_favorite"==t[h].name?u+='<div id="player_favorite" class="btn-player" vmp-style="top:0;left:'+t[h].position+';" vmp-item><div id="glyphicon-favorite-movie" class="glyphicon glyphicon-favorite-deactive"style="width: 70%; height: 70%; position: absolute; margin: auto; top: 5px; left: -5px; right: 0; bottom: 0;"></div></div>':"player_recommand"==t[h].name?(u+='<div id="player_recommand" class="btn-player" vmp-style="top:0;left:'+t[h].position+';" vmp-item><div id="glyphicon-relate-movie" class="glyphicon glyphicon-th-list"style="height: 70%; position: absolute; margin: auto; top: 0px; left: 0; right: 0; bottom: 0;"></div>',g_currentProfileType==GProfileType.KID&&(u+='<span class="'+p+'" style=""><img style="width: '+SPA.convertScale(45)+'px" src="app-images/profile/player/arrow.png"><br><a>'+t[h].text_name+"</a></span>"),u+="</div>"):"player_rm_ad"==t[h].name?((d={action:"remove_ads"}).contentId=getParam(gPlayParam.movie_id,getParam(gPlayParam.content_id,"")),d.typeId=getParam(f.ContentTypeID,""),d.writeAction="1",u+='<div id="player_rm_ad" class="btn-player" '+clsLogBehaviorV2.addLogBehaviorParamString(d)+' vmp-style="top:0;left:'+t[h].position+';" vmp-item style="position: absolute; width: 54px; height: 54px; z-index: 1; line-height: 1.5; text-align: center; font-size: '+SPA.convertScale(32)+'px; "><div style="width: 70%; height: 70%; position: absolute; margin: auto; top: -10px; left: -5px; right: 0; bottom: 0;"><img style="width: '+SPA.convertScale(45)+'px" src="'+ModuleManager.getTemplatePath()+'v2/images/interactive_tv/cp_off_adv.png"></div>',g_currentProfileType==GProfileType.KID&&(u+='<span class="'+p+'" style=""><img style="width: '+SPA.convertScale(45)+'px" src="app-images/profile/player/arrow.png"><br><a>Bỏ quảng cáo</a></span>'),u+="</div>"):"player_unfavorite"==t[h].name?(g=t[h].img1,m=t[h].text_name,0==f.is_like&&(g=t[h].img2,m=t[h].text_name_remove),(d={action:"thumb_down"}).contentId=getParam(gPlayParam.movie_id,getParam(gPlayParam.content_id,"")),d.typeId=getParam(f.ContentTypeID,""),d.writeAction="1",u+='<div id="player_unfavorite" class="btn-player" '+clsLogBehaviorV2.addLogBehaviorParamString(d)+' vmp-style="top:0;left:'+t[h].position+';" vmp-item><div style="width: 70%; height: 70%; position: absolute; margin: auto; top: -10px; left: -5px; right: 0; bottom: 0;"><img style="width: '+SPA.convertScale(45)+'px" src="'+g+'"></div>',g_currentProfileType==GProfileType.KID&&(u+='<span class="'+p+'" style=""><img style="width: '+SPA.convertScale(45)+'px" src="app-images/profile/player/arrow.png"><br><a>'+m+"</a></span>"),u+="</div>"):"add_myList"==t[h].name?((d={action:"add_to_my_list"}).contentId=getParam(gPlayParam.movie_id,getParam(gPlayParam.content_id,"")),d.typeId=getParam(f.ContentTypeID,""),d.writeAction="1",g=t[h].img1,1==f.is_mylist&&(g=t[h].img2,d.action="remove_from_list"),u+='<div id="add_myList" class="btn-player" '+clsLogBehaviorV2.addLogBehaviorParamString(d)+' vmp-style="top:0;left:'+t[h].position+';" vmp-item><div style="width: 70%; height: 70%; position: absolute; margin: auto; top: -10px; left: -5px; right: 0; bottom: 0;"><img style="width: '+SPA.convertScale(45)+'px" src="'+g+'"></div>',g_currentProfileType==GProfileType.KID&&(u+='<span class="'+p+'" style="bottom: -'+SPA.convertScale(80)+'px"><img style="width: '+SPA.convertScale(45)+'px" src="app-images/profile/player/arrow.png"><br><a>'+t[h].text_name+"</a></span>"),u+="</div>"):"multisub"==t[h].name&&(u+='<div id="multisub" class="btn-player" vmp-style="top:0;left:'+t[h].position+';" vmp-item style="position: absolute; width: '+SPA.convertScale(54)+"px; height: "+SPA.convertScale(54)+"px; z-index: 1; line-height: 1.5; text-align: center; font-size: "+SPA.convertScale(32)+'px;"><div id="multisub_img_wr" style="width: 70%; height: 70%; position: absolute; margin: auto; top: -10px; left: -5px; right: 0; bottom: 0;"><img style="width: '+SPA.convertScale(45)+'px" src="'+ModuleManager.getTemplatePath()+'v2/images/other/Subtract.png"></div>',g_currentProfileType==GProfileType.KID&&(u+='<span class="'+p+'" style="bottom: -'+SPA.convertScale(80)+'px"><img style="width: '+SPA.convertScale(45)+'px" src="app-images/profile/player/arrow.png"><br><a>'+t[h].text_name+"</a></span>"),u+="</div>"));u+="</div></div></div></div>";var _,i="margin-right: "+SPA.convertScale(19)+"px;height: "+SPA.convertScale(34)+"px;font-size: "+SPA.convertScale(28)+"px;padding: "+SPA.convertScale(10)+"px  "+SPA.convertScale(15)+"px;",i=(_="2"==f.ContentTypeID?'<div id="dialog_choose_partition" class="dialog_choose_partition" style="width:'+SPA.convertScale(710)+"px; height: "+SPA.convertScale(850)+'px; background:#1c1c1c; top: 0%; z-index: 8;"><div class="cp_name" style="height: '+SPA.convertScale(70)+"px; line-height: "+SPA.convertScale(70)+"px; font-size: "+SPA.convertScale(35)+'px"><a id="cp_name"></a></div><div id="list-cp-row" class="" vmp-style="visible-row:6;column:1;selected:focused" vmp-highlight="left: 15; top: 15"></div><div style="width: 100%; margin-top: 2%;" ><div style="text-align: center;" id="cp_movePage" vmp-style="selected:focused2" vmp-responsive="margin-left"><span id="cp_movePage-previous" class="btn-detail series-page" style="'+i+'"  vmp-item="" vmp-focus="right:movePage-next;" index="0"><img src="app-images/upgrate/pre_icon.png" > Trang trước</span><span id="cp_movePage-next" class="btn-detail series-page" style="'+i+'" vmp-item="" vmp-focus="left:movePage-previous;" index="0">Trang sau <img src="app-images/upgrate/next_icon.png" ></span></div></div></div>':'<div id="dialog_choose_partition" class="dialog_choose_partition" style="width:'+SPA.convertScale(630)+"px; height: "+SPA.convertScale(550)+'px; background:#1c1c1c"><div class="cp_name" style="height: '+SPA.convertScale(70)+"px; line-height: "+SPA.convertScale(70)+"px; font-size: "+SPA.convertScale(35)+'px"><a id="cp_name"></a></div><div id="list-cp-row" class="" vmp-style="visible-row:6;column:1;selected:focused" vmp-highlight="left: 15; top: 15"></div><div style="width: 100%; margin-top: 2%;" ><div style="text-align: center;" id="cp_movePage" vmp-style="selected:focused2" vmp-responsive="margin-left"><span id="cp_movePage-previous" class="btn-detail series-page" style="'+i+'"  vmp-item="" vmp-focus="right:movePage-next;" index="0"><img src="app-images/upgrate/pre_icon.png" > Trang trước</span><span id="cp_movePage-next" class="btn-detail series-page" style="'+i+'" vmp-item="" vmp-focus="left:movePage-previous;" index="0">Trang sau <img src="app-images/upgrate/next_icon.png" ></span></div></div></div>',"23%"),i='<style id="dialog_choose_partition_style" type="text/css">.dialog_choose_partition .cp-left {width: 20%}.dialog_choose_partition .cp-line {width: 43%}.dialog_choose_partition {top: '+(i=g_currentProfileType==GProfileType.KID?"10%":i)+"}</style>",v='<div id="dialog_add_playlist" class="dialog_add_playlist" vmp-responsive="width; height"><div id="playList_list" class="playList_list" vmp-style="column:1;visible-row:8;"></div></div></div>';$("body #media_player").length&&$("body #media_player").remove(),$("body").append(u),$("body #dialog_choose_partition").length&&($("body #dialog_choose_partition").remove(),$("body #dialog_choose_partition_style").remove()),$("body").append(_),$("body").append(i),$("body #dialog_add_playlist").length&&$("body #dialog_add_playlist").remove(),$("body").append(v),f.setTransfromButtonDesc(),f.addUIMulti()},this.addUIMulti=function(){var e="";if(e=(e=(e=(e=(e=(e=(e=(e=e+'<style id="multiWrapperStyle">'+".multiWrapper{display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; position: absolute; bottom: 27%; right: 3%; background: rgba(45, 45, 45, .9); margin: 0 auto;  padding: 0 0 0.8em; color: white; border-radius: 10px; z-index: 9; border: 2px rgba(255, 255, 255, .25) solid; }")+".row-focus{background-color: #6A6B6B !important; color: white;}"+".dialogTitle{padding-left: 80px; color: #858585; margin-bottom: 10px; margin-top: 45px; font-weight: 700; z-index: 5}")+".itemCenter{flex-direction: row; display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; align-items: center;}"+".dialogChooseSubtitle{min-width: 308px; font-size: 28px; font-weight: 400; overflow: hidden}")+(".subtitleItem{height: "+SPA.convertScale(62)+"px; text-align: center; white-space: nowrap;}"))+".active .checkIcon{opacity: 1}"+".seperator{ background-color: #5E6266; width: 3px; height: auto; margin-top: 35px;}")+(".subTextWrapper{margin-right: "+SPA.convertScale(65)+"px; margin-left: 30px;}"))+('.checkIcon{  background-image: url("'+ModuleManager.getTemplatePath()+'v2/images/other/subtitle_check.png"); height: 26px;  width: 35px; margin-right: 15px; opacity: 0;}'))+"@media only screen and (max-width:1280px){ #multisub_img_wr{top: 10px !important; left: 7px !important;}"+"</style>",$("#multiWrapperStyle").length||$("#vmp-content").append(e),$("body #multiWrapper").length||$("body").append('<div id="multiWrapper" class="multiWrapper" style="display: none"></div>'),$("#multiWrapper").html(""),str='<div id="dialogChooseSubtitleWr">',str=(str+='<div class="dialogTitle" vmp-responsive="height, width, line-height, font-size">PHỤ ĐỀ</div>')+'<div class="dialogChooseSubtitleWrapper">'+'<div id="dialogChooseSubtitle" class="dialogChooseSubtitle" vmp-style="visible-row:7;column:1;selected:focused;auto-hover:false">',gPlayParam.subtitle){for(var t=0;t<gPlayParam.subtitle.length;t++)str=(str=str+'<div class="subtitleItem" id="row_'+t+'" vmp-row vmp-responsive="font-size" style="height: 62px"><div id="li_'+t+'" subtitle-id="'+t+'" vmp-item class="subtitleItem itemCenter" vmp-responsive="font-size">')+'<div class="subTextWrapper itemCenter"><div class="checkIcon"></div>'+getParam(gPlayParam.subtitle[t].lang_label,"")+"</div></div></div>";str=(str=(str+='<div class="subtitleItem active" id="row_'+(gPlayParam.subtitle.length+1)+'" vmp-row vmp-responsive="font-size" style="height: 62px">')+('<div id="li_'+(gPlayParam.subtitle.length+1)+'" subtitle-id="-1" vmp-item class="subtitleItem itemCenter" vmp-responsive="font-size">'))+'<div class="subTextWrapper itemCenter"><div class="checkIcon"></div> Tắt </div></div>'+"</div>"}str+='</div></div></div><div class="seperator"></div><div id="dialogChooseAudioWr"><div class="dialogTitle itemCenter">ÂM THANH</div><div id="dialogChooseAudio" class="dialogChooseSubtitle" vmp-style="visible-row:7;column:1;selected:focused;auto-hover:false"></div></div>',$("#multiWrapper").html(str),$("#dialogChooseAudioWr").hide(),$("#dialogChooseSubtitleWr").hide()},this.createMultiAudio=function(e){try{if(e&&0<e.length){for(var t="",i=0;i<e.length;i++)t=(t=(t+=0==i?'<div class="subtitleItem active" id="row_'+i+'" vmp-row vmp-responsive="height, width, line-height, font-size" style="height: 62px">':'<div class="subtitleItem" id="row_'+i+'" vmp-row vmp-responsive="height, width, line-height, font-size" style="height: 62px">')+'<div id="li_'+i+'" audio-id="'+e[i].id+'" vmp-item class="subtitleItem itemCenter" vmp-responsive="height, width, line-height, font-size">')+'<div class="subTextWrapper itemCenter"><div class="checkIcon"></div>'+getParam(e[i].label,"")+"</div></div></div>";$("#dialogChooseAudio").html(t),$("#dialogChooseAudioWr").show(),o={wrap_obj_id:"dialogChooseAudio",display_type:"vertical",use_auto_hightlight:!1,add_focus_hover:!1,delay_focus_event:0,VMP:r,onLostFocusLeftFn:function(){f.ObjDialogChooseSubtitle&&r.setActive("dialogChooseSubtitle")},onLostFocusRightFn:function(){},onItemClickFn:function(e){console.log("handle change subtitles",e);var e=e.getSelectedItem(),t=$(e).attr("audio-id");a.changeAudio(t),$("#dialogChooseAudio .active").removeClass("active"),$(e).addClass("active")},onItemFocusFn:function(e){e=e.getSelectedItem();$(e).addClass("row-focus")},onItemLostFocusFn:function(e){e=e.getSelectedItem();$(e).removeClass("row-focus")},onBackFn:function(){f.hideDialogChooseMulti()}},f.ObjDialogChooseAudio=new clsAnimationView(o)}}catch(e){console.log(e)}var o},this.clearMultiInfo=function(){gPlayParam.isMultiAudio=0,gPlayParam.subtitle=null,$("#dialogChooseAudioWr").hide(),$("#dialogChooseSubtitleWr").hide()},this.setParam=function(e){if(window.isSendLogPlayer=0,r=e.VMP,f.param=e,f.url=e.url,gIsPlayerPlaying=!1,f.showControlBar=e.showControlBar,f.divID=getParam(e.divID,"videoContainer"),f.movie_title=getParam(e.movie_title,""),f.onLostFocusDownFn=e.onLostFocusDownFn,f.onLostFocusUpFn=e.onLostFocusUpFn,f.onLostFocusRightFn=e.onLostFocusRightFn,f.onLostFocusLeftFn=e.onLostFocusLeftFn,f.onAddFavoriteFn=e.onAddFavoriteFn,f.onRemoveFavoriteFn=e.onRemoveFavoriteFn,f.onCallBackURLFn=e.onCallBackURLFn,f.onBackFn=e.onBackFn,f.onBackComplete=e.onBackComplete,f.onBackWardfn=e.onBackWardfn,f.onChoosePartition=e.onChoosePartition,f.onErrorFn=e.onErrorFn,f.convertTime=e.convertTime,f.breakpoint=getParam(e.breakpoint,0),f.showBreakpoint=!0,f.bTimeShiftBar=getParam(e.bTimeShiftBar,!1),f.bTimeShiftBar&&(f.thumbnailUrl=getParam(e.thumbnailUrl,"")),w=y=C=null,W("list-cp-row"),W("cp_movePage"),f.is_home_trailer=getParam(e.is_home_trailer,0),f.is_poster_trailer=getParam(e.is_poster_trailer,0),f.is_home_preview=getParam(e.is_home_preview,0),f.poster_trailer_timebegin=getParam(e.poster_trailer_timebegin,0),f.poster_trailer_timeplay=getParam(e.poster_trailer_timeplay,0),R=getParam(e.isBackupDuration,!1),o=getParam(e.isTrailer,!1),f.iLevelSeek=10/60,o&&(f.iLevelSeek=10/60),f.iNumSecSpace=60*f.iLevelSeek,f.iNumItemShiftBar=getParam(e.num_item_shift,5),f.iTimeShiftStart=getParam(e.time_shift_start,0),f.iTimeShiftEnd=getParam(e.time_shift_end,0),f.iTimeSeek=f.iNumSecSpace,f.favorite=getParam(e.favorite),f.bShowFavorite=getParam(e.bShowFavorite,!0),f.ContentTypeID=getParam(e.content_type_id,0),f.bShowLevelSeek=getParam(e.bShowLevelSeek,!1),f.iIndexThumbail=Math.floor(f.iNumItemShiftBar/2),f.flagConfirmBreakPoint=!1,f.timeSeek=0,f.customData=getParam(e.customData,""),f.licenseServer=getParam(e.licenseServer,""),f.drmProvider=getParam(e.drmProvider,1),f.deviceId=getParam(e.deviceId,""),f.qnet_token=getParam(e.qnet_token,""),f.qnet_operatorid=getParam(e.qnet_operatorid,""),f.qnet_session=getParam(e.qnet_session,""),f.bShowAdvertise=getParam(e.showAdvertise,!1),f.timerAdvertise=null,f.secTimeAdvertise=getParam(e.secTimeAdvertise,0),f.bCloseAdvertise=!1,f.playListAdvertise=getParam(e.playListAdvertise,[]),(f.ctrlDispTimer=null)!=n&&n.setActiveIndex(1),f.iPlayer=getParam(e.iPlayer,gPlayer.WJPLAYER),f.link_to_cdn=getParam(e.link_to_cdn,""),f.profile4K=1==getParam(e.profile4K,"")?"4k":"",f.isLiveStream=getParam(e.isLiveStream,!1),r.getObjById(f.getName())||r.register(f),f.bRelateMovie=getParam(e.bRelateMovie,!1),f.bNextPrev=getParam(e.bNextPrev,!0),E=k.PLAYER,D=null,f.secTimeUpdate=0,f.secTimeUpdateZero=0,f.is_like=getParam(gPlayParam.is_like,-1),f.is_mylist=getParam(gPlayParam.is_mylist,0),f.IsAddPlaylist=getParam(gPlayParam.is_addplaylist,0),f.autoLockKeyboard=getParam(e.autoLockKeyboard,!0),f.bDelayUnlockKeyTime=getParam(e.bDelayUnlockKeyTime,3e3),f.isRegisterMouseEvent=getParam(e.isRegisterMouseEvent,!0),f.loop_trailer=getParam(e.loop_trailer,null),f.setShowRecommendationOnFinish(),f.isAdsExitApp=getParam(e.isAdsExitApp,0),null!=getParam(e.ad_data,null)&&(gPlayParam.ad_data=e.ad_data),gPlayParam.poster=getParam(e.poster,null),f.ObjDialogChooseSubtitle=null,f.logoConfigList=getParam(e.logo_config,[]),isSS())try{var t=webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_OFF;webapis.appcommon.setScreenSaver(t,function(){},function(){})}catch(e){console.log(e)}setTimeout(function(){f.sendLogDurationLocal()},2e3),f.is_startup_ads=getParam(e.is_startup_ads,0),"1"==f.is_startup_ads&&r.setActive(f.getName())},this.setShowRecommendationOnFinish=function(){_=(1==gPlayParam.is_clip?(g=d.before,h=d.show,d):1==gPlayParam.isSingle?(g=p.before,h=p.show,p):(g=m.before,h=m.show,m)).Nbreakpoint},this.show=function(){1!=f.is_home_trailer&&1!=f.is_poster_trailer&&hideAnimationOne();var e=[];if(0==f.IsAddPlaylist?($("#add_playList img").attr("src","app-images/upgrate/playlist/pl_addplaylist_inactive.png"),e.push("add_playList")):$("#add_playList img").attr("src","app-images/upgrate/playlist/pl_addplaylist.png"),gPlayParam.isSingle?($("#player_choose_partition img").attr("src","app-images/upgrate/cp_series_inactive.png"),e.push("player_choose_partition")):$("#player_choose_partition img").attr("src","app-images/upgrate/cp_series.png"),f.bShowFavorite?($("#glyphicon-favorite-movie").removeClass("disable-mode"),0===f.favorite?$("#glyphicon-favorite-movie").addClass("glyphicon-favorite-deactive").removeClass("glyphicon-favorite-active"):$("#glyphicon-favorite-movie").addClass("glyphicon-favorite-active").removeClass("glyphicon-favorite-deactive")):($("#glyphicon-favorite-movie").addClass("glyphicon-favorite-active").addClass("disable-mode"),e.push("player_favorite")),f.bRelateMovie?$("#glyphicon-relate-movie").removeClass("disable-mode"):($("#glyphicon-relate-movie").addClass("disable-mode"),e.push("player_recommand")),n=void 0,this.init(e),f.initVideoEvent(f.url),ModuleManager.loadFile("clsLogBehavior",function(){clsLogBehavior.setTypeId(gPlayParam.type_id)},null,!0),$("#media_player_current").html("00:00"),$("#media_player_duration").html("00:00"),$("#player_bar_active").css({width:"1%"}),$("#movie_title").html(f.movie_title),this.duration=0,this.seekTime=0,this.seeking=!1,this.setCurrentTime(0),this.bEnable=!1,gDurationStart=(new Date).getTime(),r.setRemotePosition("top"),D=null,f.bTimeShiftBar){f.status="timeshift";var e=F();if($("#timeshift-bar").html(e),1==use_keyboard)for(var t=0;t<f.iNumItemShiftBar;t++)$("#thumbmovie-"+t+" .thumb-time").prepend('<div class="zoom-icon"></div>'),$("#thumbmovie-"+t).bind("mouseover",function(){$(this).addClass("featured-thumbnail")}),$("#thumbmovie-"+t).bind("mouseout",function(){$(this).removeClass("featured-thumbnail")}),$("#thumbmovie-"+t).bind("click",function(){var e=$(this).attr("id").split("-"),e=parseInt(e[1]);f.iIndexThumbail=e,f.sendKey(KEY_ENTER)});else f.iIndexThumbail=Math.floor(f.iNumItemShiftBar/2)}$("#timeshift-bar").hide(),f.bRelateMovie?(e=function(e){var t={keyword:"related",action:"poster",writeAction:"1"},i="";{if(getParam(gPlayParam.is_clip,!1)){o='<div id="movie_main_content_player" class="movie_main_content" vmp-style="top-gap:100;visible-row:2;" vmp-responsive="padding-top, width" style="width:1920px;position:static;top:0;padding-top:0px;color:white;">';o+='<div vmp-highlight="delta-x:-3;delta-y:-3;border-radius:14;" id="movie_main_content_player_row" class="movie_item_row_movie" vmp-row vmp-style="left-gap:55;item-gap:65" style="height: 370px;" row="0">';for(n=0;n<e.length;n++){console.log(e[n]);try{t.contentId=getParam(e[n].id,""),t.typeId=getParam(f.ContentTypeID,"");a=clsLogBehaviorV2.addLogBehaviorParamString(t)}catch(e){console.log(e)}o=(o+='<span id="li_'+n+'" vmp-item vmp-responsive="height, width" '+a+' class="cliphome_item" movie_pos="'+n+'" movie_img="'+e[n].img+'" movie_id="'+e[n].id+'" movieName="'+e[n].title+'" parNext="'+e[n].partitionNext+'" recommendation="'+e[n].recommendation+'">')+('<img onerror="showDefaultImage(this,1);" src="'+e[n].img+'" style="width:100%;height:100%">'),i="",50<(i=null!=e[n].title?e[n].title:i).length&&(i=i.substring(0,47)+"..."),o=o+('  <span class="title" vmp-responsive="font-size" style="font-size:30px;"> '+i+" </span>")+"</span>"}}else{var o='<div id="movie_main_content_player" class="movie_main_content" vmp-style="top-gap:100;visible-row:2;" vmp-responsive="padding-top, width" style="width:1920px;position:relative;top:0;padding-top:0px;color:white;">';o+='<div vmp-highlight="delta-x:-3;delta-y:-8;border-radius:14;" id="movie_main_content_player_row" class="movie_item_row_movie" refer="recommendation_play" vmp-row vmp-style="left-gap:55;item-gap:50" style="height: 465px;" row="0">';for(var n=0;n<e.length;n++){try{t.contentId=getParam(e[n].id,""),t.typeId=getParam(f.ContentTypeID,"");var a=clsLogBehaviorV2.addLogBehaviorParamString(t)}catch(e){console.log(e)}o=(o+='<span id="li_'+n+'" vmp-item vmp-responsive="height, width" '+a+' class="movie_item" movie_pos="'+n+'" movie_img="'+e[n].img+'" movie_id="'+e[n].id+'" movieName="'+e[n].title+'" parNext="'+e[n].partitionNext+'" recommendation="'+e[n].recommendation+'">')+('<img onerror="showDefaultImage(this,1);" src="'+e[n].img+'" style="width:100%;height:100%">')+"</span>"}}o=(o+="</div>")+"</div></div>"}return o}(e=gPlayParam.relateMovie),$("#relate-movie-bar").html(e),getParam(gPlayParam.is_clip,!1)?$(".relatemovie-thumb").css("height","480px"):$(".relatemovie-thumb").css("height","570px"),SPA.autoResponsive("#relate-movie-bar",0),b=new clsCateView({wrap_obj_id:"movie_main_content_player",VMP:r,use_new_focus:!0,auto_register:!1,border_radius:10,onItemClickFn:function(e){var e=e.getSelectedItem(),t=($(e).attr("movie_id"),$(e).attr("parNext"),""+$(e).attr("movie_pos")),e=($(e).attr("movie_img"),parseInt(getParam($(e).attr("recommendation"))));hideLoading(),gIsPlayerPlaying=!1,gBShowExitApp=!1,f.Pause(),f.hideVideoPlayer(),$("#relate-movie-bar").html(""),f.HideControl(),$("#dialog_alert").hide(),$("#dialog_confirm").hide(),$("#dialog_error_qr").hide(),$("#alert_error_qr").hide(),$("#dialog_exit_app").hide(),a.removeEventPlayer(),f.isAutoPlay=!1,D&&clearInterval(D),gIsBackFromNotification=!0,u+10<f.duration?f.onBackFn(u):f.onBackFn(0),gIsBackFromNotification=!1,f.bShowTimeShiftBar=!1,f.bShowRelateMovieBar=!1,f.isLiveStream||(f.logoConfigList=[],resetLogoConfig()),showAnimationOne(),f.LogDuration(e),socketCCUCloseContent(),isClickedSpecialModule=!1,f.onBackComplete(t)},onItemFocusFn:j,onItemLostFocusFn:G,onLostFocusUpFn:function(){n.lostFocus()},onLostFocusDownFn:function(e){f.bShowRelateMovieBar?(f.HideRelateMovieBar(),E=k.CONTROLBAR,f.restartTimer()):(f.HideControl(),E=k.PLAYER)},onBackFn:function(){f.HideRelateMovieBar(),E=k.CONTROLBAR,f.restartTimer()},onLostFocusRightFn:function(e){e.gotoFirst()},onLostFocusLeftFn:function(){}})):$("#relate-movie-bar").hide(),f.showVideoPlayer(),f.showControlBar?(f.ShowControl(),E=k.CONTROLBAR):f.HideControl(),f.bShowAdvertise&&f.ShowAdvertise(),""!=getParam(gPlayParam.ad_data,"")&&""!=getParam(gPlayParam.ad_data.ad_info,"")&&f.HideControl(),setTimeout(function(){f.bEnable=!0,r.enable()},5e3)},this.setCurrentTime=function(e){var t,i=e,o="",o=(o=0<(t=Math.floor(i/3600))?t+":":o)+(0==(t=Math.floor(i%3600/60))?"00:":t<10?"0"+t+":":t+":")+(0==(t=Math.floor(i%3600%60))?"00":t<10?"0"+t:t);$("#media_player_current").html(o),$("#player_bar_active").css({width:e/this.duration*100+"%"})},this.getCurrentTime=function(){return u},this.onTimeUpdate=function(e){this.seeking||f.setCurrentTime(e)},this.onDurationChange=function(e,t){var i,o;e&&(f.duration=e,this.seekStep=e/100,e="",(o=i=0)<(i=Math.floor(f.duration/3600))&&(e+=i+":"),e+=0==(o=Math.floor(f.duration%3600/60))?"00:":o<10?"0"+o+":":o+":",0==(totalTimeSecond=Math.floor(f.duration%3600%60))?e+="00":totalTimeSecond<10?e+="0"+totalTimeSecond:e+=totalTimeSecond,$("#media_player_duration").html(e))},this.convertSecondToString=function(e){var t,i,o;return e<=0?"00:00":(t="",(o=i=0)<(i=Math.floor(e/3600))&&(t+=i+":"),t+=0==(o=Math.floor(e%3600/60))?"00:":o<10?"0"+o+":":o+":",0==(totalTimeSecond=Math.floor(e%3600%60))?t+="00":totalTimeSecond<10?t+="0"+totalTimeSecond:t+=totalTimeSecond,t)},this.funcEventTimeUpdate=function(e){if(u=a.currentTime(),f.currentTimeProgres=u,f.onTimeUpdate(u),f.duration=a.duration(),f.onDurationChange(f.duration,u),f.secTimeUpdate=0,f.secTimeUpdateZero=0,f.processLogoConfig(),hideLoading(),parseInt(u)==parseInt(a.duration())-g&&f.bRelateMovie&&!f.bShowTimeShiftBar&&E!==k.PLAYLIST&&(f.ShowControl(),$("#timeshift-bar").hide(),$("#dialog_choose_partition").hide(),f.bShowTimeShiftBar=!1,f.ShowRelateMovieBar(),n.lostFocus(),b.setFocus(),E=k.RELATEMOVIE,r.setActive(f.getName()),v=setTimeout(function(){f.HideRelateMovieBar()},h)),(f.iPlayer==gPlayer.WJPLAYER||f.iPlayer==gPlayer.VIDEOJS||f.iPlayer==gPlayer.BITMOVIN||f.iPlayer==gPlayer.LGPLAYER)&&f.showBreakpoint&&0<f.breakpoint){if(E==k.ADVERTISE)return;parseInt(a.duration())-f.breakpoint<=_||1==f.isAutoPlay?f.breakpoint=0:(f.showBreakpoint=!1,f.flagConfirmBreakPoint=!0,a.setCurrentTime(f.breakpoint),f.setCurrentTime(f.breakpoint),0==f.is_poster_trailer&&r.setActive(f.getName()))}if(1==f.is_poster_trailer){if(0==f.poster_trailer_timeplay)return;u-f.poster_trailer_timebegin>=f.poster_trailer_timeplay&&f.HandleBack(!0)}f.state==t&&($("#dialog_confirm").hide(),$("#dialog_alert").hide(),$("#dialog_error_qr").hide(),$("#alert_error_qr").hide(),f.state=l,r.setActive(f.getName()),f.countdown())},this.funcEventCanplay=function(e){if(gPlayParam.PLAYER_TYPE="CLIP",f.intervalSaveDuration=setInterval(function(){f.LogDuration(gRECOMMENDATION,"1")},5e3),SPA.currentController.fnPlayVideo){console.log("can play this movie"),setTimeout(function(){SPA.enable()},f.bDelayUnlockKeyTime),f.bEnable=!0;var t=getTimeServer();if(f.DurationBeginPlaying=Math.floor(t.getTime()/1e3),$(".icon-caph-play").addClass("icon-caph-play").removeClass("icon-caph-pause"),$("#glyphicon-play-movie").addClass("glyphicon-play").removeClass("glyphicon-pause"),f.iPlayer==gPlayer.AVPLAYERSS){if(f.showBreakpoint&&0<f.breakpoint)return void(parseInt(a.duration())-f.breakpoint<=_?f.breakpoint=0:(f.showBreakpoint=!1,f.flagConfirmBreakPoint=!0,a.setCurrentTime(f.breakpoint),f.setCurrentTime(f.breakpoint),r.setActive(f.getName())));a.Play()}socketCCUUpdateExpireTimeContent(),(1!=f.is_home_trailer&&1!=f.is_poster_trailer&&0==o||1==f.isAutoPlay)&&gDeviceAPI.writeData("Key_IsPlayCCU",JSON.stringify(1)),window.isPlayingAds||getParam(gPlayParam.cast_data,null)&&!gPlayParam.cast_data.isSendBreakPoint&&(gPlayParam.cast_data.isSendBreakPoint=!0,gPlayParam.cast_data.funcBreakPoint)&&(console.warn("======Cast send BreakPoint"),(0,gPlayParam.cast_data.funcBreakPoint)()),f.logCJMPlay()}else SPA.enable(),f.Stop()},this.logCJMPlay=function(){try{"undefined"==typeof gDataCJM&&(window.gDataCJM={}),window.gDataCJM.content_name=gPlayParam.content_name,window.gDataCJM.part_name=gPlayParam.partition,window.gDataCJM.content_id=gPlayParam.content_id,window.gDataCJM.Loainoidung="Clip",window.gDataCJM.category=gPlayParam.type_id,window.gDataCJM.Sub_cate="",window.gDataCJM.Sub_cate_1="",window.gDataCJM.directors=gPlayParam.info_content.CONTENT_DIRECTOR,window.gDataCJM.actors=gPlayParam.info_content.CONTENT_ACTOR,window.gDataCJM.year=gPlayParam.info_content.CONTENT_PUBLISH_YEAR,window.gDataCJM.country=gPlayParam.info_content.CONTENT_COUNTRY,window.gDataCJM.show_ads=1==window.isPlayingAds?"SHOW":"HIDE",window.gDataCJM.duration=0,window.gDataCJM.Status="Success",ModuleManager.loadFile("clsLogCjm",function(){clsLogCjm&&(clsLogCjm.sendLog("content_all_play",window.gDataCJM,1),clsLogCjm.sendLog("content_play",window.gDataCJM))},function(){console.error("Không load được file clsLogCjm - "+SPA.currentPath)},!0)}catch(e){}},this.updateController=function(e){E="advertise_play"==e?k.ADVERTISE:k.PLAYER},this.funcEventEnded=function(){if(console.info("~~~~~~~~~~~~funcEventEnded"),f.isAdsExitApp)f.Play();else if(0<f.playListAdvertise.length)showLoading(),f.Pause(),a.removeEventPlayer(),D&&clearInterval(D),f.initVideoEvent(f.playListAdvertise[0]),f.playListAdvertise.shift(),setTimeout(function(){f.Pause(),f.Play()},3e3);else{if(null!=f.loop_trailer){var e=!1;if(e=f.param.checkLiveTime?f.param.checkLiveTime():e){if(f.loop_trailer=null,f.param.callApiLive)return f.CancelPlayer(),void f.param.callApiLive()}else{if(-1==f.loop_trailer)return void f.show();if(0<f.loop_trailer)return f.loop_trailer--,console.info("-=-=-=-=-=-=-=-=-="+f.loop_trailer),void f.show()}}var t,i;f.isAutoPlay=!0,f.isLiveStream?(f.EndCCU(),!gPlayParam.checkTimer||(e=getCurrentTimeLong(),t=convertTimeToLong(gPlayParam.start_time),i=convertTimeToLong(gPlayParam.end_time),e<t)||i<e||(e=i)?f.HandleBack():t<=e&&e<i&&(gPlayParam.isCallLiveStreamFromVOD=!0,f.HandleBack())):f.HandleBack(1)}},this.funcEventError=function(e){console.info("~~~~~~~~~~~~funcEventError vod funcEventError called",e),console.trace(),hideLoading(),"video_new_ui"==f.divID||"page2_trailer_container"==f.divID?(f.HandleBack(),f.onErrorFn("lỗi ko tải được player")):(gIsPlayerPlaying=!1,gBShowExitApp=!1,f.Pause(),f.hideVideoPlayer(),$("#relate-movie-bar").html(""),f.HideControl(),$("#dialog_alert").hide(),$("#dialog_confirm").hide(),$("#dialog_error_qr").hide(),$("#alert_error_qr").hide(),$("#dialog_exit_app").hide(),$("#player_controlbar_highlight_item").css({background:"red none repeat scroll 0 0"}),a.removeEventPlayer(),D&&clearInterval(D),f.bShowTimeShiftBar=!1,f.bShowRelateMovieBar=!1,gPlayParam.relateMovie=null,f.isLiveStream||(f.logoConfigList=[],resetLogoConfig()),showAnimationOne(),saveLogErrorCDN(getParam(gPlayParam.movie_id,getParam(gPlayParam.content_id,"")),f.url,f.DurationBeginPlaying,f.ContentTypeID,f.link_to_cdn,f.profile4K,e,"755",function(){}),f.EndCCU(),D&&clearInterval(D),f.onErrorFn("Có lỗi khi tải nội dung. Quý khách vui lòng thử lại sau. (755)"),ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog({pathSteps:"clsuivodplayer funcEventError 755"}),clsClientLog.sendLog()}catch(e){console.log("error",e)}},null,!0))},this.funcEventErrorTechnical=function(e,t){console.info("~~~~~~~~~~~~funcEventErrorTechnical vod funcEventErrorTechnical called",e),console.trace(),hideLoading(),"video_new_ui"==f.divID||"page2_trailer_container"==f.divID||"1"==f.is_startup_ads?(f.HandleBack(),f.onErrorFn("lỗi ko tải được player")):(gIsPlayerPlaying=!1,gBShowExitApp=!1,f.Pause(),f.hideVideoPlayer(),$("#relate-movie-bar").html(""),f.HideControl(),$("#dialog_alert").hide(),$("#dialog_confirm").hide(),$("#dialog_error_qr").hide(),$("#alert_error_qr").hide(),$("#dialog_exit_app").hide(),$("#player_controlbar_highlight_item").css({background:"red none repeat scroll 0 0"}),a.removeEventPlayer(),D&&clearInterval(D),f.bShowTimeShiftBar=!1,f.bShowRelateMovieBar=!1,gPlayParam.relateMovie=null,f.isLiveStream||(f.logoConfigList=[],resetLogoConfig()),showAnimationOne(),934==t?(f.EndCCU(),D&&clearInterval(D),SPA.enable(),showAlertErrorQR({VMP:r,content:e,button_text:"Thử lại",qr_content:{co:getParam(gPlayParam.movie_id,0),ty:getParam(gPlayParam.type_id,0),ai:"",ip:""},onOKFn:function(){processRestart()},onBackFn:function(){processRestart()}}),ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog({pathSteps:"clsuivodplayer funcEventErrorTechnical "+t}),clsClientLog.sendLog()}catch(e){console.log("error",e)}},null,!0)):(saveLogErrorCDN(getParam(gPlayParam.movie_id,getParam(gPlayParam.content_id,"")),f.url,f.DurationBeginPlaying,f.ContentTypeID,f.link_to_cdn,f.profile4K,e,t,function(){}),f.EndCCU(),D&&clearInterval(D),SPA.enable(),f.onErrorFn(e),ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog({pathSteps:"clsuivodplayer funcEventErrorTechnical "+t}),clsClientLog.sendLog()}catch(e){console.log("error",e)}},null,!0)))},this.funcEventProgress=function(){var e;gConfig.getDeviceType()==DEVICE_TYPE.PANASONIC&&(0!=a.currentTime()?(f.secTimeUpdate=0,hideLoading(),f.state==t&&($("#dialog_alert").hide(),$("#dialog_confirm").hide(),$("#dialog_error_qr").hide(),$("#alert_error_qr").hide(),f.state=l,r.setActive(f.getName()))):(showLoading(),e=25,gConfig.getDeviceType()==DEVICE_TYPE.PANASONIC&&(e=10),f.secTimeUpdateZero++,f.secTimeUpdateZero>e&&(f.secTimeUpdateZero=0,f.onCallBackURLFn)&&f.onCallBackURLFn(function(e){showLoading(),f.Stop(),a.removeEventPlayer(),f.initVideoEvent(e);var t=0;f.flagConfirmBreakPoint?t=f.breakpoint:0<f.timeSeek&&(t=f.timeSeek),setTimeout(function(){f.Pause(),a.setCurrentTime(t),f.Play()},3e3)})))},this.funcEventWaiting=function(){"video_new_ui"!=f.divID&&"page2_trailer_container"!=f.divID&&0==f.is_poster_trailer&&showLoading()},this.funcEventLostConnect=function(){var e;hideLoading(),f.setTestStatus(PAGE_STATUS.MOVIE_PLAYER.NO_INTERNET_CONNECTION),saveLogErrorCDN(getParam(gPlayParam.movie_id,getParam(gPlayParam.content_id,"")),f.url,f.DurationBeginPlaying,f.ContentTypeID,f.link_to_cdn,f.profile4K,"Error 754","754",function(){}),gConfig.getDeviceType()==DEVICE_TYPE.PANASONIC?(f.state=t,e="Có lỗi khi tải nội dung. Quý khách vui lòng thử lại sau! (754)",showAlertErrorQR({VMP:r,content:e,status:PAGE_STATUS.MOVIE_PLAYER.NO_INTERNET_CONNECTION,button_text:"OK",qr_content:{co:getParam(gPlayParam.movie_id,0),ty:getParam(gPlayParam.type_id,0),ai:"",ip:""},onOKFn:function(){f.EndCCU(),f.HandleBack()},onBackFn:function(){f.EndCCU(),f.HandleBack()}})):(f.state=t,e="Không có kết nối Internet, Quý khách có muốn thử lại không? (754)",ModuleManager.loadFile("clsClientLog",function(){try{clsClientLog.saveLog({pathSteps:"clsuivodplayer funcEventLostConnect 754"}),clsClientLog.sendLog()}catch(e){console.log("error",e)}},null,!0),showErrorQR({VMP:r,content:e,button_ok_text:"Thử lại",button_cancel_text:"Thoát",status:PAGE_STATUS.MOVIE_PLAYER.NO_INTERNET_CONNECTION,qr_content:{co:getParam(gPlayParam.movie_id,0),ty:getParam(gPlayParam.type_id,0),ai:"",ip:""},onOKFn:function(){a.setCurrentTime(u),f.setCurrentTime(u),showLoading(),r.setActive(f.getName()),f.countdown()},onCancelFn:function(){f.EndCCU(),f.HandleBack()}}))},this.countdown=function(){null==D&&(D=setInterval(function(){0<f.secTimeUpdate&&f.state!==i&&(f.secTimeUpdate++,f.secTimeUpdateZero++),"video_new_ui"==f.divID||"page2_trailer_container"==f.divID?f.secTimeUpdate>=f.setTimeoutPromoVideo&&(clearInterval(D),D=null,f.secTimeUpdate=0,f.secTimeUpdateZero=0,f.HandleBack(),f.onErrorFn("lỗi ko tải được link play")):f.secTimeUpdate>=f.secTimeOut&&(clearInterval(D),D=null,f.secTimeUpdate=0,f.secTimeUpdateZero=0,f.funcEventLostConnect())},1e3))},this.countDownAdvertise=function(){f.timerAdvertise&&clearInterval(f.timerAdvertise),f.timerAdvertise=setInterval(function(){f.secTimeAdvertise<=0?(clearInterval(f.timerAdvertise),$("#advertise div").html("Bấm nút bất kỳ để tắt quảng cáo!"),f.bCloseAdvertise=!0):(f.secTimeAdvertise--,$("#advertise div").html("Bỏ qua quảng cáo trong "+f.secTimeAdvertise+" giây!"))},1e3)},this.saveLogErrorCDN=function(e,t,i,o){0<t&&(n=getTimeServer(),t=Math.floor(n.getTime()/1e3)-t);var n={show_loading:!0,data:{content_url:e,duration:t=t<0?0:t,type_id:i,cdn_url:f.link_to_cdn,app_version:gVersionNumber,tag:f.profile4K}};ApiPost("other/net-log-cdn",n,function(e){0==e.result?o&&o(e.data.id):o&&o(0)},function(e){o&&o(0)},gMaxRetryApi)},this.setShowLevelSeek=function(){f.bShowLevelSeek?($("#arrow-up").show(),$("#arrow-down").show(),$("#level-seek").show()):($("#arrow-up").hide(),$("#arrow-down").hide(),$("#level-seek").hide())},this.SeekWorker=function(){var e;this.seeking?(e=Math.pow(2,Math.abs(this.seekLevel)),this.seekLevel<0?this.seekTime-=this.seekStep:0<this.seekLevel&&(this.seekTime+=this.seekStep),this.seekTime>=this.duration?this.Stop():this.seekTime<=0&&(this.seekTime=0,this.DelayedSeek()),this.trailer&&60<this.seekTime&&this.seekTime>=this.duration/10?this.Stop():(this.setCurrentTime(this.seekTime),this.seekTicker=setTimeout(function(){f.SeekWorker()},1024/e))):this.seekLevel=0},this.SeekToPos=function(e){this.canSeek&&(this.canSeek=!1,this.seekTime=e*this.duration/10,this.setCurrentTime(this.seekTime),this.DelayedSeek(),setTimeout(function(){f.canSeek=!0},500))},this.Seek=function(e){this.canSeek&&(this.canSeek=!1,this.seekLevel+=e,this.seekLevel<-5||5<this.seekLevel?(this.seekLevel=0,this.DelayedSeek(),this.seeking=!1):this.seeking||0==e||(this.Pause(),this.seeking=!0,this.seekTime=u,this.seekTicker=setTimeout(function(){f.SeekWorker()},512)),setTimeout(function(){f.canSeek=!0},500))},this.DelayedSeek=function(){a.setCurrentTime(f.seekTime),f.setCurrentTime(f.seekTime),this.seeking=!1,this.seekTime=0,this.seekLevel=0,clearTimeout(this.seekTicker),this.state==i&&f.Play()},this.Play=function(e){$(".icon-caph-play").addClass("icon-caph-play").removeClass("icon-caph-pause"),$("#glyphicon-play-movie").addClass("glyphicon-play").removeClass("glyphicon-pause"),f.changeButtonDescName("player_play","Tạm dừng"),f.changeButtonAttribute("player_play","action","pause"),this.seeking||(this.state=l,a.Play()),f.bShowAdvertise&&f.countDownAdvertise(),0<this.PauseStartTimeStamp&&(0<(TestPauseDuration=Math.floor(((new Date).getTime()-this.PauseStartTimeStamp)/1e3))&&TestPauseDuration<1e6&&(this.PauseDuration=this.PauseDuration+TestPauseDuration),this.PauseStartTimeStamp=0),1!=getParam(e,0)&&H("PLAY")},this.Pause=function(){$(".icon-caph-pause").addClass("icon-caph-pause").removeClass("icon-caph-play"),$("#glyphicon-play-movie").addClass("glyphicon-pause").removeClass("glyphicon-play"),f.changeButtonDescName("player_play","Phát"),f.changeButtonAttribute("player_play","action","play"),this.seeking&&(this.seeking=!1),this.state=i,a.Pause(),this.PauseStartTimeStamp=(new Date).getTime(),H("PAUSE")},this.Stop=function(){this.HandleBack()},this.skipAd=function(){a.skipAd()},this.Stop_Promo=function(){hideLoading(),f.hideVideoPlayer(),a.Stop(),$("#media_player").hide(),$("#movie_title_wrap").hide(),$("#dialog_alert").hide(),$("#dialog_confirm").hide(),$("#dialog_error_qr").hide(),$("#alert_error_qr").hide(),$("#dialog_exit_app").hide(),gBShowExitApp=!1,gIsPlayerPlaying=!1,a.removeEventPlayer()},this.HandleNextPrev=function(e){gIsBackFromNotification=!1,f.LogDuration(gRECOMMENDATION),socketCCUCloseContent(),1==e?f.onBackComplete():0==e&&f.onBackWardfn()},this.HandleChosenPartition=function(){gIsBackFromNotification=!1,f.LogDuration(gRECOMMENDATION),f.onChoosePartition(V)},this.HandleBack=function(e,t){var i;$("#multiWrapper").hide(),clearInterval(f.intervalSaveDuration),(f.intervalSaveDuration=null)!=f.clsRateDialog&&f.clsRateDialog.hide(),L="00:00",r.setRemotePosition("bottom"),f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer),hideLoading(),E==k.ADVERTISE&&(u=-1),f.hideVideoPlayer(),a.Stop(),f.HideNextPrev(),$("#media_player").hide(),$("#movie_title_wrap").hide(),$("#dialog_alert").hide(),$("#dialog_confirm").hide(),$("#dialog_error_qr").hide(),$("#alert_error_qr").hide(),$("#dialog_exit_app").hide(),gBShowExitApp=!1,gIsPlayerPlaying=!1,$("#relate-movie-bar").html(""),f.HideControl(),$("#player_controlbar_highlight_item").css({background:"red none repeat scroll 0 0"}),a.removeEventPlayer(),D&&clearInterval(D),clearInterval(s),x=s=null,ModuleManager.loadFile("clsWebSocket",function(){clsWebSocket.useWebSocketHome||(socketCCUCloseContent(),null!=t||e?(gIsBackFromNotification=!0,f.onBackFn(u,null!=t||1==e?1:0),null!=t?f.HandleChosenPartition():f.onBackComplete()):(gIsBackFromNotification=!1,f.isAutoPlay=!1,f.onBackFn(u),gPlayParam.relateMovie=null))},null,!0),f.iLevelSeek=c,f.bShowTimeShiftBar=!1,f.bShowRelateMovieBar=!1,actionLog("PlayerBack",f.getName()),f.bShowAdvertise&&($("#advertise").hide(),f.bShowAdvertise=!1),0<this.PauseStartTimeStamp&&(0<(TestPauseDuration=Math.floor(((new Date).getTime()-this.PauseStartTimeStamp)/1e3))&&TestPauseDuration<1e6&&(this.PauseDuration=this.PauseDuration+TestPauseDuration),this.PauseStartTimeStamp=0),f.isLiveStream||(f.logoConfigList=[],resetLogoConfig()),showAnimationOne(),E!=k.ADVERTISE&&f.LogDuration(gRECOMMENDATION),isSS()&&(i=webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_ON,webapis.appcommon.setScreenSaver(i,function(){},function(){})),gPlayParam.poster=null},this.CancelPlayer=function(){var e;$("#multiWrapper").hide(),null!=f.clsRateDialog&&f.clsRateDialog.hide(),L="00:00",r.setRemotePosition("bottom"),f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer),hideLoading(),f.hideVideoPlayer(),a.Stop(),f.HideNextPrev(),$("#media_player").hide(),$("#movie_title_wrap").hide(),$("#dialog_alert").hide(),$("#dialog_confirm").hide(),$("#dialog_error_qr").hide(),$("#alert_error_qr").hide(),$("#dialog_exit_app").hide(),gBShowExitApp=!1,gIsPlayerPlaying=!1,$("#relate-movie-bar").html(""),f.HideControl(),$("#player_controlbar_highlight_item").css({background:"red none repeat scroll 0 0"}),a.removeEventPlayer(),D&&clearInterval(D),clearInterval(s),x=s=null,f.iLevelSeek=c,f.bShowTimeShiftBar=!1,f.bShowRelateMovieBar=!1,actionLog("PlayerBack",f.getName()),f.bShowAdvertise&&($("#advertise").hide(),f.bShowAdvertise=!1),0<this.PauseStartTimeStamp&&(0<(TestPauseDuration=Math.floor(((new Date).getTime()-this.PauseStartTimeStamp)/1e3))&&TestPauseDuration<1e6&&(this.PauseDuration=this.PauseDuration+TestPauseDuration),this.PauseStartTimeStamp=0),f.isLiveStream||(f.logoConfigList=[],resetLogoConfig()),showAnimationOne(),f.LogDuration(gRECOMMENDATION),isSS()&&(e=webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_ON,webapis.appcommon.setScreenSaver(e,function(){},function(){})),gPlayParam.poster=null},this.OffPlayer=function(){var e;null!=f.clsRateDialog&&f.clsRateDialog.hide(),L="00:00",r.setRemotePosition("bottom"),f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer),hideLoading(),f.hideVideoPlayer(),a.Stop(),f.HideNextPrev(),$("#media_player").hide(),$("#movie_title_wrap").hide(),$("#dialog_alert").hide(),$("#dialog_confirm").hide(),$("#dialog_error_qr").hide(),$("#alert_error_qr").hide(),$("#dialog_exit_app").hide(),gBShowExitApp=!1,gIsPlayerPlaying=!1,$("#relate-movie-bar").html(""),f.HideControl(),$("#player_controlbar_highlight_item").css({background:"red none repeat scroll 0 0"}),a.removeEventPlayer(),D&&clearInterval(D),clearInterval(s),x=s=null,f.iLevelSeek=c,f.bShowTimeShiftBar=!1,f.bShowRelateMovieBar=!1,actionLog("PlayerBack",f.getName()),f.bShowAdvertise&&($("#advertise").hide(),f.bShowAdvertise=!1),0<this.PauseStartTimeStamp&&(0<(TestPauseDuration=Math.floor(((new Date).getTime()-this.PauseStartTimeStamp)/1e3))&&TestPauseDuration<1e6&&(this.PauseDuration=this.PauseDuration+TestPauseDuration),this.PauseStartTimeStamp=0),f.isLiveStream||(f.logoConfigList=[],resetLogoConfig()),showAnimationOne(),f.LogDuration(gRECOMMENDATION),isSS()&&(e=webapis.appcommon.AppCommonScreenSaverState.SCREEN_SAVER_ON,webapis.appcommon.setScreenSaver(e,function(){},function(){}))},this.EndCCU=function(){1!=f.is_home_trailer&&1!=f.is_poster_trailer&&0==o&&(console.info("-----------------------EndCCU VOD -----"),gDeviceAPI.readData("Key_IsPlayCCU",function(e){1==e&&(e={data:{time_call_api:getTimeServer().getTime()},show_loading:!1},ApiPost("end-content",e,function(e){console.info(getShortURL()+" EndCCU data:",e),gDeviceAPI.writeData("Key_IsPlayCCU",JSON.stringify(0))},function(e){gDeviceAPI.writeData("Key_IsPlayCCU",JSON.stringify(0)),console.info(getShortURL()+" EndCCU error:",e)},3))}))},this.HideNextPrev=function(){$("#player_prev").hide(),$("#player_next").hide()},this.logCJMStop=function(e){try{"undefined"==typeof gDataCJM&&(window.gDataCJM={}),window.gDataCJM.content_name=gPlayParam.content_name,window.gDataCJM.part_name=gPlayParam.partition,window.gDataCJM.content_id=gPlayParam.content_id,window.gDataCJM.Loainoidung="Clip",window.gDataCJM.category=gPlayParam.type_id,window.gDataCJM.Sub_cate="",window.gDataCJM.Sub_cate_1="",window.gDataCJM.directors=gPlayParam.info_content.CONTENT_DIRECTOR,window.gDataCJM.actors=gPlayParam.info_content.CONTENT_ACTOR,window.gDataCJM.year=gPlayParam.info_content.CONTENT_PUBLISH_YEAR,window.gDataCJM.country=gPlayParam.info_content.CONTENT_COUNTRY,window.gDataCJM.show_ads=1==window.isPlayingAds?"SHOW":"HIDE",window.gDataCJM.duration=e,window.gDataCJM.Status="Success",ModuleManager.loadFile("clsLogCjm",function(){clsLogCjm&&(clsLogCjm.sendLog("content_all_stop",window.gDataCJM,1),clsLogCjm.sendLog("content_stop",window.gDataCJM))},function(){console.error("Không load được file clsLogCjm - "+SPA.currentPath)},!0)}catch(e){}},this.LogDuration=function(e,t){var i,o,n,a;"1"==f.is_home_trailer||0==gIsLogDuration||0==gDurationStart||null==gPlayParam.type_id&&null==gPlayParam.content_name||(Math.floor(parseInt((new Date).getTime()-gDurationStart)/1e3),a=(new Date).getTime()-gDurationStart,a=parseInt(a/1e3),a-=f.PauseDuration,"1"!=t&&(gDurationStart=0,f.PauseDuration=0,f.PauseStartTimeStamp=0,clearInterval(f.intervalSaveDuration),f.intervalSaveDuration=null),a<5&&"1"!=f.is_poster_trailer)||21600<a||a<1||(o="movie_id",void(i=0)!==gPlayParam.movie_id&&(i=gPlayParam.movie_id,o="movie_id"),void 0!==gPlayParam.content_id&&0==i&&(i=gPlayParam.content_id,o="content_id"),void 0!==gPlayParam.channel_id&&0==i&&(i=gPlayParam.channel_id,o="channel_id"),null==i)||i<=0||(n=getParam(f.is_poster_trailer,0),"1"==getParam(f.is_home_preview,0)&&(n=0),n={duration:a,content_id:i,type_id:gPlayParam.type_id,product_plugin_id:getParam(gPlayParam.product_plugin_id,""),content_name:gPlayParam.content_name,sub_content_name:"",sub_content_starttime:"",partition:getParam(gPlayParam.partition,1),provider_id:getParam(gPlayParam.provider_id,""),os_version:gOS,plugin_server:"log_duration",is_preview:n,is_home_preview:getParam(f.is_home_preview,0),recommendation:getParam(gRECOMMENDATION,0)},void 0!==window.is_notification_play&&1==window.is_notification_play&&(n.request_id=window.noti_request_id),void 0!==window.ReccommendHome&&null!=window.ReccommendHome&&(n.rule_id=window.ReccommendHome.rule_id,n.refer=window.ReccommendHome.refer,n.old_screen=window.ReccommendHome.old_screen,n.row=window.ReccommendHome.row,n.col=window.ReccommendHome.column),gRECOMMENDATION=e,n[o]=i,"1"==getParam(t,"0")?localStorage.setItem("logDuration",JSON.stringify(n)):(f.logCJMStop(a),"1"==window.isWriteLogDurationKafka&&ApiPost("kafka/log_duration",{data:n,show_loading:!1,auto_disable:!1,plugin_server:"log_duration"},function(e){window.is_notification_play=!1,window.ReccommendHome=null,localStorage.removeItem("logDuration")},function(e){window.is_notification_play=!1,window.ReccommendHome=null},3),"1"==window.isWriteLogDurationMemcache&&ApiPost("memcache/write-duration-v2",{data:n,show_loading:!1,auto_disable:!1},function(e){},function(e){},3)))},this.onMouseWheel=function(e){n.onMouseWheel(e)},this.HidePopup=function(){$("#dialog_alert").hide(),$("#dialog_confirm").hide(),$("#dialog_error_qr").hide(),$("#alert_error_qr").hide(),$("#dialog_exit_app").hide(),gBShowExitApp=!1},this.showVideoPlayer=function(){a.showVideoPlayer(),showAVPlayObject(),f.bShowFavorite?($("#glyphicon-favorite-movie").removeClass("disable-mode"),0===f.favorite?$("#glyphicon-favorite-movie").addClass("glyphicon-favorite-deactive").removeClass("glyphicon-favorite-active"):$("#glyphicon-favorite-movie").addClass("glyphicon-favorite-active").removeClass("glyphicon-favorite-deactive")):$("#glyphicon-favorite-movie").addClass("glyphicon-favorite-active").addClass("disable-mode"),f.bRelateMovie?$("#glyphicon-relate-movie").removeClass("disable-mode"):$("#glyphicon-relate-movie").addClass("disable-mode")},this.hideVideoPlayer=function(){a.hideVideoPlayer()},this.initVideoEvent=function(e){f.autoLockKeyboard&&SPA.disable();var t=$(window).height(),i=$(window).width();""!=getParam(player_config,"")?("bitmovin"==player_config.vod&&(f.iPlayer=gPlayer.BITMOVIN,divID="videoContainer"),"wjplayer"==player_config.vod&&(f.iPlayer=gPlayer.WJPLAYER,divID="videoContainer"),"bitmovin"==player_config.drm_vmx&&(1==f.drmProvider&&""!=f.customData&&null!=f.customData||2==f.drmProvider&&""!=f.deviceId&&null!=f.deviceId||3==f.drmProvider&&""!=f.customData&&null!=f.customData)&&(f.iPlayer=gPlayer.BITMOVIN,divID="videoContainer"),"native"==player_config.drm_vmx&&(1==f.drmProvider&&""!=f.customData&&null!=f.customData||2==f.drmProvider&&""!=f.deviceId&&null!=f.deviceId||3==f.drmProvider&&""!=f.customData&&null!=f.customData)&&(isSS()&&(f.iPlayer=gPlayer.AVPLAYERSS,divID="ss-player"),isLG())&&(f.iPlayer=gPlayer.LGPLAYER,divID="player_container_drm")):("video_new_ui"!=f.divID&&"page2_trailer_container"!=f.divID&&0==f.is_poster_trailer&&(f.iPlayer=gPlayer.BITMOVIN),(1==f.drmProvider&&""!=f.customData&&null!=f.customData||2==f.drmProvider&&""!=f.deviceId&&null!=f.deviceId||3==f.drmProvider&&""!=f.customData&&null!=f.customData)&&(isSS()?(f.iPlayer=gPlayer.AVPLAYERSS,divID="ss-player"):isLG()&&(f.iPlayer=gPlayer.LGPLAYER,divID="player_container_drm"),console.info("thisObj.iPlayer check here",f.iPlayer))),""!=getParam(gPlayParam.ad_data,"")&&""!=getParam(gPlayParam.ad_data.ad_info,"")&&(f.iPlayer=gPlayer.BITMOVIN,divID="videoContainer"),3==f.drmProvider&&(f.iPlayer=gPlayer.BITMOVIN,divID="videoContainer"),1!=f.is_home_trailer&&1!=f.is_poster_trailer||(f.iPlayer=gPlayer.WJPLAYER),1==isLG()&&2==f.drmProvider&&(f.iPlayer=gPlayer.BITMOVIN,divID="videoContainer"),2!=f.drmProvider||gDeviceType!=DEVICE_TYPE.SS2016&&gDeviceType!=DEVICE_TYPE.SS2017||(f.iPlayer=gPlayer.AVPLAYERSS,divID="ss-player"),gConfig.getDeviceType()==DEVICE_TYPE.TCL&&(t=gConfig.getHeight(),i=gConfig.getWidth(),f.iPlayer=gPlayer.VIDEOJS),gConfig.getDeviceType()==DEVICE_TYPE.SS2015&&(f.iPlayer=gPlayer.AVPLAYERSS);try{""==getParam(gPlayParam.subtitle,"")&&"1"!=gPlayParam.isMultiAudio||(f.iPlayer=gPlayer.BITMOVIN,divID="videoContainer")}catch(e){console.log(e)}gConfig.getDeviceType()==DEVICE_TYPE.SS2016&&f.iPlayer==gPlayer.BITMOVIN&&(f.iPlayer=gPlayer.WJPLAYER,divID="videoContainer");try{1!=f.is_home_trailer&&1!=f.is_poster_trailer||""==getParam(gPlayParam.ad_data.ad_info,"")||(f.iPlayer=gPlayer.BITMOVIN)}catch(e){}var o={NO_DRM:{name:"No DRM",url:e},PLAYREADY:{name:"Playready",url:e,licenseServer:f.licenseServer,customData:f.customData,drmProvider:f.drmProvider,deviceId:f.deviceId,qnet_token:f.qnet_token,qnet_operatorid:f.qnet_operatorid,qnet_session:f.qnet_session}},i=((1==f.drmProvider&&""!=f.customData&&null!=f.customData||2==f.drmProvider&&""!=f.deviceId&&null!=f.deviceId||3==f.drmProvider&&""!=f.customData&&null!=f.customData)&&(isSS()?(f.iPlayer=gPlayer.AVPLAYERSS,divID="ss-player"):isLG()&&(f.iPlayer=gPlayer.LGPLAYER,divID="player_container_drm"),3==f.drmProvider&&(f.iPlayer=gPlayer.BITMOVIN,divID="videoContainer"),console.info("thisObj.iPlayer check here",f.iPlayer)),3==f.drmProvider&&(f.iPlayer=gPlayer.BITMOVIN,divID="videoContainer"),{resolutionWidth:i,resolutionHeight:t,x:0,y:0,url:e,drms:o,iPlayer:f.iPlayer,bVOD:1,is_home_trailer:f.is_home_trailer,divID:f.divID,onEventCanplay:f.funcEventCanplay,onEventEnded:f.funcEventEnded,onEventError:f.funcEventError,onEventTimeUpdate:f.funcEventTimeUpdate,onEventProgress:f.funcEventProgress,onEventWaiting:f.funcEventWaiting,onEventErrorTechnical:f.funcEventErrorTechnical});void 0!==f.param.onEventAdsStart&&(i.onEventAdsStart=f.param.onEventAdsStart),void 0!==f.param.onEventAdsEnd&&(i.onEventAdsEnd=f.param.onEventAdsEnd),console.info("paramVideo",i),(a=a||new clsControlPlayer).setParam(i),a.initVideoEvent(),"video_new_ui"!=f.divID&&"page2_trailer_container"!=f.divID&&0==f.is_poster_trailer&&showLoading(),$(".icon-caph-play").addClass("icon-caph-pause").removeClass("icon-caph-play"),this.state=l,gIsPlayerPlaying=!0,n.setFocus("player_play"),f.countdown(),1==R&&(s=setInterval(function(){breakpoint_data={bCheckCLip:gPlayParam.is_clip,bCheckHBO:gPlayParam.is_HBO,id:gPlayParam.movie_id,breakpoint:f.currentTimeProgres,type_id:gPlayParam.type_id,partition:gPlayParam.partition},gDeviceAPI.writeData("backupDuration",JSON.stringify(breakpoint_data))},1e4))},this.changeURLPlay=function(e,t){if(1==t){if(gConfig.getDeviceType()==DEVICE_TYPE.TCL)return a.Pause(),a.changeSrc(e),void a.Play();a.Stop(),a.removeEventPlayer()}try{f.initVideoEvent(e,0)}catch(e){console.log(e)}},this.ShowAdvertise=function(){$("#advertise").show()},this.restartTimer=function(){f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer),f.ctrlDispTimer=setTimeout(function(){f.state!=i&&f.HideControl()},5e3)},this.onMouseMove=function(){f.restartTimer()},this.onMouseWheel=function(e){f.restartTimer()},this.ShowControl=function(){f.setTransfromButtonDesc(),$("#media_player").show(),$("#movie_title_wrap").show(),f.bShowControlBar=!0,f.restartTimer()},this.HideControl=function(){$("#multiWrapper").hide(),f.iNumSecSpace=60*f.iLevelSeek,this.seeking||($("#media_player").hide(),$("#movie_title_wrap").hide(),f.bShowControlBar=!1,f.HideTimeShiftBar(),f.HideRelateMovieBar(),$("#dialog_choose_partition").hide(),null!=f.clsRateDialog&&f.clsRateDialog.hide(),$("#dialog_add_playlist").hide(),f.showControlBar&&r.setActive(f.getName()),isPlayingAds)||(E=k.PLAYER),f.bFocusTimeShift&&(f.bFocusTimeShift=!1,n.setFocus("player_timeshift"))},this.handleKeyForPlayer=function(e){switch(e){case KEY_LEFT:case KEY_LG_MEDIAREWIND:case KEY_SAMSUNG_MEDIAREWIND:f.showControlBar?(f.ShowControl(),n.setFocus("player_timeshift"),f.ShowTimeShiftBar(),$("#timeshift-bar").show(),f.bFocusTimeShift=!0,n.lostFocus(),f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer),E=k.TIMESHIFT):f.onLostFocusLeftFn&&f.onLostFocusLeftFn();break;case KEY_RIGHT:case KEY_LG_MEDIAFASTFORWARD:case KEY_SAMSUNG_MEDIAFASTFORWARD:f.showControlBar?(f.ShowControl(),n.setFocus("player_timeshift"),f.ShowTimeShiftBar(),$("#timeshift-bar").show(),f.bFocusTimeShift=!0,n.lostFocus(),f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer),E=k.TIMESHIFT):f.onLostFocusLeftFn&&f.onLostFocusLeftFn();break;case KEY_DOWN:f.onLostFocusDownFn&&f.onLostFocusDownFn();break;case KEY_UP:f.showControlBar?(f.bShowControlBar||f.ShowControl(),f.bFocusTimeShift=!1,E=k.CONTROLBAR):f.onLostFocusUpFn&&f.onLostFocusUpFn();break;case KEY_SAMSUNG_PLAY_PAUSE:f.state==i||f.seeking?f.Play():f.Pause(),f.showControlBar&&(f.ShowControl(),n.setFocus("player_play"),E=k.CONTROLBAR);break;case KEY_SAMSUNG_MEDIAPLAY:(f.state==i||f.seeking)&&(f.Play(),f.showControlBar)&&(f.ShowControl(),n.setFocus("player_play"),E=k.CONTROLBAR);break;case KEY_SAMSUNG_MEDIAPAUSE:f.state==i||f.seeking||(f.Pause(),f.showControlBar&&(f.ShowControl(),n.setFocus("player_play"),E=k.CONTROLBAR));break;case KEY_LG_STOP:case KEY_SAMSUNG_MEDIASTOP:f.EndCCU(),f.HandleBack();break;case KEY_ENTER:f.showControlBar&&(f.ShowControl(),E=k.CONTROLBAR,f.bRelateMovie)&&($("#timeshift-bar").hide(),f.bShowTimeShiftBar=!1,f.ShowRelateMovieBar(),E=k.RELATEMOVIE,n.lostFocus(),b.setFocus());break;default:isBackKey(e)&&(f.EndCCU(),f.HandleBack())}},this.handleKeyForControlBar=function(e){switch(f.restartTimer(),e.which){case KEY_SAMSUNG_PLAY_PAUSE:f.state==i||f.seeking?f.Play():f.Pause(),f.showControlBar&&(f.ShowControl(),n.setFocus("player_play"),E=k.CONTROLBAR);break;case KEY_SAMSUNG_MEDIAPLAY:(f.state==i||f.seeking)&&(f.Play(),f.showControlBar)&&(f.ShowControl(),n.setFocus("player_play"),E=k.CONTROLBAR);break;case KEY_SAMSUNG_MEDIAPAUSE:f.state==i||f.seeking||(f.Pause(),f.showControlBar&&(f.ShowControl(),n.setFocus("player_play"),E=k.CONTROLBAR));break;case KEY_LG_MEDIAREWIND:case KEY_LG_MEDIAFASTFORWARD:case KEY_SAMSUNG_MEDIAREWIND:case KEY_SAMSUNG_MEDIAFASTFORWARD:f.showControlBar&&(f.ShowControl(),n.setFocus("player_play"),f.ShowTimeShiftBar(),$("#timeshift-bar").show(),f.bFocusTimeShift=!0,n.lostFocus(),f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer),E=k.TIMESHIFT);break;case KEY_UP:f.showControlBar&&(f.ShowControl(),n.setFocus("player_timeshift"),f.ShowTimeShiftBar(),$("#timeshift-bar").show(),f.bFocusTimeShift=!0,n.lostFocus(),f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer),E=k.TIMESHIFT);break;default:n.onKeyPressed(e)}},this.handleKeyForTimeshift=function(e){switch(e){case KEY_UP:break;case KEY_DOWN:$("#player_controlbar_highlight_item").css({background:"red none repeat scroll 0 0"}),f.removeHightLightTimeShift(),E=k.CONTROLBAR,n.setFocus("player_timeshift"),f.bFocusTimeShift=!1,f.restartTimer();break;case KEY_LEFT:case KEY_LG_MEDIAREWIND:case KEY_SAMSUNG_MEDIAREWIND:K(0);break;case KEY_RIGHT:case KEY_LG_MEDIAFASTFORWARD:case KEY_SAMSUNG_MEDIAFASTFORWARD:K(1);break;case KEY_ENTER:showLoading(),ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.setAction("thumbnail"),clsLogBehaviorV2.setKeyword(getParam(60*clUIVODPlayer.iLevelSeek/10*2,"")+"x"),clsLogBehaviorV2.saveLogAction(SPA.getCurrentPath(),LOG_BEHAVIOR_TYPE.MANUAL)},null,!0);var t=f.getTimesThumbnail(L);f.timeSeek=t,a.setCurrentTime(f.timeSeek),f.iIndexThumbail=Math.floor(f.iNumItemShiftBar/2),r.setActive("player"),f.HideControl(),setTimeout(function(){H("SEEK")},500);break;case KEY_SAMSUNG_PLAY_PAUSE:f.state==i||f.seeking?f.Play():f.Pause(),f.HideTimeShiftBar(),f.iLevelSeek=c,$("#player_controlbar_highlight_item").css({background:"red none repeat scroll 0 0"}),E=k.CONTROLBAR,n.setFocus("player_play");break;case KEY_SAMSUNG_MEDIAPLAY:isLG()?(showLoading(),t=f.getTimesThumbnail(L),f.timeSeek=t,a.setCurrentTime(f.timeSeek),f.iIndexThumbail=Math.floor(f.iNumItemShiftBar/2),r.setActive("player"),f.HideControl()):(f.state!=i&&!f.seeking||f.Play(),f.HideTimeShiftBar(),f.iLevelSeek=c,$("#player_controlbar_highlight_item").css({background:"red none repeat scroll 0 0"}),E=k.CONTROLBAR,n.setFocus("player_play"));break;case KEY_SAMSUNG_MEDIAPAUSE:f.state==i||f.seeking||f.Pause(),f.HideTimeShiftBar(),f.iLevelSeek=c,$("#player_controlbar_highlight_item").css({background:"red none repeat scroll 0 0"}),E=k.CONTROLBAR,n.setFocus("player_play");break;default:isBackKey(e)&&(f.HideTimeShiftBar(),f.iLevelSeek=c,$("#player_controlbar_highlight_item").css({background:"red none repeat scroll 0 0"}),E=k.CONTROLBAR,n.setFocus("player_play"),f.bFocusTimeShift=!1,f.restartTimer())}},this.getTimesThumbnail=function(e){var t;return""==(e=getParam(e,""))?0:(t=-1!=e.indexOf("</div>")?(t=e.indexOf("</div>")+"</div>".length,e.substring(t,e.length)):e,convertStringToSecond(t))},this.RenewTimeshiftBar=function(e){var t=60*f.iLevelSeek,i=f.getCurrentTime(),i=Math.floor(i/t),i=(2<=i?i-=2:i=0,f.iTimeShiftStart=i*t,f.iTimeShiftEnd=f.iTimeShiftStart,$("#timeshift-bar").html(""),F());if($("#timeshift-bar").html(i),1==use_keyboard)for(var o=0;o<f.iNumItemShiftBar;o++)$("#thumbmovie-"+o+" .thumb-time").prepend('<div class="zoom-icon"></div>'),$("#thumbmovie-"+o).bind("mouseover",function(){$(this).addClass("featured-thumbnail")}),$("#thumbmovie-"+o).bind("mouseout",function(){$(this).removeClass("featured-thumbnail")}),$("#thumbmovie-"+o).bind("click",function(){var e=$(this).attr("id").split("-"),e=parseInt(e[1]);f.iIndexThumbail=e,f.sendKey(KEY_ENTER)});else f.iIndexThumbail=Math.floor(f.iNumItemShiftBar/2);$("#timeshift-bar").show(),f.setRateText()},this.ShowTimeShiftBar=function(){$("#dialog_choose_partition").hide();var e=f.getCurrentTime(),e=Math.floor(e/f.iNumSecSpace),e=(2<=e?e-=2:e=0,f.iTimeShiftStart=e*f.iNumSecSpace,f.iTimeShiftEnd=f.iTimeShiftStart,F());$("#timeshift-bar").html(e),$("#timeshift-bar").show(),Y(),L=$("#thumbmovie-2 .thumb-time").html(),f.bShowTimeShiftBar=!0,f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer),f.Pause(),f.setRateText(),n.setFocus("player_timeshift")},this.HideTimeShiftBar=function(){$("#timeshift-bar").hide(),f.bShowTimeShiftBar=!1,f.changeTimeShiftIcon(),f.state==i&&E==k.TIMESHIFT&&f.Play()},this.setRateText=function(){var e=60*f.iLevelSeek/10*2;if(e<2&&(e=2),e+="X",f.bShowTimeShiftBar){try{g_currentProfileType==GProfileType.KID&&(e=e+'<span class="buttonDesc kid_font" style="bottom: -50px"><img style="width: '+SPA.convertScale(45)+'px" src="app-images/profile/player/arrow.png"><br><a>Tua</a></span>')}catch(e){console.log(e)}$("#player_timeshift").html(e),$("#player_timeshift").css("font-weight","bold")}},this.changeTimeShiftIcon=function(){var e='<div class="glyphicon glyphicon-tvod"style="width: 70%; height: 70%; position: absolute; margin: auto; top: 5px; left: -5px; right: 0; bottom: 0;"></div>';g_currentProfileType==GProfileType.KID&&(e+='<span class="buttonDesc kid_font" style=";"><img style="width: '+SPA.convertScale(45)+'px" src="app-images/profile/player/arrow.png"><br><a>Tua</a></span>'),$("#player_timeshift").html(e)},this.handleKeyForRelateMovie=function(e){switch(e.which){case KEY_SAMSUNG_PLAY_PAUSE:f.state==i||f.seeking?f.Play():f.Pause();break;case KEY_SAMSUNG_MEDIAPLAY:f.state!=i&&!f.seeking||f.Play();break;case KEY_SAMSUNG_MEDIAPAUSE:f.state==i||f.seeking||f.Pause();break;default:b&&b.onKeyPressed(e)}},this.ShowRelateMovieBar=function(){$("#dialog_choose_partition").hide(),$("#relate-movie-bar").show(),f.bShowRelateMovieBar=!0,f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer),n.setFocus("player_recommand"),r.setActive("movie_main_content_player")},this.HideRelateMovieBar=function(){$("#relate-movie-bar").hide(),f.bShowRelateMovieBar=!1,n.setFocus("player_recommand"),r.setActive("player_controlbar")},this.getName=function(){return"player"},this.sendKey=function(e){this.onKeyPressed({which:e})},this.setFocus=function(){f.showControlBar&&n.setFocus()},this.lostFocus=function(){f.showControlBar&&n.lostFocus()},this.init=function(e){f.buildPlayerHTML(e),$("#player_controlbar_highlight_item").remove(),getPointTimeShift("player-bar-timeshift",f.pointTimeShift,f.moveTimeShift),null==n&&(n=new clsFormView({wrap_obj_id:"player_controlbar",display_type:"horizontal",VMP:r,auto_register:!1,isRegisterMouseEvent:f.isRegisterMouseEvent,onItemClickFn:function(e){var t,e=e.getCurrentItem();n.setFocus(e.itemId),console.info("-----Controllbar-------"+e.itemId),"player_timeshift"==e.itemId&&f.bTimeShiftBar?($("#relate-movie-bar").hide(),f.bShowRelateMovieBar=!1,f.bShowTimeShiftBar?(t={VMP:r,data:[{rate:2},{rate:4},{rate:8},{rate:16}],onBackFn:function(){r.setActive(f.getName())},onOKFn:function(e){r.setActive(f.getName()),0!=e&&(e=parseInt(e),f.iLevelSeek=e/2*10,f.iLevelSeek=f.iLevelSeek/60,f.tempLevelSeek=f.iLevelSeek,c=f.tempLevelSeek,f.RenewTimeshiftBar("seek-up")),L=$("#thumbmovie-2 .thumb-time").html(),f.bShowTimeShiftBar=!0,f.bFocusTimeShift=!0,n.lostFocus(),f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer),E=k.TIMESHIFT}},900<=f.duration&&ModuleManager.loadFile("clsDialogRate",function(){f.clsRateDialog||(f.clsRateDialog=new clsDialogRate),f.clsRateDialog.setParam(t),f.clsRateDialog.show(),r.setActive(f.clsRateDialog.getName()),f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer)},null,!0)):(f.ShowTimeShiftBar(),f.setShowLevelSeek(),E=k.TIMESHIFT,f.bFocusTimeShift=!0,n.lostFocus(),f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer))):"player_play"==e.itemId?f.state==i||f.seeking?f.Play():f.Pause():"player_recommand"==e.itemId&&f.bRelateMovie?(f.HideTimeShiftBar(),f.HideTimeShiftBar(),$("#timeshift-bar").hide(),f.bShowTimeShiftBar=!1,f.ShowRelateMovieBar(),n.lostFocus(),b.setFocus(),E=k.RELATEMOVIE,f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer)):"player_favorite"==e.itemId?f.bShowFavorite?1===f.favorite?(f.favorite=0,$("#glyphicon-favorite-movie").addClass("glyphicon-favorite-deactive").removeClass("glyphicon-favorite-active"),f.onRemoveFavoriteFn&&f.onRemoveFavoriteFn()):(f.favorite=1,$("#glyphicon-favorite-movie").addClass("glyphicon-favorite-active").removeClass("glyphicon-favorite-deactive"),f.onAddFavoriteFn&&f.onAddFavoriteFn()):$("#glyphicon-favorite-movie").addClass("disable-mode"):"add_playList"==e.itemId?(f.HideTimeShiftBar(),$("#timeshift-bar").hide(),f.bShowTimeShiftBar=!1,$("#relate-movie-bar").hide(),f.bShowRelateMovieBar=!1,1==f.IsAddPlaylist&&z(),f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer)):"player_choose_partition"==e.itemId?($("#relate-movie-bar").hide(),f.bShowRelateMovieBar=!1,f.HideTimeShiftBar(),gPlayParam.isSingle||(Q(),f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer))):"player_rm_ad"==e.itemId?(console.info("btn rm_ad clicked"),showConfirm({VMP:r,content:getParam(gPlayParam.ad_data.ad_message),button_ok_text:"Mua gói",button_cancel_text:"Đóng",onOKFn:function(){f.CancelPlayer(),f.EndCCU(),SPA.location("supportInfoPackage")},onCancelFn:function(){E=k.CONTROLBAR,r.setActive(f.getName())}})):"add_myList"==e.itemId?f.callAPIAddToList():"player_unfavorite"==e.itemId?f.callAPILikeContent(0):"player_favorite_kid"==e.itemId?f.callAPILikeContent(1):"multisub"==e.itemId&&(console.log("--------------multisub-clicked"),null==f.ObjDialogChooseAudio&&null==gPlayParam.subtitle?console.info("case không có sub & audio để chọn"):(f.ObjDialogChooseSubtitle||""==getParam(gPlayParam.subtitle,"")||($("#dialogChooseSubtitleWr").show(),e={wrap_obj_id:"dialogChooseSubtitle",display_type:"vertical",use_auto_hightlight:!1,add_focus_hover:!1,delay_focus_event:0,VMP:r,onLostFocusLeftFn:function(e){},onLostFocusRightFn:function(e){f.ObjDialogChooseAudio&&r.setActive("dialogChooseAudio")},onItemClickFn:function(e){console.log("handle change subtitles",e);var e=e.getSelectedItem(),t=$(e).attr("subtitle-id");a.changeSubtitle(t),$("#dialogChooseSubtitle .active").removeClass("active"),$(e).addClass("active")},onItemFocusFn:function(e){e=e.getSelectedItem();$(e).addClass("row-focus")},onItemLostFocusFn:function(e){e=e.getSelectedItem();$(e).removeClass("row-focus")},onBackFn:function(){console.log("focus vào đâu đây"),f.hideDialogChooseMulti()}},f.ObjDialogChooseSubtitle=new clsAnimationView(e)),f.showDialogChooseMulti()))},onBackFn:function(e){if(f.bShowTimeShiftBar){f.HideTimeShiftBar(),f.Play();try{f.showButtonDesc("player_timeshift")}catch(e){console.log(e)}E=k.CONTROLBAR}else f.bShowControlBar?f.HideControl():(f.EndCCU(),f.HandleBack())},onLostFocusRightFn:function(e){f.onLostFocusRightFn&&f.onLostFocusRightFn()},onLostFocusLeftFn:function(e){f.onLostFocusLeftFn&&f.onLostFocusLeftFn()},onLostFocusDownFn:function(e){e=e.getCurrentItem();n.setFocus(e.itemId),"player_timeshift"==e.itemId?E=f.bShowTimeShiftBar?(f.HideTimeShiftBar(),k.CONTROLBAR):(f.HideControl(),k.PLAYER):"player_recommand"==e.itemId?E=f.bShowRelateMovieBar?(f.HideRelateMovieBar(),k.CONTROLBAR):(f.HideControl(),k.PLAYER):f.state!=i&&(f.HideControl(),E=k.PLAYER)},onItemFocusFn:function(e){e=e.getCurrentItem();f.showButtonDesc(e.itemId)},onLostFocusUpFn:function(e){e=e.getCurrentItem();n.setFocus(e.itemId),"player_timeshift"==e.itemId&&f.bTimeShiftBar?(f.ShowTimeShiftBar(),E=k.TIMESHIFT):"player_recommand"==e.itemId&&f.bRelateMovie?(f.ShowRelateMovieBar(),E=k.RELATEMOVIE):f.bShowControlBar||(f.ShowControl(),E=k.CONTROLBAR)},onCallBackURLFn:f.onCallBackURLFn})),r.register(f),r.setActive("player_controlbar"),"clipPlayer"==SPA.getCurrentPath()&&r.setActive(f.getName())},this.onKeyPressed=function(e){var t=e.which;"1"==f.is_startup_ads?t==KEY_ENTER&&f.skipAd():f.bShowAdvertise?f.bCloseAdvertise&&(f.EndCCU(),f.HandleBack()):f.bEnable?1==isPlayingAds?(console.info("bấm nút thì skip ad nếu đc nè"),isBackKey(t)&&(f.EndCCU(),f.HandleBack()),t==KEY_ENTER&&(console.warn("case key enter skip ad"),f.skipAd())):E==k.PLAYER?f.handleKeyForPlayer(t):E==k.CONTROLBAR?f.handleKeyForControlBar(e):E==k.TIMESHIFT?f.handleKeyForTimeshift(t):E==k.RELATEMOVIE?f.handleKeyForRelateMovie(e):E==k.ADVERTISE&&isBackKey(t)&&(console.info("-------------- 11111111"+f.bEnable),f.gShowGuideVOD=!0,f.HandleBack(),f.HideGuideMovie()):isBackKey(t)&&(f.EndCCU(),f.HandleBack())},this.handleTimeshiftFromCast=function(e){try{var t=e/a.duration()*100;f.pointTimeShift(t,1)}catch(e){console.error(e.message)}},this.setTestStatus=function(e){O=e},this.getTestStatus=function(){return O},this.TESTER={getCurrentStatus:function(){return f.getTestStatus()},getCurrentMessage:function(){return""}},this.pointTimeShift=function(e,t){showLoading();e=a.duration()*e/100;a.setCurrentTime(e),f.setCurrentTime(e),f.Play(getParam(t,0)),f.restartTimer(),f.showControlBar&&r.setActive(f.getName()),E=k.CONTROLBAR,n.setFocus("player_play"),$("#relate-movie-bar").hide(),f.bShowRelateMovieBar=!1,$("#dialog_choose_partition").hide(),f.bShowControlBar=!0,f.HideTimeShiftBar()},this.moveTimeShift=function(e){this.seeking=!1,$("#relate-movie-bar").hide(),f.bShowRelateMovieBar=!1,$("#dialog_choose_partition").hide(),f.Pause();var e=a.duration()*e/100,t=(f.setCurrentTime(e),f.bShowControlBar=!0,60*f.iLevelSeek),e=Math.floor(e/t),e=(2<=e?e-=2:e=0,f.iTimeShiftStart=e*t,f.iTimeShiftEnd=f.iTimeShiftStart,$("#timeshift-bar").html(""),F());$("#timeshift-bar").html(e),$("#timeshift-bar").show()},this.showButtonDesc=function(e){var t;g_currentProfileType==GProfileType.KID&&($("#media_player .buttonDesc").hide(),$("#media_player #"+e+" span").css("display","inline-block"),t=$("#media_player #"+e+" span").width()/2-27,$("#media_player #"+e+" span").css("transform","translateX(-"+Math.abs(t)+"px)"))},this.setTransfromButtonDesc=function(){$("#media_player").show();for(var e=0;e<T.length;e++){var t=$("#media_player #"+T[e].name+" span").width()/2-27;$("#media_player #"+T[e].name+" span").css("transform","translateX(-"+Math.abs(t)+"px)")}$("#media_player").hide()},this.changeButtonDescName=function(e,t){$("#"+e+" span a").html(t),f.showButtonDesc(e)},this.changeButtonDescImg=function(e,t){for(var i=0;i<T.length;i++){var o=T[i];if(o.name==e){$("#"+e+" div img").attr("src",o["img"+t]);break}}},this.changeButtonAttribute=function(e,t,i){$("#"+e).attr(t,i)},this.changeButtonDescLikeTrigger=function(e){0==f.is_like?(f.changeButtonDescImg("player_favorite_kid",1),f.changeButtonDescName("player_favorite_kid","Thích"),f.changeButtonDescImg("player_unfavorite",2),f.changeButtonDescName("player_unfavorite","Bỏ không thích")):1==f.is_like?(f.changeButtonDescImg("player_unfavorite",1),f.changeButtonDescName("player_unfavorite","Không thích"),f.changeButtonDescImg("player_favorite_kid",2),f.changeButtonDescName("player_favorite_kid","Bỏ thích")):(f.changeButtonDescImg("player_favorite_kid",1),f.changeButtonDescImg("player_unfavorite",1),0==e?(f.changeButtonDescName("player_favorite_kid","Thích"),f.changeButtonDescName("player_unfavorite","Không thích")):(f.changeButtonDescName("player_unfavorite","Không thích"),f.changeButtonDescName("player_favorite_kid","Thích")))},this.callAPIAddToList=function(){var e={show_loading:!0,data:{type_id:gPlayParam.type_id,content_id:gPlayParam.content_id}},t="content/add-mylist";1==f.is_mylist&&(t="content/remove-mylist"),ApiPost(t,e,function(e){0==e.result&&(0==f.is_mylist?(f.is_mylist=1,f.changeButtonDescImg("add_myList",2),f.changeButtonDescName("add_myList","Xóa khỏi danh sách<br> của tôi"),f.changeButtonAttribute("add_myList","action","remove_from_list")):(f.is_mylist=0,f.changeButtonDescImg("add_myList",1),f.changeButtonDescName("add_myList","Thêm vào danh sách<br> của tôi"),f.changeButtonAttribute("add_myList","action","add_to_my_list")))},function(e){})},this.callAPILikeContent=function(t){var e={show_loading:!0,data:{type_id:gPlayParam.type_id,content_id:gPlayParam.content_id,action:t}};ApiPost("content/like",e,function(e){0==e.result&&(f.is_like=e.data.status,f.changeButtonDescLikeTrigger(t))},function(e){})},this.removeHightLightTimeShift=function(){$("#timeshift-bar .current-active").css({"margin-top":"-6px cursor",margin:"0 20px","border-radius":"12px",transform:"scale(1)",padding:""}),$("#timeshift-bar .current-active img").css("border","")},this.sendLogDurationLocal=function(){try{var e=localStorage.getItem("logDuration");console.log("param_opt sendLogDurationLocal ",e),"1"==window.isWriteLogDurationKafka&&null!=getParam(e,null)&&ApiPost("kafka/log_duration",{data:JSON.parse(e),show_loading:!1,auto_disable:!1,plugin_server:"log_duration"},function(e){localStorage.removeItem("logDuration")},function(e){},3)}catch(e){console.log(e)}},this.showDialogChooseMulti=function(){try{$("#multiWrapper").show(),null!=gPlayParam.subtitle?r.setActive("dialogChooseSubtitle"):r.setActive("dialogChooseAudio"),E=k.CHOOSEMULTI,f.ctrlDispTimer&&clearTimeout(f.ctrlDispTimer)}catch(e){console.log(e)}},this.hideDialogChooseMulti=function(){E=k.CONTROLBAR,$("#multiWrapper").hide(),r.setActive(f.getName()),f.restartTimer()},this.moveTimeShiftByTime=function(e,t){e=getParam(e,1),t=getParam(t,0);var i=f.getCurrentTime(),o=i;(o=-1==e?i-t:1==e?i+t:t)>a.duration()?showAutoHideWarning("Xin lỗi, thời gian tua vượt quá thời lượng cho phép"):(a.setCurrentTime(o=o<0?0:o),f.setCurrentTime(o),f.Play(),f.restartTimer(),f.showControlBar&&r.setActive(f.getName()),E=k.CONTROLBAR,n.setFocus("player_play"),f.bShowControlBar=!0,f.HideTimeShiftBar())},this.processLogoConfig=function(){1!=f.is_home_trailer&&1!=f.is_poster_trailer&&setLogoConfig(f.logoConfigList)}},window.clsUIVODPlayer=clsUIVODPlayer,window.clsRecommend={firstTimeRecommendFlag:!0,firstTimeWatchLater:!0,firstTimeWatchLaterPage2:!0,homepageRecommendKey:"recommendHome",homepageRecommendExpireKey:"recommendHomeExpire",watchLaterKey:"watchLaterHome",watchLaterPage2Key:"watchLaterHomePage2",timerObj:null,delayDuration:300,setFlag:function(e){this.firstTimeRecommendFlag=e},getFlag:function(){return clsRecommend.firstTimeRecommendFlag},setFlagWatchLater:function(e){this.firstTimeWatchLater=e},getFlagWatchLater:function(){return clsRecommend.firstTimeWatchLater},getCurrentProfileID:function(){return null==g_currentProfile?"":g_currentProfile.PROFILE_ID},getLocalData:function(){try{if(isBrowser()&&"undefined"==typeof localStorage)return null;isTizen();var e,t=JSON.parse(localStorage.getItem(this.homepageRecommendKey+"_"+this.getCurrentProfileID()));return null!=t&&(e=parseInt(getParam(JSON.parse(localStorage.getItem(this.homepageRecommendExpireKey+"_"+this.getCurrentProfileID())),getTimeServer().getTime())),getTimeServer().getTime()-e<24*getParam(gDataConfig.realtime_recommend.expire_time,7)*3600*1e3)?t:null}catch(e){return console.error("Error get Local Data Recommend:",e),null}},deleteLocalData:function(e){isBrowser()&&"undefined"==typeof localStorage||(isTizen(),localStorage.removeItem(this.homepageRecommendKey+"_"+e),localStorage.removeItem(this.homepageRecommendExpireKey+"_"+e),this.clearTimerObj())},deleteLocalDataAll:function(){if(!isBrowser()||"undefined"!=typeof localStorage){if(isTizen(),null!=g_profileList&&null!=g_profileList.profiles&&0<g_profileList.profiles.length)for(var e=0;e<g_profileList.profiles.length;e++)localStorage.removeItem(this.homepageRecommendKey+"_"+g_profileList.profiles[e].PROFILE_ID),localStorage.removeItem(this.homepageRecommendExpireKey+"_"+g_profileList.profiles[e].PROFILE_ID);this.clearTimerObj()}},callAPIGetRecommend:function(){var e={data:{profile_id:g_currentProfileID,manufacturer_id:gDeviceInfo.ManufacturerID,platform:"HTML5",ver:1},show_loading:!1,auto_disable:!1,plugin_server:"api_recommend",connect_type:"GET"};ApiPost("homepage-v2",e,function(e){0==e.result?null!=e.data&&0<e.data.length&&(clsRecommend.saveLocalStorage(e.data),clsRecommend.setFlag(!1)):clsRecommend.setFlag(!1)},function(e){clsRecommend.setFlag(!1),console.error("API Recommend error: ",e)},3)},callAPIWatching:function(t){var e={data:{profile_id:g_currentProfileID,manufacturer_id:gDeviceInfo.ManufacturerID,platform:"HTML5",ver:1},show_loading:!0,auto_disable:!0,plugin_server:"api_recommend",connect_type:"GET"};ApiPost("watching-v2",e,function(e){0==e.result&&0<e.data.length?t(clsRecommend.transformData(e.data)):t(null)},function(e){t(null)})},callAPIRecommendList:function(e,t){e={data:{profile_id:g_currentProfileID,manufacturer_id:gDeviceInfo.ManufacturerID,platform:"HTML5",ver:1,rule_id:e},show_loading:!0,auto_disable:!0};ApiPost("profile/more-recommend",e,function(e){0==e.result&&0<e.data.data.length?t(clsRecommend.transformData(e.data.data)):t(null)},function(e){t(null)})},transformData:function(e){return e},saveLocalStorage:function(e){gDeviceAPI.writeData(this.homepageRecommendKey+"_"+this.getCurrentProfileID(),JSON.stringify(e)),gDeviceAPI.writeData(this.homepageRecommendExpireKey+"_"+this.getCurrentProfileID(),JSON.stringify(getTimeServer().getTime()))},addTimer:function(){console.log("%c Recommend TIMER","background: #222; color: red"),this.clearTimerObj(),this.timerObj=setTimeout(function(){clsRecommend.callAPIGetRecommend()},1e3*getParam(gDataConfig.realtime_recommend.idle_time,300))},clearTimerObj:function(){clearTimeout(this.timerObj),this.timerObj=null},callAPIStore:function(e){try{var t;g_currentProfileType!=GProfileType.KID&&(t=getModuleServiceID(),e.platform="HTML5",e.ver=1,e.session=gServerResponse.session,e.manufacturer_id=gDeviceInfo.ManufacturerID,e.profile_id=g_currentProfileID,e.module_service_id=t,ApiPost("store-content-v2",{data:e,show_loading:!1,auto_disable:!1,plugin_server:"api_recommend"},function(e){console.log("%c Recommend callAPIStore","background: #222; color: red"),clsRecommend.setFlag(!0),clsRecommend.addTimer()},function(e){console.error("API Recommend error: ",e)},3))}catch(e){}},checkDataHomePage:function(){0!=this.getFlag()&&(console.log("%c Recommend callAPIGetRecommend","background: #222; color: red"),this.callAPIGetRecommend())},getCateWatchingHome:function(e,t,i){var o={platform:"HTML5",ver:1};o.session=gServerResponse.session,o.manufacturer_id=gDeviceInfo.ManufacturerID,o.profile_id=g_currentProfileID,o.module_service_id=e,o.item_count=getParam(t,12),ApiPost("watching-tv-home-v2",{data:o,show_loading:!1,auto_disable:!1,plugin_server:"api_recommend",connect_type:"GET"},function(e){0==e.result&&null!=e.data&&0<e.data.length?i&&i(e.data):i&&i(null)},function(e){i&&i(null)},3)},getCateWatchingList:function(e,t,i,o){var n={platform:"HTML5",ver:1};n.session=gServerResponse.session,n.manufacturer_id=gDeviceInfo.ManufacturerID,n.profile_id=g_currentProfileID,n.module_service_id=e,n.page=t,n.num=i,ApiPost("watching-tv-v2",{data:n,show_loading:!1,auto_disable:!1,plugin_server:"api_recommend",connect_type:"GET"},function(e){0==e.result&&null!=e.data&&0<e.data.length?o&&o(e.data):o&&o(null)},function(e){o&&o(null)},3)},getModuleID:function(){try{var e,t=0,i=SPA.currentPath;if("clipPlayer"==i){for(var o=0;o<moduleID.length;o++)if(("clip"==moduleID[o].id||"music"==moduleID[o].id)&&moduleID[o].type_id==gPlayParam.type_id){t=moduleID[o].module_id;break}}else if("clip-detail"==i){for(var n=routerManager.getParam("typeid",0),o=0;o<moduleID.length;o++)if(("clip"==moduleID[o].id||"music"==moduleID[o].id)&&moduleID[o].type_id==n){t=moduleID[o].module_id;break}}else if("moviePlayerNew"==i){for(o=0;o<moduleID.length;o++)if(("movie"==moduleID[o].id||"galaxyplay"==moduleID[o].id||"danet"==moduleID[o].id)&&moduleID[o].type_id==gPlayParam.type_id){t=moduleID[o].module_id;break}}else if("movie"==i||"movieList"==i){e="movie"==i?routerManager.getParam("type_id",0):routerManager.getParam("typeid",0);for(o=0;o<moduleID.length;o++)if(("movie"==moduleID[o].id||"galaxyplay"==moduleID[o].id||"danet"==moduleID[o].id)&&moduleID[o].type_id==e){t=moduleID[o].module_id;break}}else if("hboPlayer"==i){for(o=0;o<moduleID.length;o++)if("hbo"==moduleID[o].id&&moduleID[o].type_id==gPlayParam.type_id){t=moduleID[o].module_id;break}}else if("hboList"==i)for(o=0;o<moduleID.length;o++)if("hbo"==moduleID[o].id){t=moduleID[o].module_id;break}return t}catch(e){return 0}},getWatchLaterHome:function(){var e;clsRecommend.firstTimeWatchLaterPage2&&(e={data:{profile_id:g_currentProfileID,manufacturer_id:gDeviceInfo.ManufacturerID,platform:"HTML5",ver:1},show_loading:!1,auto_disable:!1,plugin_server:"api_recommend",connect_type:"GET"},ApiPost("watch-later-home",e,function(e){0==e.result&&null!=e.data&&0<e.data.length&&(clsRecommend.saveDataWatchLaterPage2(e.data),clsRecommend.firstTimeWatchLaterPage2=!1)},function(e){}))},getWatchLater:function(){var e;0!=this.getFlagWatchLater()&&(e={data:{profile_id:g_currentProfileID,manufacturer_id:gDeviceInfo.ManufacturerID,platform:"HTML5",ver:1},show_loading:!1,auto_disable:!1,plugin_server:"api_recommend",connect_type:"GET"},ApiPost("watch-later-list",e,function(e){0==e.result?null!=e.data&&0<e.data.length&&(clsRecommend.saveDataWatchLater(e.data),clsRecommend.setFlagWatchLater(!1)):clsRecommend.setFlagWatchLater(!1)},function(e){clsRecommend.setFlagWatchLater(!1),console.error("API Recommend error: ",e)}))},saveDataWatchLaterPage2:function(e){gDeviceAPI.writeData(this.watchLaterPage2Key+"_"+this.getCurrentProfileID(),JSON.stringify(e))},saveDataWatchLater:function(e){gDeviceAPI.writeData(this.watchLaterKey+"_"+this.getCurrentProfileID(),JSON.stringify(e))},getDataWatchLater:function(){return JSON.parse(localStorage.getItem(this.watchLaterKey+"_"+this.getCurrentProfileID()))},insertWatchLater:function(e,t,i){e={data:{profile_id:g_currentProfileID,manufacturer_id:gDeviceInfo.ManufacturerID,content_id:e,content_type:t},show_loading:!1,auto_disable:!1,plugin_server:"api_recommend"};ApiPost("insert-watch-later",e,function(e){0==e.result&&(clsRecommend.saveDataWatchLater(e.data),i)&&i()},function(e){},3)},removeWatchLater:function(e,t,i){e={data:{profile_id:g_currentProfileID,manufacturer_id:gDeviceInfo.ManufacturerID,content_id:e,content_type:t},show_loading:!1,auto_disable:!1,plugin_server:"api_recommend"};ApiPost("remove-watch-later",e,function(e){0==e.result&&(clsRecommend.saveDataWatchLater(e.data),i)&&i()},function(e){},3)},getWatchLaterDetail:function(e,t,i,o){e={data:{profile_id:g_currentProfileID,manufacturer_id:gDeviceInfo.ManufacturerID,page:e,num:t},show_loading:!0,auto_disable:!0,plugin_server:"api_recommend",connect_type:"GET"};ApiPost("watch-later-detail",e,function(e){0==e.result&&null!=e.data&&0<e.data.length?i(e.data):o(e.message)},function(e){o("")})}},window.ChooseProfileController=function(){var e={},a=(e.clearTimerAuto=w,e.handleNumberType=function(e){console.log("code: ",e);try{(0==e||"undefined"!=e&&null!=e&&""!=e)&&(null!=f&&f.setFocus("btn_"+e),$("#password_keyboard span").removeClass("focused"),$("#btn_"+e).addClass("focused"),x(e))}catch(e){}},ModuleManager.getTemplatePath(),new VMPFrame),r=null,l=!1,s="",c="cp_profile_holder",u=null,p="",m="",d="",g=11,h=routerManager.getParam("isAuto",1),_=0,v=!0,f=null,b=1,C="";return setKeyHandler(a),callApiGetFirstTimeProfile(function(){$("#homepage_mytv_logo").hide(),function t(i){if(isCalledProfileList)return n(g_profileList.profiles),void i();showLoading();var e={data:{},show_loading:!0};ApiPost("profile/list",e,function(e){0==e.result?(g_profileList=e.data,gDeviceAPI.writeData("g_profileList",JSON.stringify(g_profileList)),g=getParam(g_profileList.time_auto_login,10)+1,o(g_profileList),n(e.data.profiles),i()):showAlert({VMP:a,content:e.message,button_text:lang("common_popup_retry"),onOKFn:function(){t(i)}})},function(e){showAlertFull({VMP:a,error_code:"956",title:"Kết nối dịch vụ bị gián đoạn.",content:"Quý khách vui lòng thử lại hoặc liên hệ CSKH 18001166 (0đ) để được tư vấn và hỗ trợ!",button_ok_text:lang("common_popup_retry"),button_cancel_text:lang("common_popup_back"),onOKFn:function(){t(i)}})})}(function(){var e=function(){var e,t;if(e="",e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e+='<div id="popup_password_wr" class="popup_password_wr">')+'  <div id="popup_password" class="popup_password">      <div id="profile_info" class="profile_info">')+'          <span class="pass_text_1">Khóa người dùng</span>          <span class="pass_text_2">Vui lòng nhập mã PIN để mở khóa</span>')+'          <span class="cp_profile_item" vmp-responsive="width, height" style="margin: '+SPA.convertScale(50)+'px auto; display: block">')+'              <span class="cp_profile_item_avatar" style="background: white;padding:'+SPA.convertScale(8)+'px">                  <img id="profile_info_avatar" src="" onerror="showDefaultImage(this);">')+'              </span>               <span id="profile_info_name" class="cp_profile_item_name" vmp-responsive="font-size"></span>')+'          </span>          <div id="input_num_pass" class="input_num_pass">')+'              <input type="password" readonly id="input_num_1"></input>              <input type="password" readonly id="input_num_2"></input>')+'              <input type="password" readonly id="input_num_3"></input>              <input type="password" readonly id="input_num_4"></input>')+"          </div>      </div>")+'      <div id="password_keyboard" class="password_keyboard" vmp-style="selected:focused">          <span id="btn_1" vmp-item vmp-focus="down:btn_4">1</span>')+'          <span id="btn_2" vmp-item vmp-focus="down:btn_5">2</span>          <span id="btn_3" vmp-item vmp-focus="down:btn_6;right:btn_3">3</span>')+'          <span id="btn_4" vmp-item vmp-focus="down:btn_7;up:btn_1">4</span>          <span id="btn_5" vmp-item vmp-focus="down:btn_8;up:btn_2">5</span>')+'          <span id="btn_6" vmp-item vmp-focus="down:btn_9;up:btn_3;right:btn_6">6</span>          <span id="btn_7" vmp-item vmp-focus="down:btn_ok;up:btn_4">7</span>')+'          <span id="btn_8" vmp-item vmp-focus="down:btn_0;up:btn_5">8</span>          <span id="btn_9" vmp-item vmp-focus="down:btn_earse;up:btn_6;right:btn_9">9</span>')+'          <span id="btn_ok" vmp-item vmp-focus="up:btn_7">OK</span>          <span id="btn_0" vmp-item vmp-focus="up:btn_8">0</span>')+'          <span id="btn_earse" class="btn_erase" vmp-item vmp-focus="up:btn_9;right:btn_erase"></span><br>      </div>')+"  </div></div>",t="<style>",t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t="<style>.popup_password_wr { background: rgba(0, 0, 0, 0.6); -webkit-backdrop-filter: blur(8px); backdrop-filter: blur(8px); position: fixed; width: 100%; height: 100%; top: 0; text-align: center; display: none; z-index: 3; }.popup_password_wr .popup_password { position: relative; margin: 0 auto; text-align: center; border-radius: 5px; padding: 50px; -webkit-box-sizing: border-box; box-sizing: border-box; height: 100%; }")+".popup_password_wr .pass_text_1 { font-size: "+SPA.convertScale(50)+"px; margin-bottom: 15px; position: relative; display: block; }")+".popup_password_wr .pass_text_2 { font-size: "+SPA.convertScale(35)+"px; position: relative; display: block; }")+".popup_password_wr .pass_text_3 { font-size: "+SPA.convertScale(28)+"px; position: relative; display: block; }")+".popup_password_wr .input_num_pass { display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-align: center; -ms-flex-align: center; align-items: center; -webkit-box-pack: center; -ms-flex-pack: center; justify-content: center; -ms-flex-wrap: wrap; flex-wrap: wrap; width: "+SPA.convertScale(510)+"px; margin: 0 auto; }")+".popup_password_wr .input_num_pass input { display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-align: center; -ms-flex-align: center; align-items: center; -webkit-box-pack: center; -ms-flex-pack: center; justify-content: center; width: "+SPA.convertScale(80)+"px; height: "+SPA.convertScale(80)+"px; background: gray; margin: 0 "+SPA.convertScale(10)+"px; border-radius: "+SPA.convertScale(5)+"px; font-size: "+SPA.convertScale(50)+"px; font-weight: bold; border: "+SPA.convertScale(3)+"px rgba(0, 0, 0, 0) solid; text-align: center; color: white; }.popup_password_wr .input_num_pass input.shake { -webkit-animation: shake 0.5s; animation: shake 0.5s; -webkit-animation-iteration-count: infinite; animation-iteration-count: infinite; }")+".popup_password_wr .input_num_pass input.active { border-color: white; background: black; }.popup_password_wr .input_num_pass input.wrong { border-color: rgb(191, 86, 78); background: rgb(191, 86, 78); }")+".popup_password_wr .password_keyboard { display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-align: center; -ms-flex-align: center; align-items: center; -webkit-box-pack: center; -ms-flex-pack: center; justify-content: center; -ms-flex-wrap: wrap; flex-wrap: wrap; width: "+SPA.convertScale(290)+"px; margin: "+SPA.convertScale(25)+"px auto; }")+".popup_password_wr .password_keyboard span {font-size: "+SPA.convertScale(35)+"px; display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-align: center; -ms-flex-align: center; align-items: center; -webkit-box-pack: center; -ms-flex-pack: center; justify-content: center; width: "+SPA.convertScale(50)+"px; height: "+SPA.convertScale(80)+"px; -webkit-box-flex: 1; -ms-flex: 1 0 30%; flex: 1 0 30%; border-radius: "+SPA.convertScale(5)+"px; margin: "+SPA.convertScale(3)+"px; }")+".popup_password_wr .password_keyboard span.focused { background: white; color: black; }.popup_password_wr .password_keyboard span:hover { background: rgba(255, 255, 255, 0.3); color: white; }")+".popup_password_wr .password_keyboard span.btn_erase { background-image: url(app-images/btn_erase.png); background-size: "+SPA.convertScale(50)+"px; background-repeat: no-repeat; background-position: center; }.popup_password_wr .password_keyboard span.btn_erase.focused { background-image: url(app-images/btn_active_erase.png); }")+".popup_password_wr .forgot_pass { width: "+SPA.convertScale(200)+"px; height: "+SPA.convertScale(55)+"px; line-height: "+SPA.convertScale(55)+"px; font-size: "+SPA.convertScale(28)+"px; margin: 0 auto; border-radius: "+SPA.convertScale(5)+"px; }.popup_password_wr .forgot_pass:hover { background: rgba(255, 255, 255, 0.3); color: white; }")+".popup_password_wr .forgot_pass.focused { background: white; color: black; }@-webkit-keyframes shake {")+"    0% { -webkit-transform: translate(1px, 1px) rotate(0deg); transform: translate(1px, 1px) rotate(0deg); }    10% { -webkit-transform: translate(-1px, -2px) rotate(-1deg); transform: translate(-1px, -2px) rotate(-1deg); }")+"    20% { -webkit-transform: translate(-3px, 0px) rotate(1deg); transform: translate(-3px, 0px) rotate(1deg); }    30% { -webkit-transform: translate(3px, 2px) rotate(0deg); transform: translate(3px, 2px) rotate(0deg); }")+"    40% { -webkit-transform: translate(1px, -1px) rotate(1deg); transform: translate(1px, -1px) rotate(1deg); }    50% { -webkit-transform: translate(-1px, 2px) rotate(-1deg); transform: translate(-1px, 2px) rotate(-1deg); }")+"    60% { -webkit-transform: translate(-3px, 1px) rotate(0deg); transform: translate(-3px, 1px) rotate(0deg); }    70% { -webkit-transform: translate(3px, 1px) rotate(-1deg); transform: translate(3px, 1px) rotate(-1deg); }")+"    80% { -webkit-transform: translate(-1px, -1px) rotate(1deg); transform: translate(-1px, -1px) rotate(1deg); }    90% { -webkit-transform: translate(1px, 2px) rotate(0deg); transform: translate(1px, 2px) rotate(0deg); }")+"    100% { -webkit-transform: translate(1px, -2px) rotate(-1deg); transform: translate(1px, -2px) rotate(-1deg); }}")+"@keyframes shake {    0% { -webkit-transform: translate(1px, 1px) rotate(0deg); transform: translate(1px, 1px) rotate(0deg); }")+"    10% { -webkit-transform: translate(-1px, -2px) rotate(-1deg); transform: translate(-1px, -2px) rotate(-1deg); }    20% { -webkit-transform: translate(-3px, 0px) rotate(1deg); transform: translate(-3px, 0px) rotate(1deg); }")+"    30% { -webkit-transform: translate(3px, 2px) rotate(0deg); transform: translate(3px, 2px) rotate(0deg); }    40% { -webkit-transform: translate(1px, -1px) rotate(1deg); transform: translate(1px, -1px) rotate(1deg); }")+"    50% { -webkit-transform: translate(-1px, 2px) rotate(-1deg); transform: translate(-1px, 2px) rotate(-1deg); }    60% { -webkit-transform: translate(-3px, 1px) rotate(0deg); transform: translate(-3px, 1px) rotate(0deg); }")+"    70% { -webkit-transform: translate(3px, 1px) rotate(-1deg); transform: translate(3px, 1px) rotate(-1deg); }    80% { -webkit-transform: translate(-1px, -1px) rotate(1deg); transform: translate(-1px, -1px) rotate(1deg); }")+"    90% { -webkit-transform: translate(1px, 2px) rotate(0deg); transform: translate(1px, 2px) rotate(0deg); }    100% { -webkit-transform: translate(1px, -2px) rotate(-1deg); transform: translate(1px, -2px) rotate(-1deg); }")+"}</style>",$("#vmp-content").append(t),$("#vmp-content").append(e),""==(p=d)&&(p=m),"false"==isFirstTimeProfile&&1==h&&1==g_profileList.profiles.length&&null==g_currentProfile&&""!=p)w(),P(p,1);else{if("true"==isFirstTimeProfile){if(setFirstTimeProfile(),""!=p)return void(w(),P(p,1))}else if(1==g_profileList.profiles.length&&1==h&&null==g_currentProfile&&""!=p)return void P(p,1);a.display("#choose_profile_content",function(){var e,t;$("body").css("background","#10151C"),$("#homepage_mytv_logo").hide(),a.init(),e={wrap_obj_id:"cp_profile_holder",display_type:"horizontal",onLostFocusDownFn:function(e){a.setActive("cp_edit_btn")},onLostFocusUpFn:function(e){},onLostFocusRightFn:function(e){},onLostFocusLeftFn:function(e){},onItemFocusFn:function(e){0==v&&w();e=e.getCurrentItem().itemId;$("#"+e).attr("is_add_new");$("#"+e+" .cp_profile_item_avatar").removeClass("edit_state"),$("#"+e).hasClass("add")&&$("#"+e+" img").attr("src","app-images/profile/add_btn_focused.png")},onItemLostFocusFn:function(e){0==v&&w();e=e.getSelectedItem();1==l&&A(),$(e).hasClass("add")&&$(e+" img").attr("src","app-images/profile/add_btn.png")},onItemClickFn:function(e){e=e.getCurrentItem().itemId;1==$("#"+e).attr("is_add_new")?(w(),SPA.location("manageProfile?is_new=1")):1==l?(w(),s=$("#"+e).attr("PROFILE_ID"),SPA.location("manageProfile?is_new=0&profile_id="+s)):(w(),P(e))},onBackFn:function(e){c="cp_profile_holder",y()},VMP:a},null==r?r=new clsFormView(e):r.init(),new clsFormView({wrap_obj_id:"cp_edit_btn",display_type:"horizontal",onLostFocusDownFn:function(e){a.setActive("guide_btn_wr")},onLostFocusUpFn:function(e){a.setActive("cp_profile_holder")},onLostFocusRightFn:function(e){},onLostFocusLeftFn:function(e){},onItemFocusFn:function(e){e=e.getCurrentItem().itemId;$("#"+e).css("background","#f7921e !important")},onItemLostFocusFn:function(e){},onItemClickFn:function(e){0==v&&w(),(0==l?A:S)()},onBackFn:function(e){c="cp_profile_holder",y()},VMP:a}),new clsFormView({wrap_obj_id:"guide_btn_wr",display_type:"horizontal",onLostFocusDownFn:function(e){},onLostFocusUpFn:function(e){a.setActive("cp_edit_btn")},onLostFocusRightFn:function(e){},onLostFocusLeftFn:function(e){},onItemFocusFn:function(e){e=e.getCurrentItem().itemId;$("#"+e).css("background","#f7921e !important")},onItemLostFocusFn:function(e){},onItemClickFn:function(e){0==v&&w(),SPA.location("guideProfile")},onBackFn:function(e){c="cp_profile_holder",y()},VMP:a}),a.setActive("cp_profile_holder","item_"+_),1<=g_profileList.profiles.length&&1==h?(v=!1,1==h?(t=g_profileList.profiles.length>=g_profileList.max_profile?"":"Vui lòng Thêm mới người dùng để trải nghiệm tính năng cá nhân hóa người dùng",$("#countdown_label").html(t).show(),0!=g_profileList.profiles.length&&""!=p&&(u=setInterval(function(){try{var e;0==g?(w(),"chooseProfile"==SPA.getCurrentPath()&&(ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.setAction("timeout")},null,!0),P(p,1))):(g--,e=g_profileList.profiles.length>=g_profileList.max_profile?'Tự động truy cập vào dịch vụ sau <a class="countdown_number">'+g+"s</a>":'Vui lòng Thêm mới người dùng để trải nghiệm tính năng cá nhân hóa người dùng, </br>hoặc sau <a class="countdown_number">'+g+"s</a> sẽ tự động truy cập vào dịch vụ",$("#countdown_label").html(e).show())}catch(e){}},1e3))):(t=g_profileList.profiles.length>=g_profileList.max_profile?"":"Vui lòng Thêm mới người dùng để trải nghiệm tính năng cá nhân hóa người dùng",$("#countdown_label").html(t).show())):$("#countdown_label").html("Vui lòng Thêm mới người dùng để trải nghiệm tính năng cá nhân hóa người dùng").show()})}},t=g_profileList.profiles,i="",o=0;for(o=0;o<t.length;o++)null!=g_currentProfile&&g_currentProfile.PROFILE_ID==t[o].PROFILE_ID&&(d="item_"+(_=o)),i+='<span id="item_'+o+'" is_add_new="0" vmp-item class="cp_profile_item" vmp-responsive="width, height, margin" PROFILE_ID="'+t[o].PROFILE_ID+'" PROFILE_TYPE="'+t[o].TYPE+'" PROFILE_INTERESTS="'+t[o].INTERESTS+'"><span class="cp_profile_item_avatar"><img src="'+t[o].AVATAR_IMG+'" onerror="showDefaultImage(this);"></span><span class="cp_profile_item_name" vmp-responsive="font-size">'+t[o].PROFILE_NAME+'</span><span class="cp_profile_item_edit"><img src="app-images/profile/edit_icon.png" style="width: 49px" vmp-responsive="width"></span>',2==t[o].TYPE&&(i+='<span class="cp_profile_item_kid"><img src="app-images/profile/tiny_kid_logo.png" style="width: 61px" vmp-responsive="width"></span>'),i+="</span>";var n="";ModuleManager.loadFile("clsLogBehaviorV2",function(){var e={action:"add"};n=clsLogBehaviorV2.addLogBehaviorParamString(e)},null,!0),t.length<g_profileList.max_profile&&(i+='<span id="item_'+o+'" is_add_new="1" vmp-item class="cp_profile_item add" '+n+' vmp-responsive="width, height, margin"><span class="cp_profile_item_avatar add"><img src="app-images/profile/add_btn.png" style="width: 112px" vmp-responsive="width"></span><span class="cp_profile_item_name" vmp-responsive="font-size">Thêm mới</span></span>'),$("#cp_profile_holder").html(i),e()})}),ModuleManager.loadFile("clsLogBehaviorV2",function(){var e={action:"edit",writeAction:1},e=(clsLogBehaviorV2.addLogBehaviorParam("profile_manage_btn",e),{action:"help"});clsLogBehaviorV2.addLogBehaviorParam("guide_btn",e)},null,!0),e;function y(){if(w(),1==l)S();else{if(null!=g_currentChosenProfileID){for(var e=!1,t=0;t<g_profileList.profiles.length;t++)if(g_profileList.profiles[t].PROFILE_ID==g_currentChosenProfileID){e=!0;break}if(e)return void switchProfile(g_currentChosenProfileID,0)}var i,o;isTizen()?(o=c,showConfirm({VMP:a,content:lang("common_exit_app"),button_ok_text:lang("common_popup_ok"),button_cancel_text:lang("common_popup_no"),init_item:0,onOKFn:function(){is_ss_back=!0,a.setActive(o),ModuleManager.loadFile("clsWebSocket",function(){clsWebSocket.closeWebSocket()},null,!0),tizen.application.getCurrentApplication().hide()},onCancelFn:function(){a.setActive(o)}})):isLG()?(i=c,showConfirm({VMP:a,content:lang("common_exit_app"),button_ok_text:lang("common_popup_ok"),button_cancel_text:lang("common_popup_no"),init_item:0,onOKFn:function(){unLoadDrmClientLG(),ModuleManager.loadFile("clsWebSocket",function(){clsWebSocket.closeWebSocket()},null,!0),window.close()},onCancelFn:function(){a.setActive(i)}})):isOtherTV()&&showConfirm({VMP:a,content:lang("common_exit_app"),button_ok_text:lang("common_popup_ok"),button_cancel_text:lang("common_popup_no"),init_item:0,onOKFn:function(){ModuleManager.loadFile("clsWebSocket",function(){clsWebSocket.closeWebSocket()},null,!0),window.close()},onCancelFn:function(){a.setActive(c)}})}}function o(e){for(var t=0;t<e.profiles.length;t++)""==e.profiles[t].AVATAR_IMG&&(e.profiles[t].AVATAR_IMG="app-images/profile/default_avatar.png")}function n(e){for(var t=0,i=0;i<e.length;i++)if(1==e[i].is_profile_default){t=i;break}m="item_"+t}function w(){var e;clearInterval(u),u=null,1!=l&&(e=g_profileList.profiles.length>=g_profileList.max_profile?"":"Vui lòng Thêm mới người dùng để trải nghiệm tính năng cá nhân hóa người dùng",$("#countdown_label").html(e).show())}function P(e,t){t=getParam(t,0),s=$("#"+e).attr("PROFILE_ID");$("#"+e).attr("PROFILE_TYPE"),$("#"+e).attr("PROFILE_INTERESTS");for(var i,o=null,n=0;n<g_profileList.profiles.length;n++)if(g_profileList.profiles[n].PROFILE_ID==s){o=g_profileList.profiles[n],0;break}1==o.TYPE&&gAppReview&&isLG()?(i=function(e){var t;g_profileList.profiles[n].PASSWORD=e,""==(C=e)?switchProfile(s):(e=o,t={wrap_obj_id:"password_keyboard",display_type:"horizontal",onLostFocusDownFn:function(e){a.setActive("forgot_pass")},onLostFocusUpFn:function(e){},onLostFocusRightFn:function(e){},onLostFocusLeftFn:function(e){},onItemFocusFn:function(e){},onItemLostFocusFn:function(e){},onItemClickFn:function(e){var t,e=e.getCurrentItem().itemId,i=$("#"+e).html();"btn_ok"==e?(t="",$("#input_num_pass").children().each(function(){t+=$(this).val()}),console.log(t),!(""==t||t.length<4)&&parseInt(t)==parseInt(C)?switchProfile(s):($("#input_num_pass input").addClass("wrong shake"),showAutoHideWarning("Mã PIN không đúng [WRONG]"),setTimeout(function(){$("#input_num_pass input").removeClass("wrong shake")},500))):x("btn_earse"==e?"":i)},onBackFn:function(e){I()},VMP:a},null==f?f=new clsFormView(t):f.setFocus("btn_1"),a.setActive("password_keyboard"),$("#input_num_"+b).addClass("active"),$("#popup_password_wr #profile_info_avatar").attr("src",e.AVATAR_IMG),$("#popup_password_wr #profile_info_name").html(e.PROFILE_NAME),$("#popup_password_wr").show(),a.disableMouseController())},ApiPost("profile/get-parent-lock",{data:{profile_update_id:s,profile_id:s},show_loading:!0,timeout:3e3},function(e){0==e.result?i(e.data):i("")},function(e){i("")})):switchProfile(s)}function A(){l=!0,$(".cp_profile_item_edit").show(),$(".cp_profile_item_avatar").addClass("edit_state"),$("#profile_manage_btn").html("Hoàn tất"),$("#countdown_label").html("Vui lòng chọn một người dùng để chỉnh sửa theo yêu cầu").addClass("important_show").show(),$("#cp_title_header").html("Chỉnh sửa thông tin người dùng")}function S(){var e;l=!1,$(".cp_profile_item_edit").hide(),$(".cp_profile_item_avatar").removeClass("edit_state"),$("#profile_manage_btn").html("Chỉnh sửa"),e=g_profileList.profiles.length>=g_profileList.max_profile?"":"Vui lòng Thêm mới người dùng để trải nghiệm tính năng cá nhân hóa người dùng",$("#countdown_label").html(e).show(),$("#cp_title_header").html("Những ai đang xem?")}function I(){$("#input_num_pass").children().each(function(){$(this).removeClass("active").val("")}),b=1,$("#popup_password_wr").hide(),a.setActive("cp_profile_holder"),a.enableMouseController()}function x(e){(5==b&&""==e?(b=4,$("#input_num_"+b).val(e)):($("#input_num_"+b).val(e).removeClass("active"),""==e?0==--b&&(b=1):5<(b+=1)&&(b=5),$("#input_num_"+b))).addClass("active")}},window.LoadingProfileController=function(){var t=new VMPFrame,i=(setKeyHandler(t),console.log("================================>>>>>>>>>> LoadingProfileController"),1),o=routerManager.getParam("isLoading",1),n=routerManager.getParam("profile_id",0);g_currentProfile=getCurrentProfileData(n),g_currentProfileType=g_currentProfile.TYPE,g_currentProfileID=n,g_currentChosenProfileID=n,isCalledProfileList=!1,$("#profile_avatar").attr("src",g_currentProfile.AVATAR_IMG),$("#profile_name").html(g_currentProfile.PROFILE_NAME),g_currentProfileType==GProfileType.KID?$(".cp_profile_item_kid").show():$(".cp_profile_item_kid").hide(),gDeviceAPI.readData("g_currentProfile",function(e){null===e?(i=1)==g_profileList.profiles.length&&(gAPIAuthen=getParam(getCurrentProfileAuthenURL(),gAuthenCtlData.authen_url),DOMAIN_AUTHEN[gDevMode.toUpperCase()]=checkDomain(gAuthenCtlData.domain,gAuthenCtlData.api_version),cacheRecommend.removeAll(),i=0):i=n==e.PROFILE_ID?0:1,1==(window._flagReauthenProfile=i)&&(window.hashtag="Tìm kiếm",firstOpenApp=!0,cacheRecommend.removeAll(),ModuleManager.loadFile("clsNotification",function(){objNotification.hasShowDataText=!1},null,!0)),1==o?($("body").css("background","#10151C"),t.display("#switch_profile_splash",function(){t.init(),setTimeout(function(){goToProfile(n,i)},2500)})):goToProfile(n,i)})};var clsSurvey={isShow:!(window.clsLogCjm={isLoadCJM:!1,onUserLogin:!1,init:function(){try{var e;$("head #cjm_lib_init").length||((e=document.createElement("script")).src=gConfig.getDomainAPI().slice(0,-3)+"bitmovin/cjmgw-1.0.0.init.js",e.id="cjm_lib_init",e.onload=function(){var e;$("head #cjm_lib").length||((e=document.createElement("script")).src=gConfig.getDomainAPI().slice(0,-3)+"bitmovin/cjmgw-1.0.0.js",e.id="cjm_lib",e.onload=function(){clsLogCjm.isLoadCJM=!0,clsLogCjm.initLib()},document.head.appendChild(e))},document.head.appendChild(e))}catch(e){console.error("Error CJM init",e)}},initLib:function(){try{"undefined"!=typeof cjm&&cjm&&(cjm.sysInfo={deviceMode:"TV_HTML5",appName:"MyTV",appVersion:gVersionApp,serialNumber:"",os:"Tizen",osVersion:"",deviceType:gDeviceType,deviceModel:getParam(gDeviceInfo.DeviceModel,"")})}catch(e){console.error("Error CJM init lib",e)}},sendLog:function(e,t,i){try{clsLogCjm.isLoadCJM||clsLogCjm.init(),1==gIsLogin&&0==clsLogCjm.onUserLogin&&(clsLogCjm.onUserLogin=!0,cjm.onUserLogin.push({Site:{Name:gDeviceInfo.Username,Identity:gDeviceInfo.Username}}));var o,n={};for(o in t)n[o]=t[o];console.warn("---CJM---",n),cjm.event.push(e,n),0==getParam(i,0)&&(window.gDataCJM={})}catch(e){console.error("Error CJM sendLog",e)}}}),keyword:"",isLoadhtml:!1,currentSurveyId:0,keyLocalSurvey:"key_support_survey",localSurvey:[],lstQuestionLocal:null,indexQuestion:0,data:null,objSurveyButton:null,objSelectSurvey:null,objSurveyButtonSuccess:null,lastActiveObj:"",pathImg:"",oldScreen:"",onComplete:null,isOffAppSurvey:0,fnOffApp:null,notification_id:"",getTemplate:function(){var e=SPA.convertScale(34),t=SPA.convertScale(72),i="",i=(i=(i=(i=(i=(i=(i=(i+='<div id="survey_wrapper" class="mask-with-bg" style="display: none;z-index: 5;">')+('<div class="common-dialog-wrap" style="padding-top:'+SPA.convertScale(60)+"px;width:45%; color: #101010; background: white; font-size:"+e+'px;" vmp-responsive="font-size" >')+('<img src="'+clsSurvey.pathImg+'checktop.png" style="margin: 0 auto; display: block; margin-bottom: 5%;width:'+t+'px;">'))+'<div style="text-align: justify;">'+'<a id="question_holder" style="font-weight: bold;"></a><br>')+"</div>"+'<div class="survey_answer_wrapper" id="survey_container" vmp-style="selected:focused2" style="font-size: 85%;">')+"</div>"+'<div id="survey_button_wr" vmp-style="selected:focused2" style="position: relative; width: 100%;font-size: 83%;">')+'<div id="survey_button_previous" class="btn btn-dialog btn-dialog-half" vmp-item vmp-responsive="height"  style="width: 22.2%; background: #d1d1d1; color: #101010; margin-right: 1%">Trước đó</div>'+'<div id="survey_button_next" class="btn btn-dialog btn-dialog-half" vmp-item vmp-responsive="height"  style="width: 22.2%; background: #d1d1d1;color: #101010; margin-right: 1%">Tiếp tục </div>')+'<div id="survey_button_exit" class="btn btn-dialog btn-dialog-half" vmp-item vmp-responsive="height" style="width: 22.2%; background: #d1d1d1; color: #101010; margin-right: 1%"> Thoát </div>'+"</div>")+"</div>"+"</div>";$("body #survey_wrapper").length&&$("body #survey_wrapper").remove(),$("body").append(i)},getTemplateSuccess:function(e){var t=SPA.convertScale(34),i=(e=getParam(e,"Gửi kết quả lên Server thành công"),""),i=(i=(i=(i=(i=(i+='<div id="survey_wrapper" class="mask-with-bg" style="display: none;z-index: 1;">')+('<div class="common-dialog-wrap" style="padding-top: 60px;width: 35%; color: #101010; background: white; font-size:'+t+'px;" vmp-responsive="font-size" >')+('<img src="'+clsSurvey.pathImg+'like.png" style="margin: 0 auto; display: block; margin-bottom: 5%">'))+'<div class="survey_answer_wrapper" id="survey_container" vmp-style="selected:focused2" style="text-align: center;font-size: 85%;">'+e)+"</div>"+'<div id="survey_button_wr_success" vmp-style="selected:focused2" style="position: relative; width: 100%;font-size: 83%;">')+'<div id="survey_button_success" class="btn btn-dialog" vmp-item vmp-responsive="height"  style="background: #d1d1d1; color: #101010; margin-right: 1%">OK</div>'+"</div>")+"</div>"+"</div>";$("body #survey_wrapper").length&&$("body #survey_wrapper").remove(),$("body").append(i)},getLocalSurvey:function(){gDeviceAPI.readData(this.keyLocalSurvey+g_currentProfile.PROFILE_ID,function(e){clsSurvey.localSurvey=null===e?[]:e})},buildTempleListSurveyOptions:function(e){console.info(e);var t=!1;if(1==e.question_type)for(var i,o=this.getOldChoiceIndex(e,1),n="",a=(0<o.length?(i=o[0],1<o.length&&(n=o[1])):i=-1,""),r=SPA.convertScale(28),l=0;l<e.choices.length;l++){var s=0;l==i&&(t=!0,s=1),1==(u=e.choices[l]).choice_type?a=(a=(a+='<div id="answer_'+l+'" is_other="0" is_use="'+s+'" question_id="'+u.question_id+'" question_text="'+e.question_text+'" question_choice_id="'+u.question_choice_id+'" question_choice_text="'+u.choice_text+'" class="item-dialog" vmp-item vmp-responsive="" style="color: black; background: #d1d1d1; margin-top: 3%">')+' <span style="overflow-x: hidden;width: 90%;display: inline-block">'+u.choice_text+"</span>")+(1==s?'<span style="float: right"><img style="width:'+r+'px;" src="'+clsSurvey.pathImg+'opt_icon_acitve.png"></span>':'<span style="float: right"><img style="width:'+r+'px;" src="'+clsSurvey.pathImg+'opt_icon.png"></span>')+"</div>":(SPA.convertScale(30),""==n&&(n=truncateV2(u.choice_text,35)),a+='<div id="answer_'+l+'" is_other="1" is_use="'+s+'" question_id="'+u.question_id+'" question_text="'+e.question_text+'" question_choice_id="'+u.question_choice_id+'" question_choice_text="'+u.choice_text+'" class="item-dialog" style="height:100px;background:#d1d1d1;color:#101010;margin-top: 3%" vmp-item vmp-responsive="">'+n+"</div>")}else for(var c=this.getOldChoiceIndex(e,2),a=(console.info(c),""),r=SPA.convertScale(28),l=0;l<e.choices.length;l++){var u=e.choices[l],s=0;0<c.length&&0<=c.indexOf(l)&&(s=1,t=!0),a=(a=(a+='<div id="answer_'+l+'" is_use="'+s+'" question_id="'+u.question_id+'" question_text="'+e.question_text+'" question_choice_id="'+u.question_choice_id+'" question_choice_text="'+u.choice_text+'" class="item-dialog" vmp-item vmp-responsive="" style="color: black; background: #d1d1d1; margin-top: 4%">')+(' <span style="overflow-x: hidden;width: 90%;display: inline-block">'+u.choice_text+"</span>"))+(1==s?'<span style="float: right"><img style="width:'+r+'px;" src="'+clsSurvey.pathImg+'check_icon_focus.png"></span>':'<span style="float: right"><img style="width:'+r+'px;" src="'+clsSurvey.pathImg+'check_icon.png"></span>')+"</div>"}this.indexQuestion>=this.data.questions.length-1?$("#survey_button_next").html("Hoàn thành"):$("#survey_button_next").html("Tiếp tục"),t?($("#survey_button_next").css("color","rgb(16, 16, 16)"),$("#survey_button_next").attr("can_click","1")):($("#survey_button_next").css("color","#909090"),$("#survey_button_next").attr("can_click","0")),0!=this.indexQuestion?($("#survey_button_previous").css("color","rgb(16, 16, 16)"),$("#survey_button_previous").attr("can_click","1")):($("#survey_button_previous").css("color","#909090"),$("#survey_button_previous").attr("can_click","0")),$("#survey_button_next").attr("question_id",e.question_id),$("#survey_button_next").attr("question_type",e.question_type),$("#survey_button_next").attr("question_text",e.question_text),$("#question_holder").html(e.question_text),$("#survey_container").html(a)},getOldChoiceIndex:function(e,t){if(1==t){for(var i=[],o=0;o<this.localSurvey.length;o++)if(this.localSurvey[o].survey_id==this.currentSurveyId)for(var n=0;n<this.localSurvey[o].questions.length;n++)if(this.localSurvey[o].questions[n].question_id==e.question_id){i=getParam(this.localSurvey[o].questions[n].question_choices,[]);break}var a=[];if(0<i.length)for(o=0;o<e.choices.length;o++)if(e.choices[o].question_choice_id==i[0].question_choice_id){a=0==i[0].is_other?[o]:[o,i[0].question_choice_text];break}return console.info(a),a}for(i=[],o=0;o<this.localSurvey.length;o++)if(this.localSurvey[o].survey_id==this.currentSurveyId)for(n=0;n<this.localSurvey[o].questions.length;n++)if(this.localSurvey[o].questions[n].question_id==e.question_id){i=getParam(this.localSurvey[o].questions[n].question_choices,[]);break}var r=[];if(0<i.length)for(o=0;o<e.choices.length;o++)for(n=0;n<i.length;n++)e.choices[o].question_choice_id==i[n].question_choice_id&&r.push(o);return console.info(r),r},reDefineSetActive:function(){},init:function(e,t,i){this.pathImg=ModuleManager.getTemplatePath()+"v2/images/interactive_tv/",this.currentSurveyId=t,this.data=e,this.getTemplate(),this.getLocalSurvey();e=(i=getParam(i,!1))?0:1100;console.info(this.data);for(var o,n=this.indexQuestion=0;n<this.localSurvey.length;n++)if(this.localSurvey[n].survey_id==t){this.lstQuestionLocal=this.localSurvey[n],this.indexQuestion=this.lstQuestionLocal.last_index;break}null!=this.data.questions&&0<this.data.questions.length?(o=this.data.questions[this.indexQuestion],this.buildTempleListSurveyOptions(o),this.createObjSelectSurvey(),this.createObjSurveyButton(),setTimeout(function(){var e;APP_CURRENT_STATE!=APP_STATE.POPUP&&(e=$("#menu_homepage_1").css("transform"),null!=(e=getParam(e,null))&&0<parseInt(e.split(",")[4])&&(e=SPA.screenWidth/10*6,transformMenu({element:"#menu_homepage #menu_homepage_1",transform:"translateX(-"+e+"px)",transition:1,duration:0})),getShortURL()!=clsSurvey.oldScreen&&0==i?console.info(" -- oldScreen sai --- "+clsSurvey.oldScreen):(console.info(" -- oldScreen đúng --- "+clsSurvey.oldScreen),clsSurvey.lastActiveObj=gVMPCurrentActive,clsSurvey.isShow=!0,$("#survey_wrapper").show(),VMP.setActive("survey_container"),SPA.enable(),APP_CURRENT_STATE=APP_STATE.POPUP,pausePromoVideo()))},e)):SPA.enable()},createObjSelectSurvey:function(){this.objSelectSurvey?(this.objSelectSurvey.resetData(),this.objSelectSurvey.currentIndex=0,this.objSelectSurvey.currentMouseIndex=0,window.VMP.register(this.objSelectSurvey)):this.objSelectSurvey=new clsFormView({wrap_obj_id:"survey_container",display_type:"vertical",onItemFocusFn:function(e){e=e.getCurrentItem().itemId;$("#"+e).css("color","white"),$("#"+e).css("background","#ec800c")},onItemLostFocusFn:function(e){e=e.getCurrentItem().itemId;$("#"+e).css("color","#101010"),$("#"+e).css("background","#d1d1d1")},onLostFocusDownFn:function(e){VMP.setActive("survey_button_wr")},onItemClickFn:function(e){var t=e.getCurrentItem().itemId,i=$("#survey_button_next").attr("question_type");1==i?1==$("#"+t).attr("is_other")?clsSurvey.showKeyboardAction(t,function(e){""==e?$("#"+t).attr("is_use",0):$("#"+t).attr("is_use",1),VMP.setActive("survey_container"),clsSurvey.unCheckOther(t,i),clsSurvey.disableButtonNext()},function(e){""==e?$("#"+t).attr("is_use",0):$("#"+t).attr("is_use",1),VMP.setActive("survey_container"),clsSurvey.unCheckOther(t,i),clsSurvey.disableButtonNext()},function(){VMP.setActive("survey_container"),clsSurvey.unCheckOther(t,i),clsSurvey.disableButtonNext()}):(0==$("#"+t).attr("is_use")&&($("#"+t+" span img").attr("src",clsSurvey.pathImg+"opt_icon_acitve.png"),$("#"+t).attr("is_use",1)),clsSurvey.keyword="",clsSurvey.unCheckOther(t,i),clsSurvey.disableButtonNext()):(1==$("#"+t).attr("is_use")?($("#"+t+" span img").attr("src",clsSurvey.pathImg+"check_icon.png"),$("#"+t).attr("is_use",0)):($("#"+t+" span img").attr("src",clsSurvey.pathImg+"check_icon_focus.png"),$("#"+t).attr("is_use",1)),clsSurvey.disableButtonNext())},onBackFn:function(e){$("#survey_wrapper").hide(),clsSurvey.isShow=!1,VMP.setActive(clsSurvey.lastActiveObj),APP_CURRENT_STATE=APP_STATE.NORMAL,1==clsSurvey.isOffAppSurvey?(clsSurvey.isOffAppSurvey=0,clsSurvey.fnOffApp&&clsSurvey.fnOffApp()):resumePromoVideo()},VMP:window.VMP})},createObjSurveyButton:function(){this.objSurveyButton?(this.objSurveyButton.resetData(),this.objSurveyButton.currentIndex=0,this.objSurveyButton.currentMouseIndex=0,this.objSurveyButton.lostFocus(),this.objSurveyButton.currentIndex=2,this.objSurveyButton.currentMouseIndex=2,this.objSurveyButton.lostFocus(),this.objSurveyButton.currentIndex=1,this.objSurveyButton.currentMouseIndex=1,window.VMP.register(this.objSurveyButton)):(this.objSurveyButton=new clsFormView({wrap_obj_id:"survey_button_wr",display_type:"horizontal",onLostFocusUpFn:function(e){VMP.setActive("survey_container")},onItemFocusFn:function(e){e=e.getCurrentItem().itemId;$("#"+e).css("color","white"),$("#"+e).css("background","#ec800c")},onItemLostFocusFn:function(e){e=e.getCurrentItem().itemId;0==getParam($("#"+e).attr("can_click"),1)?$("#"+e).css("color","#909090"):$("#"+e).css("color","#101010"),$("#"+e).css("background","#d1d1d1")},onItemClickFn:function(e){e=e.getCurrentItem().itemId;if("survey_button_previous"==e&&0<clsSurvey.indexQuestion&&(clsSurvey.indexQuestion--,clsSurvey.updateSurvey($("#survey_button_next").attr("question_type")),clsSurvey.buildTempleListSurveyOptions(clsSurvey.data.questions[clsSurvey.indexQuestion]),clsSurvey.createObjSelectSurvey(),clsSurvey.createObjSurveyButton(),$("#survey_wrapper").show(),VMP.setActive("survey_container")),"survey_button_next"==e){if(0==$("#survey_button_next").attr("can_click"))return;clsSurvey.indexQuestion<clsSurvey.data.questions.length-1?(clsSurvey.indexQuestion++,clsSurvey.updateSurvey($("#survey_button_next").attr("question_type")),clsSurvey.buildTempleListSurveyOptions(clsSurvey.data.questions[clsSurvey.indexQuestion]),clsSurvey.createObjSelectSurvey(),clsSurvey.createObjSurveyButton(),$("#survey_wrapper").show(),VMP.setActive("survey_container")):(clsSurvey.updateSurvey($("#survey_button_next").attr("question_type")),setTimeout(function(){clsSurvey.saveDataToServer()},0))}"survey_button_exit"==e&&(clsSurvey.updateSurvey($("#survey_button_next").attr("question_type")),console.info(clsSurvey.localSurvey),gDeviceAPI.writeData(clsSurvey.keyLocalSurvey+g_currentProfile.PROFILE_ID,JSON.stringify(clsSurvey.localSurvey)),$("#survey_wrapper").hide(),clsSurvey.isShow=!1,VMP.setActive(clsSurvey.lastActiveObj),APP_CURRENT_STATE=APP_STATE.NORMAL,1==clsSurvey.isOffAppSurvey?(clsSurvey.isOffAppSurvey=0,clsSurvey.fnOffApp&&clsSurvey.fnOffApp()):resumePromoVideo())},onBackFn:function(e){$("#survey_wrapper").hide(),clsSurvey.isShow=!1,VMP.setActive(clsSurvey.lastActiveObj),APP_CURRENT_STATE=APP_STATE.NORMAL,1==clsSurvey.isOffAppSurvey?(clsSurvey.isOffAppSurvey=0,clsSurvey.fnOffApp&&clsSurvey.fnOffApp()):resumePromoVideo()},VMP:window.VMP}),this.objSurveyButton.currentIndex=1,this.objSurveyButton.currentMouseIndex=1)},createObjSuccess:function(){this.objSurveyButtonSuccess?(this.objSurveyButtonSuccess.resetData(),window.VMP.register(this.objSurveyButtonSuccess)):this.objSurveyButtonSuccess=new clsFormView({wrap_obj_id:"survey_button_wr_success",display_type:"horizontal",onLostFocusUpFn:function(e){},onItemFocusFn:function(e){e=e.getCurrentItem().itemId;$("#"+e).css("color","white"),$("#"+e).css("background","#ec800c")},onItemLostFocusFn:function(e){},onItemClickFn:function(e){$("#survey_wrapper").hide(),clsSurvey.isShow=!1,VMP.setActive(clsSurvey.lastActiveObj),APP_CURRENT_STATE=APP_STATE.NORMAL,1==clsSurvey.isOffAppSurvey?(clsSurvey.isOffAppSurvey=0,clsSurvey.fnOffApp&&clsSurvey.fnOffApp()):(clsSurvey.onComplete&&(clsSurvey.onComplete(),clsSurvey.onComplete=null),resumePromoVideo())},onBackFn:function(e){$("#survey_wrapper").hide(),clsSurvey.isShow=!1,VMP.setActive(clsSurvey.lastActiveObj),APP_CURRENT_STATE=APP_STATE.NORMAL,1==clsSurvey.isOffAppSurvey?(clsSurvey.isOffAppSurvey=0,clsSurvey.fnOffApp&&clsSurvey.fnOffApp()):(clsSurvey.onComplete&&(clsSurvey.onComplete(),clsSurvey.onComplete=null),resumePromoVideo())},VMP:window.VMP})},unCheckOther:function(e,t){for(var i=$("#"+e).siblings(),o=0;o<i.length;o++){var n=i[o].id;null!=n&&""!=n&&(1!=getParam(t,1)||0==getParam($("#"+n).attr("is_other"),0)?($("#"+n+" span img").attr("src",clsSurvey.pathImg+"opt_icon.png"),$("#"+n).attr("is_use",0)):($("#"+n).attr("is_use",0),$("#"+n).html($("#"+n).attr("question_choice_text"))))}},disableButtonNext:function(){for(var e=$("#survey_container").children(),t=!1,i=0;i<e.length;i++)if(1==$(e[i]).attr("is_use")){t=!0;break}t?($("#survey_button_next").css("color","#101010"),$("#survey_button_next").attr("can_click","1")):($("#survey_button_next").css("color","#909090"),console.info($("#survey_button_next").css("color")),$("#survey_button_next").attr("can_click","0"))},updateSurvey:function(e){if(1==e){for(var t=0,i=0,o="",n="",a=0,r=$("#survey_container").children(),l=0;l<r.length;l++)if(1==$(r[l]).attr("is_use")){t=$(r[l]).attr("question_choice_id"),o=$(r[l]).attr("question_text"),n=0==(a=$(r[l]).attr("is_other"))?$(r[l]).attr("question_choice_text"):$(r[l]).html();break}i=$("#survey_button_next").attr("question_id");var s=$("#survey_button_next").attr("question_type");this.updateSurveyData(i,t,o,n,s,a)}else{for(var c,u=[],p=[],r=$("#survey_container").children(),l=0;l<r.length;l++)1==$(r[l]).attr("is_use")&&(u.push($(r[l]).attr("question_choice_id")),c=$(r[l]).attr("question_choice_text"),p.push(c));console.info(u,p);s=$("#survey_button_next").attr("question_type"),i=$("#survey_button_next").attr("question_id"),o=$("#survey_button_next").attr("question_text");console.info(i,u,o,p),this.updateSurveyDataMulti(i,u,o,p,s)}},updateSurveyDataMulti:function(e,t,i,o,n){for(var a=!1,r=[],l=0;l<t.length;l++)r.push({question_choice_id:t[l],question_choice_text:o[l]});for(var s=0;s<this.localSurvey.length;s++)if(this.localSurvey[s].survey_id==this.currentSurveyId){for(var a=!0,c=!1,u=0;u<this.localSurvey[s].questions.length;u++)this.localSurvey[s].questions[u].question_id==e&&(c=!0,this.localSurvey[s].questions[u].question_choices=r,this.localSurvey[s].questions[u].question_type=n,this.localSurvey[s].last_index=this.indexQuestion,this.localSurvey[s].survey_text=this.data.survey_name);c||(this.localSurvey[s].questions.push({question_id:e,question_text:i,question_type:n,question_choices:r}),this.localSurvey[s].last_index=this.indexQuestion,this.localSurvey[s].survey_text=this.data.survey_name)}a||this.localSurvey.push({survey_id:this.currentSurveyId,vpoint:this.data.vpoint,survey_text:this.data.survey_name,last_index:0,is_submit:0,questions:[{question_id:e,question_text:i,question_type:n,question_choices:r}]}),console.info(this.localSurvey),gDeviceAPI.writeData(this.keyLocalSurvey+g_currentProfile.PROFILE_ID,JSON.stringify(this.localSurvey))},updateSurveyData:function(e,t,i,o,n,a){var r=!1,l=[];l.push({question_choice_id:t,question_choice_text:o,is_other:a});for(var s=0;s<this.localSurvey.length;s++)if(this.localSurvey[s].survey_id==this.currentSurveyId){for(var r=!0,c=!1,u=0;u<this.localSurvey[s].questions.length;u++)this.localSurvey[s].questions[u].question_id==e&&(c=!0,this.localSurvey[s].questions[u].question_choices=l,this.localSurvey[s].questions[u].question_type=n,this.localSurvey[s].last_index=this.indexQuestion,this.localSurvey[s].survey_text=this.data.survey_name);c||(this.localSurvey[s].questions.push({question_id:e,question_text:i,question_type:n,question_choices:l}),this.localSurvey[s].last_index=this.indexQuestion,this.localSurvey[s].survey_text=this.data.survey_name)}r||this.localSurvey.push({survey_id:this.currentSurveyId,vpoint:this.data.vpoint,survey_text:this.data.survey_name,last_index:0,is_submit:0,questions:[{question_id:e,question_text:i,question_type:n,question_choices:l}]}),console.info(this.localSurvey),gDeviceAPI.writeData(this.keyLocalSurvey+g_currentProfile.PROFILE_ID,JSON.stringify(this.localSurvey))},updateSurveySubmit:function(){for(var e=0;e<this.localSurvey.length;e++)if(this.localSurvey[e].survey_id==this.currentSurveyId){this.localSurvey[e].is_submit=1;break}gDeviceAPI.writeData(this.keyLocalSurvey+g_currentProfile.PROFILE_ID,JSON.stringify(this.localSurvey)),this.getLocalSurvey()},saveDataToServer:function(){this.getLocalSurvey();for(var e,t=null,i=0;i<this.localSurvey.length;i++)if(this.localSurvey[i].survey_id==this.currentSurveyId){t=this.localSurvey[i];break}t?(e=[t],e={data:{answer_data:JSON.stringify(e),interactive_platform:"HTML5"},show_loading:!0,service_server:"gateway",connect_type:"POST"},ApiPost("api/v1/interactive/survey-response",e,function(e){0==e.result?(clsSurvey.sendDataVpoint(t),""!=clsSurvey.notification_id&&gDeviceAPI.readData("surveyNotiList"+g_currentProfile.PROFILE_ID,function(e){e=null==e?","+clsSurvey.notification_id:e+","+clsSurvey.notification_id,gDeviceAPI.writeData("surveyNotiList"+g_currentProfile.PROFILE_ID,JSON.stringify(e))}),clsSurvey.updateSurveySubmit(),clsSurvey.getTemplateSuccess(e.message),clsSurvey.createObjSuccess(),$("#survey_wrapper").show(),VMP.setActive("survey_button_wr_success")):showConfirm({VMP:VMP,content:e.message,button_ok_text:lang("common_popup_retry"),button_cancel_text:lang("common_popup_cancel"),onOKFn:function(){clsSurvey.saveDataToServer()},onCancelFn:function(){$("#survey_wrapper").hide(),clsSurvey.isShow=!1,VMP.setActive(clsSurvey.lastActiveObj),APP_CURRENT_STATE=APP_STATE.NORMAL,1==clsSurvey.isOffAppSurvey?(clsSurvey.isOffAppSurvey=0,clsSurvey.fnOffApp&&clsSurvey.fnOffApp()):resumePromoVideo()}})},function(e){showConfirm({VMP:VMP,content:lang("common_error_message"),button_ok_text:lang("common_popup_retry"),button_cancel_text:lang("common_popup_back"),onOKFn:function(){clsSurvey.saveDataToServer()},onCancelFn:function(){$("#survey_wrapper").hide(),clsSurvey.isShow=!1,VMP.setActive(clsSurvey.lastActiveObj),APP_CURRENT_STATE=APP_STATE.NORMAL,1==clsSurvey.isOffAppSurvey?(clsSurvey.isOffAppSurvey=0,clsSurvey.fnOffApp&&clsSurvey.fnOffApp()):resumePromoVideo()}})})):($("#survey_wrapper").hide(),clsSurvey.isShow=!1,VMP.setActive(clsSurvey.lastActiveObj),APP_CURRENT_STATE=APP_STATE.NORMAL,1==clsSurvey.isOffAppSurvey?(clsSurvey.isOffAppSurvey=0,clsSurvey.fnOffApp&&clsSurvey.fnOffApp()):resumePromoVideo())},sendDataVpoint:function(e){try{var t;e&&(t={data:{vpoint_name:e.survey_text,vpoint_point:e.vpoint,vpoint_type:2,vpoint_id:e.survey_id},show_loading:!1},ApiPost("vpoint/add-interactive",t,function(e){console.log("--Vpoint Success---",e)},function(e){console.log("--Vpoint error---",e)}))}catch(e){}},showKeyboardAction:function(t,i,o,e){var n={VMP:VMP,VMP:VMP,password:null,title:"Nhập nội dung",mode:"action",keyword:clsSurvey.keyword,title_ok:"OK",onOKFn:function(e){clsSurvey.keyword=e,$("#"+t).html(clsSurvey.keyword),i&&i(clsSurvey.keyword)},onCancelFn:function(e){o&&o(e)},onChangeFn:function(e){},onBackFn:function(){e&&e(),ModuleManager.loadFile("clsWebSocket",function(){var e=SPA.getCurrentPath();clsWebSocket.emitHideKeyBoard(e)},null,!0)}};showKeyboard(n),ModuleManager.loadFile("clsWebSocket",function(){var e=SPA.getCurrentPath();clsWebSocket.emitShowKeyBoard(e,"",clsSurvey.keyword)},null,!0)},checkSurveyModule:function(t){this.oldScreen=getShortURL();try{if(APP_CURRENT_STATE!=APP_STATE.POPUP&&!_leftMenuFnc._isShownLeftmenu){SPA.disable(),t=getParam(t,null);var i=[];if(gDeviceAPI.readData("key_module_survey"+g_currentProfile.PROFILE_ID,function(e){i=null===e||null==e||"null"==e||"false"==e?[]:e}),0==i.length)SPA.enable();else{var e=getShortURL(),o=(console.log("--pathURL--"+e),["channel","hbo","4k","tvod","movie","fimplus","livestream","clip","danet","specialModule"]),n=["channel-list","movieList","hboList","hboChannel","fimplusList","danetList","clip-detail","playlistHome","specialModuleList"],a=["movieDetail","hboDetail","clip-detail-v2"];if("home"==(e="homeNewUI"==e?"home":e)){for(var r=null,l=0;l<i.length;l++)if(1==getParam(i[l].is_exit_app,0))console.info("[DHSX Survey]---Other is_exit_app----",i[l].is_exit_app);else if(0==getParam(i[l].is_dhsx,0))console.info("[DHSX Survey]---is_dhsx----",i[l].is_dhsx);else{if(1!=(v=this.isShowLimitDHSX(i[l].config_id,i[l].show_limit,i[l].screen_level,0))){r=i[l];break}console.info("[DHSX Survey]---Other is_exit_app----",i[l].is_exit_app)}if(r)return s={data:{interactive_config_id:r.config_id,survey_id:r.interactive_id,manufacturer_id:gDeviceInfo.ManufacturerID,interactive_platform:"HTML5"},service_server:"gateway",connect_type:"POST"},c="api/v1/interactive/survey/"+r.interactive_id+"?t="+Math.random(),void ApiPost(c,s,function(e){0==e.result&&(e=e.data)?clsSurvey.init(e,e.survey_id):SPA.enable(),null!=t&&t()},function(){SPA.enable(),null!=t&&t()})}for(var s,c,u=null,p=(this.getLocalSurvey(),0),l=0;l<i.length;l++)if(u=null,1==getParam(i[l].is_exit_app,0))console.info("[Survey]---Other is_exit_app----",i[l].is_exit_app);else if(1==getParam(i[l].is_dhsx,0))console.info("[Survey]---is_dhsx----",i[l].is_dhsx);else if(2!=i[l].interactive_type)console.info("[Survey]---Other interactive_type----",i[l].interactive_id);else{for(var m=!1,d=0;d<this.localSurvey.length;d++)this.localSurvey[d].survey_id==i[l].interactive_id&&1==this.localSurvey[d].is_submit&&(m=!0);if(m)console.info("[Survey]---hasSubmit---",i[l].interactive_id);else{var g=i[l].screen_level;if(0==g){if("home"!=e)continue;if(i[l].show_limit<=0)continue}if(1!=g||-1!=o.indexOf(e))if(2!=g||-1!=n.indexOf(e))if(3!=g||-1!=a.indexOf(e))if(new Date(i[l].expire_date)<new Date)console.info("[Survey]---expire_date---",i[l].interactive_id);else{for(var h=0;h<i[l].modules.length;h++)if(0==g){var p=h,_=this.isShowTime(i[l]);if(v=0==i[l].screen_level?this.isShowLimit(i[l].config_id,i[l].show_limit,i[l].screen_level,0):this.isShowLimit(i[l].config_id,i[l].modules[p].show_limit,i[l].screen_level,i[l].modules[p].module_id),1==_&&0==v){u=i[l];break}}else if(1==g||2==g||3==g)if(i[l].modules[h].module_id==_leftMenuFnc.getCurrentModuleID()){var v,_=this.isShowTime(i[l]);if(v=0==i[l].screen_level?this.isShowLimit(i[l].config_id,i[l].show_limit,i[l].screen_level,0):this.isShowLimit(i[l].config_id,i[l].modules[p].show_limit,i[l].screen_level,i[l].modules[p].module_id),1==_&&0==v){u=i[l];break}}if(u){console.info("[Survey]---break 2---",i[l].interactive_id);break}}}}u?(s={data:{interactive_config_id:u.config_id,survey_id:u.interactive_id,manufacturer_id:gDeviceInfo.ManufacturerID,interactive_platform:"HTML5"},service_server:"gateway",connect_type:"POST"},c="api/v1/interactive/survey/"+u.interactive_id+"?t="+Math.random(),ApiPost(c,s,function(e){0!=e.result?(SPA.enable(),showConfirm({VMP:VMP,content:e.message,button_ok_text:lang("common_popup_retry"),button_cancel_text:lang("common_popup_cancel"),onOKFn:function(){clsSurvey.checkSurveyModule(t)},onCancelFn:function(){null!=t&&t()}})):((e=e.data)?clsSurvey.init(e,e.survey_id):SPA.enable(),null!=t&&t())},function(){SPA.enable(),null!=t&&t()})):(SPA.enable(),null!=t&&t())}}}catch(e){console.error(e),SPA.enable(),null!=t&&t()}},isShowLimitDHSX:function(e,t,i,o){for(var n=[],a=(gDeviceAPI.readData("key_limit_survey_dhsx"+g_currentProfile.PROFILE_ID,function(e){n=null===e?[]:e}),!1),r=!1,l=0;l<n.length;l++)if(n[l].config_id==e){if(0==n[l].screen_level){a=!0,r=n[l].show_limit>=t||(n[l].show_limit++,!1);break}if(n[l].module_id==o){a=!0,r=n[l].show_limit>=t||(n[l].show_limit++,!1);break}}return a||(r=!1,n.push({config_id:e,screen_level:i,show_limit:1,module_id:o})),gDeviceAPI.writeData("key_limit_survey_dhsx"+g_currentProfile.PROFILE_ID,JSON.stringify(n)),console.info("isLimit DHSX",r),r},isShowLimit:function(e,t,i,o){for(var n=[],a=(gDeviceAPI.readData("key_limit_survey"+g_currentProfile.PROFILE_ID,function(e){n=null===e?[]:e}),!1),r=!1,l=0;l<n.length;l++)if(n[l].config_id==e){if(0==n[l].screen_level){a=!0,r=n[l].show_limit>=t||(n[l].show_limit++,!1);break}if(n[l].module_id==o){a=!0,r=n[l].show_limit>=t||(n[l].show_limit++,!1);break}}return a||(r=!1,n.push({config_id:e,screen_level:i,show_limit:1,module_id:o})),gDeviceAPI.writeData("key_limit_survey"+g_currentProfile.PROFILE_ID,JSON.stringify(n)),console.info("isLimit",r),r},isShowTime:function(e){for(var t=!1,i=getTimeServer(),o=getParam(e.date_range,[]),n=0;n<o.length;n++){var a=o[n],r=createDateFromDates(a.from,0,0,0),a=createDateFromDates(a.to,23,59,59);if(r<=i&&i<=a)for(var l=getParam(e.time_range,[]),s=0;s<l.length;s++){var c=l[s],u=createDateFromHour(c.from),c=createDateFromHour(c.to);if(u<=i&&i<=c){t=!0;break}}}return console.info("--inShowTime--",t),t},hide:function(){this.updateSurvey($("#survey_button_next").attr("question_type")),gDeviceAPI.writeData(this.keyLocalSurvey+g_currentProfile.PROFILE_ID,JSON.stringify(this.localSurvey)),$("#survey_wrapper").hide(),this.isShow=!1,this.isOffAppSurvey=0,VMP.setActive(clsSurvey.lastActiveObj),APP_CURRENT_STATE=APP_STATE.NORMAL,resumePromoVideo()},checkOffApp:function(e,t,i){if(APP_CURRENT_STATE!=APP_STATE.POPUP){SPA.disable(),e=getParam(e,null);var o=[];if(gDeviceAPI.readData("key_module_survey"+g_currentProfile.PROFILE_ID,function(e){o=null===e||null==e||"null"==e||"false"==e?[]:e}),0==o.length)null!=e&&e(),SPA.enable();else{var n=null;this.getLocalSurvey();for(var a=0;a<o.length;a++)if(1!=getParam(o[a].is_exit_app,0))console.info("[Survey OffApp]---Other is_exit_app----",o[a].is_exit_app);else if(new Date(o[a].expire_date)<new Date)console.info("[Survey OffApp]---expire_date---",o[a].interactive_id);else{var r=this.isShowTime(o[a]);if(r){n=o[a];break}console.info("[Survey OffApp]---not isShowTime---",r)}n?ModuleManager.loadFile("clsExitApp",function(){var e={VMP:VMP,onExitFn:function(){i&&i()},onSurveyFn:function(){clsSurvey.apiGetSurvey(n,t,i)},onBackFn:function(){VMP.setActive(t)}};(clExitApp=clExitApp||new clsExitApp).setParam(e),clExitApp.show(),VMP.setActive(clExitApp.getName()),SPA.enable()},function(){SPA.enable(),null!=e&&e()},!0):(SPA.enable(),null!=e&&e())}}},apiGetSurvey:function(t,i,o){var e={data:{interactive_config_id:t.config_id,survey_id:t.interactive_id,manufacturer_id:gDeviceInfo.ManufacturerID,interactive_platform:"HTML5"},service_server:"gateway",connect_type:"POST"},n="api/v1/interactive/survey/"+t.interactive_id+"?t="+Math.random();ApiPost(n,e,function(e){0!=e.result?(SPA.enable(),showConfirm({VMP:VMP,content:e.message,button_ok_text:lang("common_popup_retry"),button_cancel_text:lang("common_popup_cancel"),onOKFn:function(){clsSurvey.apiGetSurvey(t,i,o)},onCancelFn:function(){VMP.setActive(i)}})):(e=e.data)?(clsSurvey.fnOffApp=o,clsSurvey.isOffAppSurvey=1,clsSurvey.init(e,e.survey_id)):(showAutoHideWarning("Không lấy được dữ liệu khảo sát!"),SPA.enable(),VMP.setActive(i))},function(){showAutoHideWarning("Không lấy được dữ liệu khảo sát!"),SPA.enable(),VMP.setActive(i)})},apiGetSurveyNotification:function(t,i){var e={data:{survey_id:t,manufacturer_id:gDeviceInfo.ManufacturerID,interactive_platform:"HTML5"},service_server:"gateway",connect_type:"POST"},o="api/v1/interactive/survey/"+t+"?t="+Math.random();ApiPost(o,e,function(e){0!=e.result?(SPA.enable(),showConfirm({VMP:VMP,content:e.message,button_ok_text:lang("common_popup_retry"),button_cancel_text:lang("common_popup_cancel"),onOKFn:function(){clsSurvey.apiGetSurveyNotification(t)},onCancelFn:function(){window.VMP.setActive(gVMPCurrentActive)}})):(e=e.data)?(clsSurvey.notification_id=i,clsSurvey.init(e,e.survey_id)):(showAutoHideWarning("Không lấy được dữ liệu khảo sát!"),SPA.enable(),window.VMP.setActive(gVMPCurrentActive))},function(){showAutoHideWarning("Không lấy được dữ liệu khảo sát!"),SPA.enable(),window.VMP.setActive(gVMPCurrentActive)})}};function setReferRemoteController(){ModuleManager.loadFile("clsLogBehavior",function(){clsLogBehavior.setRefer("switch_profile")},null,!0)}function clsCateViewDynamic(e){var y=this,s=e.VMP,m=(this.wrapObjId=e.wrap_obj_id,this.autoRegister=getParam(e.auto_register,!0),this.onLostFocusUpFn=e.onLostFocusUpFn,this.onLostFocusDownFn=e.onLostFocusDownFn,this.onLostFocusLeftFn=e.onLostFocusLeftFn,this.onLostFocusRightFn=e.onLostFocusRightFn,this.onBackFn=e.onBackFn,this.onItemFocusFn=e.onItemFocusFn,this.onItemLostFocusFn=e.onItemLostFocusFn,this.onItemClickFn=e.onItemClickFn,this.onMoveFn=e.onMoveFn,this.onMouseMoveFn=e.onMouseMoveFn,this.onBuildTemplateRowFn=e.onBuildTemplateRowFn,this.dataList=getParam(e.data,[]),!0),R=checkMouse(),w=(this.gotoRight=function(e){var e=I(e),t=e.totalItem;e.currentItemIndex=t-1,H(e,0)},this.reset=function(){t(1)},this.gotoFirst=u,this.fireLostFocusEvent=b,this.fireFocusEvent=v,this.onMouseWheel=function(e){0<e?this.sendKey(KEY_UP):this.sendKey(KEY_DOWN)},this.onMouseMove=function(){y.onMouseMoveFn&&y.onMouseMoveFn()},this.onKeyPressed=i,this.lostFocus=function(){I(w.currentRowIndex);b()},{}),o=null,r=null,d=3,g=(SPA.convertScale(46),getParam(e.scale_ratio,1.05)),l=SPA.convertScale(50),f=0,p={LEFT:"left",MIDDLE:"middle",RIGHT:"right",NONE:"none"},O=(this.deltaY=getParam(e.deltaY,0),this.deltaY=SPA.convertScale(this.deltaY),this.deltaYTranform=0,500);function h(e,t,i,o,n){var a,r,l,s,c,u;1==getParam(e.has_title,0)?(s=e,a=t,r=i,c=o,u=n,$(a).css("overflow","hidden"),u=getParam(u,0),l={},l=m?{element:a,transform:"translate("+r+"px, "+c+"px)",transition:u}:{element:a,transform:"translate("+r+"px, "+c+"px)",transition:0},c=[{name:"border",value:"0.01px solid rgba(0, 0, 0, 0)"},{name:"margin-left",value:"0px"},{name:"margin-top",value:"0px"}],getParam(s.lostfocusStyle)?(s=s.lostfocusStyle.concat(c),l.other_style=s):l.other_style=c,$(a).attr("is_focus","0"),SPA.transform(l),m&&SPA.hideBorder(),(l=m?{element:a+" img",transform:"scale(1)",transition:u}:{element:a+" img",transform:"scale(1)",transition:0}).other_style=[{name:"border",value:"0px solid white"},{name:"margin-left",value:"0px"},{name:"margin-top",value:"0px"}],SPA.transform(l),(r=$(a+"_status"))&&($(a+"_status img").css("border","0px solid white"),l.element=a+"_status",l.other_style=[{name:"bottom",value:SPA.convertScale(80)+"px"}],SPA.transform(l))):(n=getParam(n,0),s={},s=m?{element:t,transform:"translate("+i+"px, "+o+"px)",transition:n}:{element:t,transform:"translate("+i+"px, "+o+"px)",transition:0},c=[{name:"border",value:"0.01px solid rgba(0, 0, 0, 0)"},{name:"margin-left",value:"0px"},{name:"margin-top",value:"0px"}],getParam(e.lostfocusStyle)?(u=e.lostfocusStyle.concat(c),s.other_style=u):s.other_style=c,1==y.typeRow&&$(t+" .mask-text-img").hide(),$(t).attr("is_focus","0"),SPA.transform(s),m&&SPA.hideBorder())}function _(e,t,i,o,n,a){var r,l,s,c,u,p;1==getParam(e.has_title,0)?(s=e,r=t,p=i,c=o,u=n,l=a,u=getParam(u,1),getParam(l,!1),l={},l=m?{element:r,transform:"translate("+p+"px, "+c+"px)",transition:u}:{element:r,transform:"translate("+p+"px, "+c+"px)",transition:0},c=[],getParam(s.focusStyle)?(s=s.focusStyle.concat(c),l.other_style=s):l.other_style=c,$(r).attr("is_focus","1"),SPA.transform(l),$(r).css("overflow","visible"),(l=m?{element:r+" img",transform:"scale("+g+")",transition:u,border_color:"white"}:{element:r+" img",transform:"scale("+g+")",transition:0,border_color:"white"}).other_style=[{name:"border",value:d+"px solid white"},{name:"margin-left",value:"-"+d+"px"},{name:"margin-top",value:"-"+d+"px"}],SPA.transform(l),(p=$(r+"_status"))&&($(r+"_status img").css("border","0px solid white"),l.element=r+"_status",l.other_style=[{name:"bottom",value:SPA.convertScale(77)+"px"}],SPA.transform(l))):(n=getParam(n,1),a=getParam(a,!1),s={},c=g,1==y.typeRow&&(c=1.02),s=m?{element:t,transform:"translate("+i+"px, "+o+"px) scale("+c+")",transition:n,border_color:"white"}:{element:t,transform:"translate("+i+"px, "+o+"px) scale("+c+")",transition:0,border_color:"white"},u=[{name:"border",value:d+"px solid white"},{name:"margin-left",value:"-"+d+"px"},{name:"margin-top",value:"-"+d+"px"}],getParam(e.focusStyle)?(p=e.focusStyle.concat(u),s.other_style=p):s.other_style=u,$(t).attr("is_focus","1"),SPA.transform(s))}function c(e,t){var i=null,i=t==p.LEFT?(e.itemWidth+e.itemGap)*e.currentItemIndex+e.leftGap:t==p.MIDDLE?e.middleObject.x:f-l-e.itemWidth-(e.itemWidth+e.itemGap)*(e.totalItem-e.currentItemIndex-1);y.getSelectedItem();return i}function B(e,t){e=getParam(e,1);var i,o=I(w.currentRowIndex),n=F(o,0),a=(i=1==y.typeRow?(a=o,(i=n)==p.LEFT?(a.itemWidth+a.itemGap)*a.currentItemIndex+a.leftGap:i==p.MIDDLE?a.middleObject.x:f-l-a.itemWidth-(a.itemWidth+a.itemGap)*(a.totalItem-a.currentItemIndex-1)+10):c(o,n),w.topGap),n=(0!=getParam(o.topGap,0)&&(a=o.topGap),y.getSelectedItem()),e=(_(o,n,i,a,e,t),n),t=o;try{0!=getParam($(e).attr("item_view_more"),0)&&""!=y.more_hor_focus&&""!=y.more_ver_focus&&(3==getParam($(t.rowId).attr("poster_layout"),0)?$(e+" img").attr("src",y.more_ver_focus):$(e+" img").attr("src",y.more_hor_focus))}catch(e){}}function P(e){var t=w.rowList[e];if(1==t.preview)$(t.rowId).css({"white-space":"nowrap"});else{var i=w.topGap;0!=getParam(t.topGap,0)&&(i=t.topGap);for(var o=0;o<t.itemList.length;o++){var n=(t.itemWidth+t.itemGap)*o+t.leftGap;h(t,t.itemList[o].itemId,n,i,0)}}}function t(e){try{var t,i,o,n=$("#"+y.wrapObjId).css("width"),a=(n="%"==n.substring(n.length-1)?(t=parseInt(n),SPA.screenWidth*t/100):parseInt(n),f=SPA.convertScale(n),e);w={autoHover:"true",topGap:0,column:0,visibleRow:0,middleRow:0};for(var r=getAttr("#"+y.wrapObjId,"vmp-style"),l=0;l<r.length;l++)switch(r[l].name){case"top-gap":w.topGap=SPA.convertScale(r[l].value);break;case"column":w.column=r[l].value;break;case"visible-row":w.visibleRow=r[l].value,w.middleRow=Math.ceil(w.visibleRow/2);break;case"auto-hover":w.autoHover=r[l].value}w.currentRowIndex=0,w.rowList=[];for(var s=$("#"+y.wrapObjId).children(),c=-1,u=0;u<s.length;u++)void 0!==$(s[u]).attr("vmp-row")&&(i="#"+y.wrapObjId+" #"+$(s[u]).attr("id"),o=A(i,0,++c),$(i).attr("row",c),o.rowId=i,w.rowList.push(o));w.totalItem=y.dataList.length,console.log("gridInfo",w);for(var p=0,m=0;m<w.rowList.length;m++){var d=w.rowList[m];0<m&&0<d.index_ui&&(p+=w.rowList[m-1].height+0),SPA.transform({element:w.rowList[m].rowId,transform:"translateY("+p+"px)"}),P(m)}var g,h,_=w.rowList[0].itemList[0],v=(console.warn(w.rowList),_.start_time=(new Date).getTime(),1==y.hasTrailer&&(g="",1280==SPA.screenWidth&&(g="margin-bottom: 0px;"),h="",h+='<div id="trailer_detail_info" style="display:none;position:fixed;bottom:'+SPA.convertScale(510)+"px;left:"+SPA.convertScale(60)+"px;z-index:99;background:none;width:"+SPA.convertScale(850)+'px;" class="home-video-detail" vmp-responsive="margin-bottom, font-size" vmp-item><div id="promo-video-title" class="promo-video-title" vmp-responsive="font-size, margin-bottom"><a id="trailer-name" style="display: none;font-size:'+SPA.convertScale(35)+'px;"></a><img id="trailer-image-name" style="width:'+SPA.convertScale(300)+"px;height:"+SPA.convertScale(100)+'px;" src="" onerror=""></div><div class="movie-info" style="height:'+SPA.convertScale(40)+"px; "+g+'"><span id="trailer-year" vmp-responsive="font-size, margin-top, margin-bottom, margin-right, padding-right"></span><span id="trailer-genre" vmp-responsive="font-size, margin-top, margin-bottom, margin-right, padding-right"></span><span id="trailer-length" vmp-responsive="font-size, margin-top, margin-bottom, margin-right, padding-right"></span><span id="trailer-age" class="movie-age" vmp-responsive="font-size, margin-top, margin-bottom, margin-right, padding-right, padding-left"></span></div></div>',$("#vmp-content").append(h),SPA.autoResponsive("#trailer_detail_info",0)),"style='display:none;margin-left:"+SPA.convertScale(45)+"px;border-radius:"+SPA.convertScale(16)+"px;margin-top:"+SPA.convertScale(90)+"px;padding-right:"+SPA.convertScale(30)+"px;padding-bottom:"+SPA.convertScale(30)+"px;width: "+SPA.convertScale(338)+"px;height: "+SPA.convertScale(266)+"px;background: transparent;border: "+SPA.convertScale(10)+"px white solid;z-index: 9;'");$("#"+y.wrapObjId).append("<div id='"+y.wrapObjId+"_highlight_item' class='common_highlight_item' "+v+"></div>")}catch(e){gotoHomeError(e.message+" (888)")}}function V(e){R&&1==use_keyboard&&("true"==w.autoHover&&($(e).prepend('<div class="zoom-icon"></div>'),$(e).bind("mouseover",function(){SPA.isEnable()&&($(this).addClass("featured-thumbnail"),0==$(this).attr("is_focus"))&&($(this).css("border",d+"px solid white"),$(this).css("margin-left","-"+d+"px"),$(this).css("margin-top","-"+d+"px"))}),$(e).bind("mouseout",function(){$(this).removeClass("featured-thumbnail"),0==$(this).attr("is_focus")&&($(this).css("border","0px solid white"),$(this).css("margin-left","0px"),$(this).css("margin-top","0px"))})),$(e).bind("click",function(){if(SPA.isEnable()){var e=parseInt($(this).attr("col")),t=parseInt($(this).attr("row_index_data")),i=e;w.currentRowIndex=t;for(var o=0;o<w.rowList.length;o++)if(w.rowList[o].row_index_data==t){w.rowList[o].currentItemIndex=i;break}S()}}))}function A(e,t,i){for(var o,n=Math.round(SPA.convertScale($(e).height()),0),a={currentItemIndex:0,itemList:[],leftIndex:0,yOrg:0,xOrg:0,bGotFocus:!1,height:n,index_ui:i,row_index_data:i,hideMove:0,preview:0},n=($(e).attr("style","height:"+n+"px !important;position:absolute;"),function(e){for(var t={leftGap:0,itemGap:0,topGap:0},i=getAttr(e,"vmp-style"),o=0;o<i.length;o++){var n=i[o].name,a=i[o].value;switch(n){case"left-gap":t.leftGap=SPA.convertScale(a);break;case"item-gap":t.itemGap=SPA.convertScale(a);break;case"top-gap":t.topGap=SPA.convertScale(a)}}return t}(e)),n=(a.leftGap=n.leftGap,a.itemGap=n.itemGap,a.topGap=n.topGap,a.focusStyle=getAttr(e,"vmp-focus-style"),a.lostfocusStyle=getAttr(e,"vmp-lostfocus-style"),getParam($(e).attr("preview_status"),0)),r=(a.preview=n,$(e).children()),l=-1,s=0;s<r.length;s++)void 0!==$(r[s]).attr("vmp-item")&&(0==++l&&(a.itemWidth=$(r[s]).width(),a.itemHeight=$(r[s]).height()),o=e+" #"+$(r[s]).attr("id"),$(o).attr("col",l),$(o).attr("row",i),$(o).attr("row_index_data",i),V(o),a.itemList.push({itemId:o}),$(r[s]).css("position"));a.totalItem=l+1,a.visibleItem=Math.floor(f/(a.itemWidth+a.itemGap)),a.middleItem=Math.ceil(a.visibleItem/2)-1,a.middleObject={x:(f-a.itemWidth)/2,y:w.topGap};n=getParam($(e).attr("has_title"),0);return a.has_title=n,a}function S(){var e=w.currentRowIndex,t=I(e),i=t.currentItemIndex,o=$(t.rowId).attr("refer"),n=y.getSelectedItem();if(ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.setRefer(o),clsLogBehaviorV2.setOther(e,i),clsLogBehaviorV2.getLogBehaviorParam(n)},null,!0),y.onItemClickFn)try{E(),D(),y.onItemClickFn(y)}catch(e){gotoHomeError(e.message+" (888)")}}function u(){for(var e=w.currentRowIndex,t=null,i=0;i<w.rowList.length;i++)if(w.rowList[i].row_index_data==e){w.rowList[i].currentItemIndex=0,t=w.rowList[i];break}t&&C(t,0)}function I(e){for(var t=null,i=0;i<w.rowList.length;i++){var o=w.rowList[i];if(o.row_index_data==e){t=o;break}}return t||null}function U(){return"#"+y.wrapObjId+"_highlight_item"}function x(e){try{var t=I(w.currentRowIndex);t&&(3==$(t.rowId).attr("poster_layout")&&1==$(t.rowId).attr("preview_status")?(y.oldTypeRow=y.typeRow,y.typeRow=1):($(U()).hide(),$("#video_new_ui").hide(),y.oldTypeRow=y.typeRow,y.typeRow=0),y.oldTypeRow!=y.typeRow&&1==y.oldTypeRow&&(t=I(1==e?w.currentRowIndex-1:w.currentRowIndex+1),getParam(F(t,0),"right"),M(t,0,0)),D())}catch(e){}}function D(){y.timeOutFocusAnimation&&(clearTimeout(y.timeOutFocusAnimation),y.timeOutFocusAnimation=null),y.timeOutFocusAnimationTrailer&&(clearTimeout(y.timeOutFocusAnimationTrailer),y.timeOutFocusAnimationTrailer=null),y.timeOutShowDetailTrailer&&(clearTimeout(y.timeOutShowDetailTrailer),y.timeOutShowDetailTrailer=null),y.timeOutDrawItem&&(clearTimeout(y.timeOutDrawItem),y.timeOutDrawItem=null)}function K(){if(w.currentRowIndex>=w.totalItem-1)E(),y.onLostFocusDownFn&&(0==y.isHomePage&&0==y.isMoviePartition&&y.gotoRow0(),y.onLostFocusDownFn(y));else{if(w.currentRowIndex>=w.totalItem-2||w.totalItem<=w.visibleRow){y.isHomePage&&y.showGotoTop&&y.showGotoTop(),y.lostFocus(),w.currentRowIndex++,y.deltaYTranform=function(t){try{var e=w.rowList[w.rowList.length-2].height;return SPA.screenWidth<=1280?300<e?250:t:500<e?350:t}catch(e){return t}}(y.deltaY);for(var e=0,t=0;t<w.rowList.length;t++)(l=w.rowList[t]).index_ui<0?(s=(l.height+0)*l.index_ui,k({element:w.rowList[t].rowId,transform:"translateY("+(s-y.deltaYTranform)+"px)",transition:0})):(0<l.index_ui&&0<t&&(e+=w.rowList[t-1].height+0),w.currentRowIndex==w.totalItem-1&&t==w.rowList.length-1&&"homeNewUI"!=SPA.getCurrentPath()&&(e=y.deltaY),k({element:w.rowList[t].rowId,transform:"translateY("+(e-y.deltaYTranform)+"px)",transition:0}))}else{var i=y.getLastRowIndex();if(i>w.totalItem-2){y.lostFocus(),w.currentRowIndex++;for(e=0,t=0;t<w.rowList.length;t++)w.rowList[t].index_ui--,(l=w.rowList[t]).index_ui<0?(s=(l.height+0)*l.index_ui,k({element:w.rowList[t].rowId,transform:"translateY("+s+"px)",transition:0})):(0<l.index_ui&&0<t&&(e+=w.rowList[t-1].height+0),k({element:w.rowList[t].rowId,transform:"translateY("+e+"px)",transition:0}))}else{y.lostFocus(),w.currentRowIndex++;for(t=0;t<w.rowList.length;t++)if(-2==(l=w.rowList[t]).index_ui){w.rowList[t].index_ui=3,w.rowList[t].row_index_data=i+1;var o=$(w.rowList[t].rowId).attr("row"),n=y.dataList[i+1],n=y.onBuildTemplateRowFn(n,o),n=($(w.rowList[t].rowId).detach(),$("#"+y.wrapObjId).append(n),SPA.autoResponsive(w.rowList[t].rowId,0),w.rowList[t].rowId),a=A(n,0,o);a.rowId=n,a.index_ui=3,a.row_index_data=i+1,a.hideMove=1,w.rowList[t]=a,$(n).attr("row",o);for(e=0;e<a.itemList.length;e++)$(a.itemList[e].itemId).attr("row_index_data",a.row_index_data);P(t)}else w.rowList[t].index_ui--;w.rowList.sort(L);for(var r,l,s,e=0,t=0;t<w.rowList.length;t++)1==(l=w.rowList[t]).hideMove?(l.hideMove=0,r=w.rowList[t].rowId,$(w.rowList[t].rowId).hide(),l.index_ui<0?(s=(l.height+0)*l.index_ui,k({element:w.rowList[t].rowId,transform:"translateY("+s+"px)",transition:0})):(0<l.index_ui&&0<t&&(e+=w.rowList[t-1].height+0),k({element:w.rowList[t].rowId,transform:"translateY("+e+"px)",transition:0})),setTimeout(function(){$(r).show()},100)):l.index_ui<0?(s=(l.height+0)*l.index_ui,k({element:w.rowList[t].rowId,transform:"translateY("+s+"px)",transition:0})):(0<l.index_ui&&0<t&&(e+=w.rowList[t-1].height+0),k({element:w.rowList[t].rowId,transform:"translateY("+e+"px)",transition:0}))}}x(1),y.setFocus(),y.onMoveFn&&y.onMoveFn(y,-e)}}function L(e,t){return e.index_ui-t.index_ui}function k(e){var t,i={transform:e.transform,"-o-transform":e.transform,"-ms-transform":e.transform,"-moz-transform":e.transform,"-webkit-transform":e.transform};t=e.transition||"none",i.transition=t,i["-o-transition"]=t,i["-ms-transition"]=t,i["-moz-transition"]=t,i["-webkit-transition"]=t,e.border?(i.border=e.border,i["-o-border"]=e.border,i["-ms-border"]=e.border,i["-moz-border"]=e.border,i["-webkit-border"]=e.border):(i.border="none",i["-o-border"]="none",i["-ms-border"]="none",i["-moz-border"]="none",i["-webkit-border"]="none"),e.margin?(i["margin-left"]=e.margin,i["-o-margin-left"]=e.margin,i["-ms-margin-left"]=e.margin,i["-moz-margin-left"]=e.margin,i["-webkit-margin-left"]=e.margin,i["margin-top"]=e.margin,i["-o-margin-top"]=e.margin,i["-ms-margin-top"]=e.margin,i["-moz-margin-top"]=e.margin,i["-webkit-margin-top"]=e.margin):(i["margin-left"]="",i["-o-margin-left"]="",i["-ms-margin-left"]="",i["-moz-margin-left"]="",i["-webkit-margin-left"]="",i["margin-top"]="",i["-o-margin-top"]="",i["-ms-margin-top"]="",i["-moz-margin-top"]="",i["-webkit-margin-top"]=""),$(e.element).css(i)}function i(e){var t=e.which;switch(t){case KEY_DOWN:if(y.getVirtualMove())if(w.currentRowIndex>=w.totalItem-1)E(),y.onLostFocusDownFn&&(0==y.isHomePage&&0==y.isMoviePartition&&y.gotoRow0(),y.onLostFocusDownFn(y));else{if(w.currentRowIndex>=w.totalItem-2||w.totalItem<=w.visibleRow)y.isHomePage&&y.showGotoTop&&y.showGotoTop(),y.lostFocus(),w.currentRowIndex++;else{var i=y.getLastRowIndex();if(i>w.totalItem-2)y.lostFocus(),w.currentRowIndex++;else{y.lostFocus(),w.currentRowIndex++;for(var o=0;o<w.rowList.length;o++)if(-2==(c=w.rowList[o]).index_ui){w.rowList[o].index_ui=3,w.rowList[o].row_index_data=i+1;var n=$(w.rowList[o].rowId).attr("row"),a=w.rowList[o].rowId,r=A(a,0,n);r.rowId=a,r.index_ui=3,r.row_index_data=i+1,r.hideMove=1,w.rowList[o]=r,$(a).attr("row",n);for(var l=0;l<r.itemList.length;l++)$(r.itemList[l].itemId).attr("row_index_data",r.row_index_data);P(o)}else w.rowList[o].index_ui--;w.rowList.sort(L);for(var s,c,u,l=0,o=0;o<w.rowList.length;o++)1==(c=w.rowList[o]).hideMove?(c.hideMove=0,s=w.rowList[o].rowId,$(w.rowList[o].rowId).hide(),c.index_ui<0?(u=(c.height+0)*c.index_ui,k({element:w.rowList[o].rowId,transform:"translateY("+u+"px)",transition:0})):(0<c.index_ui&&0<o&&(l+=w.rowList[o-1].height+0),k({element:w.rowList[o].rowId,transform:"translateY("+l+"px)",transition:0})),setTimeout(function(){$(s).show()},100)):c.index_ui<0?(u=(c.height+0)*c.index_ui,k({element:w.rowList[o].rowId,transform:"translateY("+u+"px)",transition:0})):(0<c.index_ui&&0<o&&(l+=w.rowList[o-1].height+0),k({element:w.rowList[o].rowId,transform:"translateY("+l+"px)",transition:0}))}}x(1),y.setFocus()}else K();break;case KEY_UP:if(0==w.currentRowIndex)E(),y.onLostFocusUpFn&&y.onLostFocusUpFn(y);else{var p=I(w.currentRowIndex);if(w.currentRowIndex>=w.totalItem-1){if(y.isHomePage&&y.showGotoTop&&y.showGotoTop(-1),y.lostFocus(),w.currentRowIndex--,0<y.deltaYTranform)for(var m=y.deltaYTranform=0,d=0;d<w.rowList.length;d++)(p=w.rowList[d]).index_ui<0?(b=(p.height+0)*p.index_ui,k({element:w.rowList[d].rowId,transform:"translateY("+b+"px)",transition:0})):(0<p.index_ui&&0<d&&(m+=w.rowList[d-1].height+0),k({element:w.rowList[d].rowId,transform:"translateY("+m+"px)",transition:0}))}else{var g=y.getFirstRowIndex();if(0==g){y.lostFocus(),w.currentRowIndex--;for(d=0;d<w.rowList.length;d++)w.rowList[d].index_ui++;console.info("---gridInfo.rowList---",w.rowList);for(m=0,d=0;d<w.rowList.length;d++)(p=w.rowList[d]).index_ui<0?(b=(p.height+0)*p.index_ui,k({element:w.rowList[d].rowId,transform:"translateY("+b+"px)",transition:0})):(0<p.index_ui&&0<d&&(m+=w.rowList[d-1].height+0),k({element:w.rowList[d].rowId,transform:"translateY("+m+"px)",transition:0}))}else{y.lostFocus(),w.currentRowIndex--;for(d=0;d<w.rowList.length;d++)if(3==(p=w.rowList[d]).index_ui){w.rowList[d].index_ui=-2,w.rowList[d].row_index_data=g-1;var h=$(w.rowList[d].rowId).attr("row"),_=y.dataList[g-1],_=y.onBuildTemplateRowFn(_,h),_=($(w.rowList[d].rowId).detach(),$("#"+y.wrapObjId).append(_),SPA.autoResponsive(w.rowList[d].rowId,0),w.rowList[d].rowId),v=A(_,0,h);v.rowId=_,v.index_ui=-2,v.row_index_data=g-1,v.hideMove=1,w.rowList[d]=v,$(_).attr("row",h);for(m=0;m<v.itemList.length;m++)$(v.itemList[m].itemId).attr("row_index_data",v.row_index_data);P(d)}else w.rowList[d].index_ui++;w.rowList.sort(L);for(var f,b,m=0,d=0;d<w.rowList.length;d++)1==(p=w.rowList[d]).hideMove?(p.hideMove=0,f=w.rowList[d].rowId,$(w.rowList[d].rowId).hide(),p.index_ui<0?(b=(p.height+0)*p.index_ui,k({element:w.rowList[d].rowId,transform:"translateY("+b+"px)",transition:0})):(0<p.index_ui&&0<d&&(m+=w.rowList[d-1].height+0),k({element:w.rowList[d].rowId,transform:"translateY("+m+"px)",transition:0})),setTimeout(function(){$(f).show()},100)):p.index_ui<0?(b=(p.height+0)*p.index_ui,k({element:w.rowList[d].rowId,transform:"translateY("+b+"px)",transition:0})):(0<p.index_ui&&0<d&&(m+=w.rowList[d-1].height+0),k({element:w.rowList[d].rowId,transform:"translateY("+m+"px)",transition:0}))}}x(-1),y.setFocus(),y.onMoveFn&&y.onMoveFn(y,-m)}break;case KEY_RIGHT:T(1);break;case KEY_LEFT:T(-1);break;case KEY_ENTER:S();break;default:if(isBackKey(t)&&y.onBackFn){if(1==y.typeRow)try{var C=I(w.currentRowIndex);M(C,getParam(F(C,0),"right"),0),E(),D()}catch(e){}y.onBackFn(y)}}}function v(e){var t,i=I(w.currentRowIndex);1==y.typeRow?(E(),D(),$(i.itemList[i.currentItemIndex].itemId).css({border:SPA.convertScale(d)+"px white solid","margin-top":"57px"}),y.timeOutFocusAnimation=setTimeout(function(){w.topGap;0!=getParam(i.topGap,0)&&i.topGap;var e=i.itemList[i.currentItemIndex].itemId,t=$(e).offset();$(e).width(),$(e).height();$(e+" img").attr("onload",y.ImageLoaded(e)),$(e+" img").attr("src",$(e).attr("img_hor")),$("#trailer_detail_info").css({left:parseInt(t.left)-SPA.convertScale(80)+"px"}),y.createTemplateTrailerContainer(e),y.timeOutShowDetailTrailer=setTimeout(function(){y.showTrailerDetail(1)},300),y.timeOutFocusAnimationTrailer=setTimeout(function(){"homeNewUI"==SPA.getCurrentPath()&&y.playTrailer(1,e)},1e3)},1500)):((e=getParam(e,!0))&&B(),E(),y.isMoviePartition?y.onItemFocusFn&&y.onItemFocusFn(y):o=setTimeout(function(){y.onItemFocusFn&&y.onItemFocusFn(y)},SPA.slideTransitionTime),t=I(i=w.currentRowIndex).currentItemIndex,ModuleManager.loadFile("clsLogBehaviorV2",function(){clsLogBehaviorV2.setOther(i,t),clsLogBehaviorV2.saveLogFocus(y.getSelectedItem())},null,!0))}function E(){o&&(clearTimeout(o),o=null)}function b(e){var t=I(w.currentRowIndex);if(1==$(t.rowId).attr("preview_status"))o={element:t.itemList[t.currentItemIndex].itemId,other_style:[{name:"width",value:t.itemWidth+"px"},{name:"transition-property",value:"width"},{name:"transition-duration",value:"0s"},{name:"border",value:SPA.convertScale(d)+"px rgba(0,0,0,0) solid"},{name:"margin-top",value:"57px"}]},$(t.itemList[t.currentItemIndex].itemId+" .mask-text-img").hide(),$(t.itemList[t.currentItemIndex].itemId+" #page2_trailer_container").remove(),$(t.itemList[t.currentItemIndex].itemId+" img").attr("src",$(t.itemList[t.currentItemIndex].itemId).attr("img_ver")),y.showTrailerDetail(0),y.playTrailer(0),SPA.transform(o);else{(e=getParam(e,!0))&&(i=getParam(i,0),o=I(w.currentRowIndex),e=c(o,F(o,0)),n=w.topGap,0!=getParam(o.topGap,0)&&(n=o.topGap),h(o,y.getSelectedItem(),e,n,i));var i,o,n,e=t;try{var a=y.getSelectedItem();0!=getParam($(a).attr("item_view_more"),0)&&""!=y.more_hor&&""!=y.more_ver&&(3==getParam($(e.rowId).attr("poster_layout"),0)?$(a+" img").attr("src",y.more_ver):$(a+" img").attr("src",y.more_hor))}catch(e){}}r&&clearTimeout(r),y.onItemLostFocusFn&&y.onItemLostFocusFn(y)}function n(e){e.itemList[e.currentItemIndex].start_time=0}function a(e,t,i){if(1==y.typeRow)if(e.currentItemIndex==e.totalItem-i)for(var o=e.totalItem-i,n=0;n<o;n++)y.sendKey(KEY_LEFT,!1);else M(e,0,i);else if(t==p.LEFT)C(e,i);else{if(t!=p.MIDDLE)return t==p.RIGHT&&(H(e,i),1);var a=e,t=i,r=void 0,l=(r=getParam(r,0),a.lastStatus=p.MIDDLE,b(!1),w.topGap);0!=getParam(a.topGap,0)&&(l=a.topGap);for(var s,c=a.currentItemIndex+t,u=0;u<a.totalItem;u++)u==c?(0==r?_:h)(a,a.itemList[c].itemId,a.middleObject.x,a.middleObject.y,1):(s=u<c?a.middleObject.x-(a.itemWidth+a.itemGap)*(c-u):a.middleObject.x+(a.itemWidth+a.itemGap)*(u-c),h(a,a.itemList[u].itemId,s,l,1));a.currentItemIndex+=t,a.leftIndex+=t,t=!1,v(t=1==N(a)?!0:t)}return 1}function T(e){var t=I(w.currentRowIndex),i=F(t,e);if(0<e)return 0==t.currentItemIndex&&n(t),a(t,i,e)?void 0:(b(!1),void y.fireLostFocusRightEvent());0==t.currentItemIndex?y.fireLostFocusLeftEvent():(t.currentItemIndex!=t.totalItem-1&&1!=t.currentItemIndex||n(t),a(t,i,e))}function F(e,t){t=getParam(t,1);var i=e.currentItemIndex,o="";return e.totalItem<=e.visibleItem?p.LEFT:0<t?i+t==e.totalItem?p.NONE:i<e.middleItem?p.LEFT:i==e.middleItem||i<e.totalItem-e.middleItem-2?p.MIDDLE:i<e.totalItem-1?p.RIGHT:p.NONE:t<0?0==i?p.NONE:i<=e.middleItem+1?p.LEFT:i<=e.totalItem-e.middleItem-1?p.MIDDLE:i<=e.totalItem-1?p.RIGHT:p.NONE:(i<=e.middleItem?o=p.LEFT:i<e.totalItem-e.middleItem-1?o=p.MIDDLE:i<e.totalItem-1&&(o=p.RIGHT),o)}function M(e,t,i){var o,n;e.currentItemIndex!=e.totalItem-i&&(b(!1),e.currentItemIndex+=i,2<e.currentItemIndex?(n=-((n=e.currentItemIndex-2)*SPA.convertScale(382)),e.currentItemIndex==e.totalItem-1&&(o=350,1280==SPA.screenWidth&&(o=340),n+=SPA.convertScale(o)),e.currentItemIndex==e.totalItem-2&&(o=30,1280==SPA.screenWidth&&(o=10),n+=e.itemWidth-SPA.convertScale(o))):n=SPA.convertScale(50),$(e.rowId+" #li_0").css("margin-left",n+"px"),v(!1))}function C(e,t,i){i=getParam(i,0);e.lastStatus;b(!1);var o=w.topGap;if(0!=getParam(e.topGap,0)&&(o=e.topGap),e.currentItemIndex==e.totalItem-t)u();else{for(var n=0;n<e.itemList.length;n++){var a=(e.itemWidth+e.itemGap)*n+e.leftGap;(n==e.currentItemIndex+t&&0==i?_:h)(e,e.itemList[n].itemId,a,o,1)}e.currentItemIndex<e.totalItem-t&&(e.currentItemIndex+=t),e.lastStatus=p.LEFT;var r=!1;v(r=1==N(e)?!0:r)}}function H(e,t,i){i=getParam(i,0),last_status=e.lastStatus,b(!1);var o=w.topGap;0!=getParam(e.topGap,0)&&(o=e.topGap);for(var n=0;n<e.itemList.length;n++){var a=f-l-e.itemWidth-(e.itemWidth+e.itemGap)*(e.totalItem-n-1);(n==e.currentItemIndex+t&&0==i?(1==y.typeRow&&(a+=SPA.convertScale(2)),_):h)(e,e.itemList[n].itemId,a,o,1)}e.currentItemIndex+=t,e.lastStatus=p.RIGHT;var r=!1;v(r=1==N(e)?!0:r)}function N(e){try{var t=e.itemList[e.currentItemIndex].itemId;return getParam($(t).attr("item_view_more"),0)}catch(e){return 0}}this.timeOutFocusAnimation=null,this.timeOutFocusAnimationTrailer=null,this.timeOutShowDetailTrailer=null,this.timeOutDrawItem=null,this.typeRow=0,this.oldTypeRow=0,this.distanceMoveTrailer=545,this.widthTrailerItem=870,this.more_hor_focus=getParam(e.more_hor_focus,""),this.more_ver_focus=getParam(e.more_ver_focus,""),this.more_hor=getParam(e.more_hor,""),this.more_ver=getParam(e.more_ver,""),this.hasTrailer=getParam(e.hasTrailer,0),this.isHomePage=getParam(e.isHomePage,!1),this.showGotoTop=getParam(e.showGotoTop,null),this.isMoviePartition=getParam(e.isMoviePartition,!1),this.virtualMove=!1,this.setVirtualMove=function(e){y.virtualMove=e},this.getVirtualMove=function(){return y.virtualMove},this.addMore=function(e){var t=(t=[].concat.apply([],y.dataList)).concat(e);y.dataList=t,y.dataList=arrayTo2Dimension(y.dataList,rowItem),gridConfig.totalRow=y.dataList.length},this.resetData=function(e){y.dataList=getParam(e,[])},this.createTemplateTrailerContainer=function(e){var t="style='position: absolute;background:transparent;display:none;border-radius:"+SPA.convertScale(6)+"px;padding-right:"+SPA.convertScale(0)+"px;top: 0;padding-bottom:"+SPA.convertScale(0)+"px;width: 100%;height: 100%;z-index: 9999;'";$(e).append("<div id='page2_trailer_container' "+t+"></div>")},this.getName=function(){return this.wrapObjId},this.hide=function(){$("#"+y.wrapObjId).hide()},this.show=function(){$("#"+y.wrapObjId).show()},this.setSelectedItem=function(e,t){var i;s.disable(),e=parseInt(e),t=parseInt(t),null!=y.onBuildTemplateRowFn&&(3<e&&y.setVirtualMove(!0),i=6,e==w.totalItem-3&&(i+=1),e==w.totalItem-2&&(i+=2),e==w.totalItem-1)&&(i+=3);for(var o=0;o<e;o++)null!=y.onBuildTemplateRowFn&&e-i<=o&&y.setVirtualMove(!1),y.sendKey(KEY_DOWN,!1);for(o=0;o<t;o++)y.sendKey(KEY_RIGHT,!1);setTimeout(function(){y.setVirtualMove(!1),s.enable()},200)},this.gotoRow0=function(){s.disable();for(var e=0;e<w.totalItem-1;e++)i({which:KEY_UP});setTimeout(function(){s.enable()},200)},this.getItem=function(e,t){return(e=I(e)).itemList[t].itemId},this.getItemData=function(){try{var e=I(w.currentRowIndex);return e.row_index_data>y.dataList.length-1?null:y.dataList[e.row_index_data].DATA[e.currentItemIndex]}catch(e){return null}},this.setCurrentItem=function(e,t){y.currentRow=e,y.arrRows[e].setCurrentIndex(t)},this.getTotalRowCount=function(){return w.totalItem},this.isLastRow=function(){return w.currentRowIndex==w.totalItem-1},this.getFullRowId=function(e){return"#"+y.wrapObjId+" #"+e},this.getCurrentRowIndex=function(){return w.currentRowIndex},this.getCurrentItemIndex=function(){return I(w.currentRowIndex).currentItemIndex},this.setFocus=function(){var e=I(w.currentRowIndex);e.currentItemIndex!=e.totalItem-1&&1!=e.currentItemIndex||n(e),v()},this.getCurrentRow=function(){return w.currentRowIndex},this.sendKey=function(e,t){t=getParam(t,!0),this.onKeyPressed({which:e},t)},this.onKeyPressed=function(e,t){t=getParam(t,!0);e=e.which;e!=KEY_RIGHT&&e!=KEY_LEFT&&lock(t),i({which:e}),setTimeout(function(){unlock(t)},O-200)},this.getGridInfo=function(){return w},this.getLastRowIndex=function(){for(var e=[],t=0;t<w.rowList.length;t++)e.push(w.rowList[t].row_index_data);return Math.max.apply(null,e)},this.getFirstRowIndex=function(){for(var e=[],t=0;t<w.rowList.length;t++)e.push(w.rowList[t].row_index_data);return Math.min.apply(null,e)},this.setCurrentIndex=function(e,t){return t>e.totalItem-1?e.currentItemIndex=e.totalItem-1:e.currentItemIndex=t<0?0:t,e.currentItemIndex},this.ImageLoaded=function(e,t){$(e+" .mask-text-img").length?$(e+" .mask-text-img").show():$(e).append('<div class="mask-text-img" style="z-index:2;position:absolute; width: 100%; height: 100%; bottom: 0; background: linear-gradient(0deg, rgb(0, 0, 0, 1) 0%, rgba(0,0,0,0.3) 45%, rgba(255,255,255,0) 100%);"></div>');getParam(t,0);t={element:e,other_style:[{name:"width",value:SPA.convertScale(y.widthTrailerItem)+"px"},{name:"transition-property",value:"width"},{name:"transition-duration",value:"0.3s"},{name:"border",value:SPA.convertScale(d)+"px white solid"}]};SPA.transform(t)},this.showTrailerDetail=function(e){var t,i;0==e||null==(e=y.getItemData())?$("#trailer_detail_info").hide():($("#trailer_detail_info #trailer-year").html(getParam(e.CONTENT_PUBLISH_YEAR,"")),(""!=(t=23<(t=getParam(e.CONTENT_COUNTRY,"")).length?t.substring(0,20)+"...":t)?$("#trailer_detail_info #trailer-genre").html(t):$("#trailer_detail_info #trailer-genre").html("Quốc gia: n/a")).show(),2==e.CONTENT_SINGLE?$("#trailer_detail_info #trailer-length").html(e.TOTAL_EPISODE+" Tập"):$("#trailer_detail_info #trailer-length").html(getParam((t=e.CONTENT_DURATION,t=Number(t),i=Math.floor(t%86400/3600),t=Math.floor(t%3600/60),(0<i?i+"h":"0h")+(t="00"!=(t=0<t?t+"":"00")&&t<10?"0"+t:t)),"")),""!=getParam(e.LOCKED_LEVEL,"")?$("#trailer_detail_info #trailer-age").html(e.LOCKED_LEVEL).show():$("#trailer_detail_info #trailer-age").hide(),""==getParam(e.IMAGE_NAME,"")?($("#trailer_detail_info #trailer-image-name").hide(),$("#trailer_detail_info #trailer-name").html(e.CONTENT_TITLE).show()):($("#trailer_detail_info #trailer-image-name").attr("src",e.IMAGE_NAME).show(),$("#trailer_detail_info #trailer-name").hide()),$("#trailer_detail_info").show())},this.playTrailer=function(e,t){try{if(0==e){$("#page2_trailer_container").hide();try{null!=clUIVODPlayer&&clUIVODPlayer.Stop()}catch(e){}}else{gPlayParam={ad_data:{ad_info:""}};var i=y.getItemData();if(null!=i){var o=getParam(i.TRAILER_PATH,"");if(""==o)y.playTrailer(0,t);else{for(var n=[".jpg",".png"],a=!1,r=0;r<n.length;r++)if(0<=o.indexOf(n[r])){a=!0;break}if(a)y.playTrailer(0,t);else{var l={url:o,VMP:s,showControlBar:!1,bTimeShiftBar:!1,divID:"page2_trailer_container",bNextPrev:!1,content_type_id:2,iPlayer:gConfig.getPlayer(),is_home_trailer:0,is_poster_trailer:1,is_home_preview:1,autoLockKeyboard:!1,bDelayUnlockKeyTime:1e3,profile4K:7==gPlayParam.quality?1:0,isFocus:!1,isRegisterMouseEvent:!1,poster:getParam(i.CONTENT_HOR_POSTER,""),ad_data:null,onEventAdsStart:null,onEventAdsEnd:null,onBackComplete:function(){$("#page2_trailer_container").hide()},onBackFn:function(){},onErrorFn:function(e){}};try{gPlayParam.type_id=i.TYPE_ID,gPlayParam.content_name=i.CONTENT_TITLE,gPlayParam.movie_id=i.CONTENT_ID,gPlayParam.partition=""}catch(e){console.log(e)}$("#page2_trailer_container").html("").show();try{null!=clUIVODPlayer&&clUIVODPlayer.Stop()}catch(e){}showUIVODPlayer(l),$("#page2_trailer_container").append('<div style="z-index:2;position:absolute; width: 100%; height: 100%; bottom: 0; background: linear-gradient(0deg, rgb(0, 0, 0, 1) 0%, rgba(0,0,0,0.3) 45%, rgba(255,255,255,0) 100%);"></div>')}}}}}catch(e){$("#page2_trailer_container").hide(),$(".video-mask").hide(),console.error("Error play trailer",e)}},this.fireLostFocusRightEvent=function(){y.onLostFocusRightFn&&y.onLostFocusRightFn(y)},this.fireLostFocusLeftEvent=function(){var e,t;E(),y.onLostFocusLeftFn?y.onLostFocusLeftFn(y):(1==y.typeRow&&(b(!1),e=I(w.currentRowIndex),$(e.rowId).hide(),t=F(e,0),M(e,0,0),setTimeout(function(){$(e.rowId).show()},0),D()),createMenuHomepageUI())},this.getSelectedRow=function(){return I(w.currentRowIndex).rowId},this.getSelectedItem=function(){var e=I(w.currentRowIndex);return e.itemList[e.currentItemIndex].itemId},this.getPreSelectedItem=function(){var e=I(w.currentRowIndex);return 0<e.currentItemIndex?e.itemList[e.currentItemIndex-1].itemId:""},this.getNextItem=function(){var e,t=I(w.currentRowIndex);return t.currentItemIndex!=t.itemList.length-1&&(e=t.currentItemIndex+1,t.itemList[e].itemId)},y.autoRegister&&s.register(y),t(0)}window.clsSurvey=clsSurvey,window.objSwitchProfileHolder=null,window.objSwitchProfile=null,window.isShowHomeMenu=!1,window.buildSwitchProfileHTML=function(e,t){for(var i="",i=(i=(i+='<span class="profile_icon_img_wrap" style="background: none;vertical-align: middle;display: table-cell; width: 80px;" vmp-responsive="width, height, line-height, font-size" vmp-style="selected:focused" vmp-item id="homepage_choose_profile_icon">')+('  <img id="current_profile_img" class="current_profile_icon_img" src="'+g_currentProfile.AVATAR_IMG+'" alt="" vmp-responsive="width,height" />')+'  <span id="switch_profile_title" class="current_profile_title" style="padding-right: 0;" vmp-responsive="line-height, width, left, top">Chọn profile</span>')+"</span>"+'<span id="choose_profle_holder" class="choose_profle_holder" vmp-style="selected:focused">',o=0;o<g_profileList.profiles.length;o++){var n=g_profileList.profiles[o];n.PROFILE_ID!=g_currentProfile.PROFILE_ID&&(i+='  <span id="profile_'+o+'" PROFILE_ID='+n.PROFILE_ID+' vmp-item><img src="'+n.AVATAR_IMG+'"> '+n.PROFILE_NAME+"</span>")}i+='  <hr style="margin: 5px 10px;">  <span id="profile_edit" vmp-item><img src="app-images/ico-login.png"> Chỉnh sửa</span></span>',$("#"+e).html(i),SPA.autoResponsive("#homepage_choose_profile_icon",0),t&&t()},window.createSwitchProfile=function(e,t,i){buildSwitchProfileHTML(e,i),objSwitchProfileHolder=new clsFormView({wrap_obj_id:"homepage_choose_profile_icon",onLostFocusUpFn:function(e){t.onLostFocustUp&&t.onLostFocustUp()},onLostFocusDownFn:function(e){t.onLostFocustDown&&t.onLostFocustDown()},onLostFocusLeftFn:function(e){t.onLostFocustLeft&&t.onLostFocustLeft()},onLostFocusRightFn:function(e){t.onLostFocustRight&&t.onLostFocustRight()},onItemFocusFn:function(e){$("#current_profile_img").addClass("focused"),$("#switch_profile_title").css({transition:"all 100ms"})},onItemLostFocusFn:function(e){$("#current_profile_img").removeClass("focused"),$("#switch_profile_title").css({"font-size":SPA.convertScale(30)+"px",transition:"all 100ms"}),$("#switch_profile_title").hide()},onItemClickFn:function(e){SPA.location("chooseProfile?isAuto=0")},onBackFn:function(e){t.onBack&&t.onBack()},VMP:VMP}),objSwitchProfileHolder=new clsFormView({wrap_obj_id:"choose_profle_holder",display_type:"vertical",onLostFocusUpFn:function(e){hideProfileHolder()},onItemClickFn:function(e){e=e.getCurrentItem().itemId,e=$("#"+e).attr("PROFILE_ID");switchProfile(e)},onBackFn:function(e){hideProfileHolder()},VMP:VMP}),$("#current_profile_img").hover(function(){$(this).toggleClass("focused")})},window.activeSwitchProfile=function(){VMP.setActive("homepage_choose_profile_icon")},window.showProfileHolder=function(){$("#choose_profle_holder").show(),VMP.setActive("choose_profle_holder")},window.hideProfileHolder=function(){$("#choose_profle_holder").hide(),VMP.setActive("homepage_choose_profile_icon")},window.clsCateViewDynamic=clsCateViewDynamic;var _menuIconListPerma=[{id:"search",text:"Tìm kiếm",inactive:_pathImgNewUIv3+"leftmenu_icon/inactive/search.png",active:_pathImgNewUIv3+"leftmenu_icon/active/search.png",focused:_pathImgNewUIv3+"leftmenu_icon/focused/search.png",status:"inactive",submenu:!1,path:"search",logAction:"leftmenu_search"},{id:"home",text:"Trang chủ",inactive:_pathImgNewUIv3+"leftmenu_icon/inactive/home.png",active:_pathImgNewUIv3+"leftmenu_icon/active/home.png",focused:_pathImgNewUIv3+"leftmenu_icon/focused/home.png",status:"inactive",submenu:!1,path:"homeNewUI",logAction:"leftmenu_home"},{id:"dynamic_menu_1",text:"",inactive:_pathImgNewUIv3+"leftmenu_icon/inactive/sport.png",active:_pathImgNewUIv3+"leftmenu_icon/active/sport.png",focused:_pathImgNewUIv3+"leftmenu_icon/focused/sport.png",status:"inactive",submenu:!1,path:"service",logAction:"leftmenu_category"},{id:"dynamic_menu_2",text:"",inactive:_pathImgNewUIv3+"leftmenu_icon/inactive/sport.png",active:_pathImgNewUIv3+"leftmenu_icon/active/sport.png",focused:_pathImgNewUIv3+"leftmenu_icon/focused/sport.png",status:"inactive",submenu:!1,path:"service",logAction:"leftmenu_category"},{id:"dynamic_menu_3",text:"",inactive:_pathImgNewUIv3+"leftmenu_icon/inactive/sport.png",active:_pathImgNewUIv3+"leftmenu_icon/active/sport.png",focused:_pathImgNewUIv3+"leftmenu_icon/focused/sport.png",status:"inactive",submenu:!1,path:"service",logAction:"leftmenu_category"},{id:"all_service",text:"Tất cả dịch vụ",inactive:_pathImgNewUIv3+"leftmenu_icon/inactive/all_service.png",active:_pathImgNewUIv3+"leftmenu_icon/active/all_service.png",focused:_pathImgNewUIv3+"leftmenu_icon/focused/all_service.png",status:"inactive",submenu:!1,path:"",logAction:"leftmenu_more"},{id:"bookmark",text:"Danh sách",inactive:_pathImgNewUIv3+"leftmenu_icon/inactive/AddtoMylist.png",active:_pathImgNewUIv3+"leftmenu_icon/active/AddtoMylist.png",focused:_pathImgNewUIv3+"leftmenu_icon/focused/AddtoMylist.png",status:"inactive",submenu:!1,path:"bookmark",logAction:"leftmenu_watch_list"},{id:"buy_package",text:"Mua gói",inactive:_pathImgNewUIv3+"leftmenu_icon/inactive/buy_package.png",active:_pathImgNewUIv3+"leftmenu_icon/active/buy_package.png",focused:_pathImgNewUIv3+"leftmenu_icon/focused/buy_package.png",status:"inactive",submenu:!1,path:"choosePackageNew",logAction:"leftmenu_buy_package"},{id:"remote",text:"Điều khiển",inactive:_pathImgNewUIv3+"leftmenu_icon/inactive/Remote.png",active:_pathImgNewUIv3+"leftmenu_icon/active/Remote.png",focused:_pathImgNewUIv3+"leftmenu_icon/focused/Remote.png",status:"inactive",submenu:!1,path:"supportRemote",logAction:"leftmenu_remote"},{id:"profile",text:"",inactive:"",active:"",focused:"",status:"inactive",submenu:!1,path:"chooseProfile?isAuto=0",logAction:"leftmenu_change_profile"},{id:"setting",text:"Cài đặt",inactive:_pathImgNewUIv3+"leftmenu_icon/inactive/setting.png",active:_pathImgNewUIv3+"leftmenu_icon/active/setting.png",focused:_pathImgNewUIv3+"leftmenu_icon/focused/setting.png",status:"inactive",submenu:!1,path:"mytvsupport",logAction:"leftmenu_support"}];window.objMenuHomepageB2C=null,window.createMenuHomePage=function(){null!=objMenuHomepageB2C&&("homeNewUI"==SPA.getCurrentPath()?(objMenuHomepageB2C.currentIndex=1,objMenuHomepageB2C.currentMouseIndex=1):(objMenuHomepageB2C.currentIndex=0,objMenuHomepageB2C.currentMouseIndex=0),objMenuHomepageB2C.init()),objMenuHomepageB2C=new clsFormView({wrap_obj_id:"standstill_menu_holder",display_type:"vertical",add_focus_hover:!1,onLostFocusLeftFn:function(e){},onLostFocusRightFn:function(e){_leftMenuFnc.hideExpandedLeftMenuHomepage("",!0)},onItemFocusFn:function(e){isMoved=!0;var e=e.getSelectedItem(),t=$(e).attr("menu_type");$("#standstill_menu_text #menu_text_"+t).addClass("focused"),_leftMenuFnc._changeMenuIcon(e,t,"focused")},onItemLostFocusFn:function(e){isMoved=!0;var e=e.getSelectedItem(),t=$(e).attr("menu_type"),i=$(e).attr("menu_status");$("#standstill_menu_text #menu_text_"+t).removeClass("focused"),_leftMenuFnc._changeMenuIcon(e,t,i)},onItemClickFn:function(e){var e=e.getSelectedItem(),t=$(e).attr("menu_index"),i=($(e).attr("menu_status"),$(e).attr("menu_type")),e=$(e).attr("module_id");"all_service"==i?_leftMenuFnc._showDropdownService():"bookmark"==i?_leftMenuFnc.leaveFromLeftMenu(_leftMenuFnc.showBookmark()):"service"==_menuIconListPerma[t].path?_leftMenuFnc.onItemClickServiceMenu(e,"left_menu"):SPA.getCurrentPath()==_menuIconListPerma[t].path?_leftMenuFnc.hideExpandedLeftMenuHomepage("",!0):_leftMenuFnc.leaveFromLeftMenu(_menuIconListPerma[t].path)},onBackFn:function(e){_leftMenuFnc.hideExpandedLeftMenuHomepage("",!0)},VMP:VMP}),VMP.setActive=function(e,t,i){i=getParam(i,"normal");var o=VMP.getObjById(VMP.currentActive),n=VMP.getObjById(e);n&&(o&&o.lostFocus(),VMP.currentActive=e,"notification_alert"!=VMP.currentActive&&"dialog_notification_play"!=VMP.currentActive&&"dialog_notification_play_toast"!=VMP.currentActive&&"dialog_show_quality"!=VMP.currentActive&&"dialog_alert"!=VMP.currentActive&&"dialog_confirm"!=VMP.currentActive&&"menu_homepage"!=VMP.currentActive&&"survey_button_wr"!=VMP.currentActive&&"survey_container"!=VMP.currentActive&&"survey_button_wr_success"!=VMP.currentActive&&"standstill_menu_holder"!=VMP.currentActive&&"menu_submenu_body"!=VMP.currentActive&&"dropdown_service_items_holder"!=VMP.currentActive&&(gVMPCurrentActive=VMP.currentActive),n.getObjType&&"FormView"==n.getObjType()?n.setFocus(t):n.setFocus(i))},_leftMenuFnc.showExpandedLeftMenuHomepage()},window._leftMenuFnc={_dynamicData:null,_isShownDropdownService:null,objAnimationDropdownService:null,objMenuSubmenu:null,_isShownLeftmenu:!1,_isShownMenuText:!1,_isShownMenuSubmenu:!1,_hasSubmenu:!1,submenuList:null,_index_has_submenu:"",currentModuleID:0,Service_Action:{lixi:"lucky_wheel_home"},createStandStillMenu:function(e){e=(e=e.split("?")[0]).replace(/\//g,"");this.removeSavredPath(e),checkShowLeftmenuIcon(e)?("homeNewUI"==e&&_leftMenuFnc.setCurrentModuleID(-1),_leftMenuFnc.callPrepareBeforeBuildLeftMenu(function(){_leftMenuFnc.buildMenuHomePageHTML(function(){_leftMenuFnc.setSubmenuStatus(!1,""),$("#vmp-content").addClass("has-menu").css("width",SPA.screenWidth-SPA.convertScale(100)+"px"),$("#standstill_menu_wr").show(),$("#standstill_menu_holder").show()})})):($("#vmp-content").removeClass("has-menu").css("width",SPA.screenWidth+"px"),$("#standstill_menu_wr").hide())},callPrepareBeforeBuildLeftMenu:function(e){for(var t=0;t<_menuIconListPerma.length;t++)if("profile"==_menuIconListPerma[t].id){_menuIconListPerma[t].text=g_currentProfile.PROFILE_NAME,_menuIconListPerma[t].inactive=g_currentProfile.AVATAR_IMG,_menuIconListPerma[t].active=g_currentProfile.AVATAR_IMG,_menuIconListPerma[t].focused=g_currentProfile.AVATAR_IMG;break}$("body #standstill_menu_wr").length&&($("body #standstill_menu_wr #menu_item_profile .inactive").attr("src",g_currentProfile.AVATAR_IMG),$("body #standstill_menu_wr #menu_item_profile .active").attr("src",g_currentProfile.AVATAR_IMG),$("body #standstill_menu_wr #menu_item_profile .focused").attr("src",g_currentProfile.AVATAR_IMG),$("body #standstill_menu_text #menu_text_profile").html(g_currentProfile.PROFILE_NAME)),e()},buildMenuHomePageHTML:function(e){var t;$("body #standstill_menu_wr").length||(t="",t=(t=(t=(t=(t=(t+='<div id="standstill_menu_wr" class="standstill_menu_wr">')+'<img class="menu_logo" src="'+gDataConfig.logo_config.footer+'" onerror="this.src=\'app-images/logo2.png\'"><div id="standstill_menu_background" class="standstill_menu_expand"></div><div id="standstill_menu_holder" class="standstill_menu_holder" vmp-style="selected:focused" vmp-responsive="width, height">    <div id="menu_standstill_body" class="menu_body" vmp-responsive="top">')+this._buildPermanentMenuItem("icon","upper",_menuIconListPerma)+'    </div>     <div class="cross-line compact" vmp-responsive="top, left"></div>    <div id="menu_footer" class="menu_footer" vmp-responsive="bottom">')+this._buildPermanentMenuItem("icon","below",_menuIconListPerma)+'    </div></div><div id="standstill_menu_text" class="standstill_menu_text" vmp-style="selected:focused" vmp-responsive="height, font-size">    <div id="menu_text_body" class="menu_body" vmp-responsive="top">')+this._buildPermanentMenuItem("text","upper",_menuIconListPerma)+'    </div>     <div class="cross-line" vmp-responsive="top, left"></div>    <div id="menu_footer" class="menu_footer" vmp-responsive="bottom">')+this._buildPermanentMenuItem("text","below",_menuIconListPerma)+"    </div></div></div>",$("body").append(t),SPA.autoResponsive("#standstill_menu_wr",1),$("#standstill_menu_text").css("left","-"+$("#standstill_menu_text").width()+SPA.convertScale(10)+"px"),$("#standstill_menu_text .cross-line").css("width",$("#standstill_menu_text #menu_text_body").width()+"px"),this.setStyleLogoLeftMenu()),e()},setStyleLogoLeftMenu:function(){var e="<style>",e=(e+=".standstill_menu_wr .menu_logo {margin: "+SPA.convertScale(52)+"px auto "+SPA.convertScale(20)+"px;display: block;width: "+SPA.convertScale(75)+"px;transition: all 0.1s;position: fixed;left: "+SPA.convertScale(15)+"px;z-index: 3;}")+(".standstill_menu_wr .menu_logo.expand {transition: all 0.2s;width: "+SPA.convertScale(100)+"px;margin: "+SPA.convertScale(52)+"px auto "+SPA.convertScale(15)+"px;left: "+SPA.convertScale(85)+"px;}")+"</style>";$("head").append(e)},_buildPermanentMenuItem:function(e,t,i){var o="",n=0,a=i.length;"upper"==t&&(n=0,a=i.length-4),"below"==t&&(n=i.length-4,a=i.length);for(var r=n;r<a;r++){var l,s,c,u=i[r],p="";"profile"==u.id&&(p="rounded",null==g_currentProfile)||(l='style="display: none;"',s='vmp-responsive="width,height"',(c={}).action=getParam(u.logAction,""),"leftmenu_home"==c.action?(c.writeAction=1,c.screenName="HOME"):c.writeAction=0,"leftmenu_more"==c.action&&(c.writeAction=1),"leftmenu_buy_package"==c.action&&(null!=gDataHST&&""!=gDataHST?c.screenName="ACCOUNT_PACKAGE_ECO":c.screenName="ACCOUNT_PACKAGE_MYTV"),c=clsLogBehaviorV2.addLogBehaviorParamString(c),"icon"==e?o=(o=(o=(o+='        <span id="menu_item_'+u.id+'" menu_index="'+r+'" menu_type="'+u.id+'" class="" menu_status="'+u.status+'" vmp-item vmp-responsive="width,height,border-top-left-radius,border-bottom-left-radius,margin-bottom" '+c+">")+'            <img class="inactive '+p+'"  src="'+u.inactive+'" '+s+">")+'            <img class="active '+p+'" style="display: none;" src="'+u.active+'" '+s+">")+'            <img class="focused '+p+'" '+l+' src="'+u.focused+'" '+s+">        </span>":"text"==e&&(o+='        <span id="menu_text_'+u.id+'" class="" vmp-responsive="height,border-top-left-radius,border-bottom-left-radius,margin-bottom">'+u.text+"</span>"))}return o},setSubmenuStatus:function(e,t){this._hasSubmenu=e,this._index_has_submenu=t},getSubmenuStatus:function(){return this._hasSubmenu},getIndexHasSubmenu:function(e,t){return""==this._index_has_submenu?t?getParam(e,"")+"menu_text_dynamic_menu_1":getParam(e,"")+"menu_item_dynamic_menu_1":t?getParam(e,"")+"menu_text_dynamic_menu_"+this._index_has_submenu:getParam(e,"")+"menu_item_dynamic_menu_"+this._index_has_submenu},setActiveStatus:function(e){$("#standstill_menu_holder span").each(function(e){$(this).attr("menu_status","inactive"),$("#"+this.id+" .active").hide(),$("#"+this.id+" .inactive").show(),$("#"+this.id+" .focused").hide()}),this.removeClassActive(),this.removeClassSubmenu(),("homeNewUI"==getParam(e,SPA.getCurrentPath())?($("#standstill_menu_holder #menu_item_home").attr("menu_status","active"),this.setClassActive("home",!0),$("#standstill_menu_holder #menu_item_home .active").show(),$("#standstill_menu_holder #menu_item_home .inactive").hide(),$("#standstill_menu_holder #menu_item_home .focused")):($("#standstill_menu_holder "+this.getIndexHasSubmenu("#")).attr("menu_status","active"),this.setClassActive("dynamic",!0),this.setClassSubmenu("dynamic"),$("#standstill_menu_holder "+this.getIndexHasSubmenu("#")+" .active").show(),$("#standstill_menu_holder "+this.getIndexHasSubmenu("#")+" .inactive").hide(),$("#standstill_menu_holder "+this.getIndexHasSubmenu("#")+" .focused"))).hide()},setClassActive:function(e,t){if("home"==e)return $("#standstill_menu_text #menu_text_home").addClass("active"),t?void 0:void $("#standstill_menu_holder #menu_item_home").addClass("active");$("#standstill_menu_text "+this.getIndexHasSubmenu("#",!0)).addClass("active"),t||$("#standstill_menu_holder "+this.getIndexHasSubmenu("#")).addClass("active")},removeClassActive:function(){$("#standstill_menu_holder #menu_item_home").removeClass("active"),$("#standstill_menu_text #menu_text_home").removeClass("active"),$("#standstill_menu_holder span").each(function(e){$(this).removeClass("active")}),$("#standstill_menu_text span").each(function(e){$(this).removeClass("active")})},setClassSubmenu:function(e){("home"==e?$("#standstill_menu_holder #menu_item_home"):$("#standstill_menu_holder "+this.getIndexHasSubmenu("#"))).addClass("submenu")},removeClassSubmenu:function(){$("#standstill_menu_holder #menu_item_home").removeClass("submenu"),$("#standstill_menu_holder span").each(function(e){$(this).removeClass("submenu")})},removeClassFocused:function(){$("#standstill_menu_holder span").each(function(e){$(this).removeClass("focused"),$("#standstill_menu_holder #"+this.id+" .active").hide(),$("#standstill_menu_holder #"+this.id+" .inactive").show(),$("#standstill_menu_holder #"+this.id+" .focused").hide()}),$("#standstill_menu_text span").each(function(e){$(this).removeClass("focused")})},setDynamicMenuItems:function(e){if(this._dynamicData=e.slice(0,3),null!=this._dynamicData){for(var t=0;t<this._dynamicData.length;t++){var i=this._dynamicData[t],o="";i.menu_child&&0<i.menu_child.length&&(this.setSubmenuStatus(!0,t+1),o+=" submenu",this._buildMenuSubMenu(i.menu_child)),$("#menu_standstill_body #menu_item_dynamic_menu_"+(t+1)).addClass(o),$("#menu_standstill_body #menu_item_dynamic_menu_"+(t+1)).attr("module_id",i.module_id),$("#menu_standstill_body #menu_item_dynamic_menu_"+(t+1)+" img.inactive").attr("src",i.logo_small_inactive),$("#menu_standstill_body #menu_item_dynamic_menu_"+(t+1)+" img.active").attr("src",i.logo_small_active),$("#menu_standstill_body #menu_item_dynamic_menu_"+(t+1)+" img.focused").attr("src",i.logo_small_focus),$("#menu_text_body #menu_text_dynamic_menu_"+(t+1)).html(i.title)}this.setActiveStatus()}},_buildDropDownService:function(){var e;this.setDynamicMenuItems(moduleID),$("#standstill_menu_wr #dropdown_service_wr").length||(ModuleManager.getTemplatePath(),e="",e=(e=(e=(e+='<div id="dropdown_service_wr" class="dropdown_service_wr" vmp-responsive="top, width, height"><div id="dropdown_service_holder" class="dropdown_service_holder" vmp-responsive="width, height"><div id="dropdown_service_items_holder" class="dropdown_service_items_holder" vmp-style="visible-row:4;column:3;auto-hover:false">')+this._buildDropDownServiceItems(moduleID)+'</div></div><div id="dropdown_arrow_down" class="dropdown_arrow">')+'<img src="'+_pathImgNewUIv3+'leftmenu_icon/dropdown_arrow.png"></div><div id="dropdown_arrow_up" class="dropdown_arrow reverse">')+'<img src="'+_pathImgNewUIv3+'leftmenu_icon/dropdown_arrow.png"></div></div><div id="dropdown_service_bg" class="dropdown_service_bg"></div>',$("#standstill_menu_wr").append(e),SPA.autoResponsive("#dropdown_service_wr",0))},_buildDropDownServiceItems:function(e){var t=arrayTo2Dimension(e,3);if(0==t.length)return"";for(var i="",o=0;o<t.length;o++){i+='<div id="dropdown_service_items_row'+o+'" class="dropdown_service_items_row" vmp-row vmp-style="left-gap:0;item-gap:12">';for(var n,a=0;a<t[o].length;a++)null!=(l=t[o][a])&&(n={action:"leftmenu_more_category"},i=(i=(i+='<span id="room_item_wrapper_'+o+"_"+a+'" vmp-item '+clsLogBehaviorV2.addLogBehaviorParamString(n)+' class="dropdown_service_items_item" '+this._getParamsServices(l)+">")+'<img src="'+l.logo_tv_ver2+'" onerror="this.style.display=\'none\'"/>')+"<a>"+l.title+"</a></span>");if(t[o].length<3)for(var r=0;r<3-t[o].length;r++){var l=t[o][r];i=i+('<span id="room_item_wrapper_'+o+"_"+r+'_backup" class="dropdown_service_items_item" style="opacity: 0;">')+"</span>"}i+="</div>"}return i},_getParamsServices:function(e){return'module_id="'+e.module_id+'"'},_showDropdownService:function(){SPA.disable(),this._hideMenuTextUI(),this._hideMenuMaskBackground(),this.createRequestAnimateFrame({elementID:"dropdown_service_wr",style:"top",value:"valuepx",start:-.2*SPA.screenHeight,stop:0,step:40,onComplete:function(){SPA.enable()}}),$("#dropdown_service_bg").css({opacity:"1","z-index":"999"}),this._isShownDropdownService=!0,this._createAnimationViewDropdownService()},_hideDropdownService:function(e){e?$("#dropdown_service_wr").css("top","-"+SPA.screenHeight+"px"):(SPA.disable(),this.createRequestAnimateFrame({elementID:"dropdown_service_wr",style:"top",value:"valuepx",start:0,stop:-SPA.screenHeight,step:150,onComplete:function(){SPA.enable()}})),$("#dropdown_service_bg").css({opacity:"0","z-index":"-1"}),this._isShownDropdownService=!1},_createAnimationViewDropdownService:function(){var e={wrap_obj_id:"dropdown_service_items_holder",VMP:VMP,use_auto_hightlight:!1,delay_focus_event:0,add_focus_hover:!1,onItemClickFn:function(e){e=e.getSelectedItem(),e=$(e).attr("module_id");_leftMenuFnc.onItemClickServiceMenu(e,"dropdown_service")},onLostFocusLeftFn:function(e){},onItemFocusFn:function(e){var t=e.getSelectedItem(),t=($(t).addClass("focused non-remove"),e.getTotalRowCount()),e=e.getCurrentRowIndex();t<=5?(_leftMenuFnc.hideArrowDropdown_Down(),_leftMenuFnc.hideArrowDropdown_Up()):(1<e&&_leftMenuFnc.showArrowDropdown_Up(),t-e<=3?(_leftMenuFnc.hideArrowDropdown_Down(),_leftMenuFnc.showArrowDropdown_Up()):_leftMenuFnc.showArrowDropdown_Down(),e<2&&_leftMenuFnc.hideArrowDropdown_Up())},onItemLostFocusFn:function(e){e=e.getSelectedItem();$(e).removeClass("focused"),$(e).removeClass("non-remove")},onMoveFn:function(e,t){},onBackFn:function(){_leftMenuFnc._hideDropdownService(),_leftMenuFnc._showMenuText(),_leftMenuFnc._showMenuMaskBackground(),VMP.setActive("standstill_menu_holder")}};null!=this.objAnimationDropdownService&&this.objAnimationDropdownService.gotoTop(0),this.resetVMP("dropdown_service_items_holder"),this.objAnimationDropdownService=new clsAnimationView(e),VMP.setActive("dropdown_service_items_holder")},resetVMP:function(e){for(var t=-1,i=0;i<VMP.arrObjList.length;i++)if(VMP.arrObjList[i].wrapObjId==e){t=i;break}-1<t&&VMP.arrObjList.splice(t,1)},showArrowDropdown_Down:function(){$("#dropdown_arrow_down").show()},hideArrowDropdown_Down:function(){$("#dropdown_arrow_down").hide()},showArrowDropdown_Up:function(){$("#dropdown_arrow_up").show()},hideArrowDropdown_Up:function(){$("#dropdown_arrow_up").hide()},onItemClickServiceMenu:function(e,t){try{for(var i={},o=0;o<moduleID.length;o++)if(parseInt(e)==parseInt(moduleID[o].module_id)){i=moduleID[o];break}var n,a=i.cate_id,e=i.module_id,r=getParam(i.service_code,""),l=i.type_id,s=(i.cate_node_type,i.logo_cate),c=(i.cate_name,i.poster_layout,i.type_cate,i.api_url),u=i.template_id,p=i.param_api,m=i.id,d=getParam(i.service_id_new,0);if(isClickedSpecialModule=!1,8==u||12==u)if(("undefined"==typeof gMovieDataTemplate||null==gMovieDataTemplate||"null"==gMovieDataTemplate?gMovieDataTemplate=[]:gMovieDataTemplate).push({api_url:c,param_api:p,type_id:l,module_service_id:e}),1==d){if("null"==s&&null==s||(gMovie.mvList_logo=s),isClickedSpecialModule=!0,12==u)return this.setCurrentModuleID(e),void this.leaveFromLeftMenu("channel?type_id="+l+"&template_id="+u+"&module_id="+e+"&service_code="+r);this.setCurrentModuleID(e),this.leaveFromLeftMenu("specialModule?type_id="+l+"&template_id="+u+"&module_id="+e+"&service_code="+r)}else this.setCurrentModuleID(e),this.leaveFromLeftMenu("movie?type_id="+l+"&module_id="+e+"&service_code="+r);else null!=a&&"null"!=a||0<a?1==l?(this.setCurrentModuleID(e),this.leaveFromLeftMenu("featured?cate_id="+a+"&module_id="+e+"&service_code="+r)):this.showErrorOnCLickService(t):null!=a&&"null"!=a&&0!=a&&""!=a||("lixi"==m||"elofun"==m||"tvod"==m?(n=m+"?module_id="+e+"&module_id="+e+"&service_code="+r+"&type_id="+l,this.setCurrentModuleID(e),this.setLogActionService(m),this.leaveFromLeftMenu(n)):this.showErrorOnCLickService(t))}catch(e){this.showErrorOnCLickService(t)}},showErrorOnCLickService:function(e){this.removeSavredPath(),showAlert({VMP:VMP,content:"Dịch vụ này đang được nâng cấp. Vui lòng thử lại sau.",onOKFn:function(){"dropdown_service"==e?VMP.setActive("dropdown_service_items_holder"):"left_menu"==e?VMP.setActive("standstill_menu_holder"):""!=e&&VMP.setActive(e)}})},removeSavredPath:function(e){0!=routerManager.urlList.length&&(e?e==routerManager.urlList[routerManager.urlList.length-1].split("?")[0].replace("/","")&&routerManager.pop():SPA.getCurrentPath()==routerManager.urlList[routerManager.urlList.length-1].split("?")[0].replace("/","")&&routerManager.pop())},setLogActionService:function(e){},setCurrentModuleID:function(e){this.currentModuleID=getParam(e,0)},getCurrentModuleID:function(){return this.currentModuleID},hideAllLeftMenus:function(e,t){this._isShownDropdownService&&this._hideDropdownService(e),this._isShownMenuSubmenu&&this._hideMenuSubmenu(e),this._isShownMenuText&&this._hideMenuTextUI(e),this.hideExpandedLeftMenuHomepage(e,t)},leaveFromLeftMenu:function(e,t){SPA.getFullURLCurrent()==e?this.hideAllLeftMenus(!0,!0):(this.hideAllLeftMenus(!0,!1),this.clearCaches(e),t&&SPA.savePath(SPA.getFullURLCurrent()),"homeNewUI"==SPA.getCurrentPath()&&fn("onLeavingHomepage"),SPA.location(e))},clearCaches:function(e){"specialModule"==e.split("?")[0].replace("/","")||"fimPlusSplash"==e.split("?")[0].replace("/","")?cacheRecommend.remove("specialModuleService"):"specialModuleList"==e.split("?")[0].replace("/","")?cacheRecommend.remove("specialModuleList"):"channel"==e.split("?")[0].replace("/","")?cacheRecommend.remove("ChannelHomepage"):"channel-list"==e.split("?")[0].replace("/","")&&cacheRecommend.remove("ChannelListPage")},checkDuplicateSavedPath:function(e){if(0!=routerManager.urlList.length){for(var t=["specialModule","specialModuleList"],i=!1,o=0;o<t.length;o++)if(e.indexOf(t[o])){i=!0;break}i&&e.split("?")[0].replace("/","")==routerManager.urlList[routerManager.urlList.length-1].split("?")[0].replace("/","")&&routerManager.pop()}},hideExpandedLeftMenuHomepage:function(e,t){this._hideMenuText(e,t),this._hideMenuMaskBackground(),this._isShownLeftmenu=!1},showExpandedLeftMenuHomepage:function(){this.getSubmenuStatus()?this._showMenuSubmenu():("homeNewUI"==SPA.getCurrentPath()?VMP.setActive("standstill_menu_holder","menu_item_home"):VMP.setActive("standstill_menu_holder",this.getIndexHasSubmenu()),this._showMenuText()),this._showMenuMaskBackground(),this._isShownLeftmenu=!0},_changeMenuIcon:function(t,e,i){"profile"!=e&&((e=["active","inactive","focused"]).splice(e.indexOf(i),1),console.log(e),e.forEach(function(e){$(t+" img."+e).hide()}),$(t+" img."+i).show())},_showMenuMaskBackground:function(){$("#standstill_menu_background").addClass("show")},_hideMenuMaskBackground:function(){$("#standstill_menu_background").removeClass("show")},_showMenuText:function(){this.pauseCurrentPlayingVideo(),$("#standstill_menu_wr .menu_logo").addClass("expand"),$("#standstill_menu_holder .cross-line").removeClass("compact"),$("#standstill_menu_holder .cross-line").addClass("expand"),SPA.disable(),this.createRequestAnimateFrame({elementID:"standstill_menu_text",style:"left",value:"valuepx",start:-100,stop:SPA.convertScale(100),step:45,onComplete:function(){SPA.enable()}}),this._isShownMenuText=!0},_hideMenuText:function(e,t){if(this._isShownLeftmenu)if(this.resumeCurrentPlayingVideo(),this._isShownMenuText&&(this._hideMenuTextUI(e),this.getSubmenuStatus())&&this.setClassSubmenu("dynamic"),t)VMP.setActive(gVMPCurrentActive);else try{objMenuHomepageB2C.lostFocus(),this.removeClassFocused()}catch(e){}},_hideMenuTextUI:function(e){$("#standstill_menu_wr .menu_logo").removeClass("expand"),$("#standstill_menu_holder .cross-line").removeClass("expand"),$("#standstill_menu_holder .cross-line").addClass("compact"),e?$("#standstill_menu_text").css("left","-"+($("#standstill_menu_text").width()+SPA.convertScale(100))+"px"):(SPA.disable(),this.createRequestAnimateFrame({elementID:"standstill_menu_text",style:"left",value:"valuepx",start:SPA.convertScale(100),stop:-($("#standstill_menu_text").width()+SPA.convertScale(100)),step:75,onComplete:function(){SPA.enable()}})),this._isShownMenuText=!1},_showMenuSubmenu:function(){this.pauseCurrentPlayingVideo(),this.createMenuSubmenu(),this._isShownMenuText&&this._hideMenuTextUI(),$("#standstill_menu_submenu").addClass("show"),$("#standstill_menu_submenu").css("visibility","visible"),this.setClassActive("dynamic"),this.setClassSubmenu("dynamic"),SPA.disable(),this.createRequestAnimateFrame({elementID:"standstill_menu_submenu",style:"left",value:"valuepx",start:-100,stop:SPA.convertScale(100),step:45,onComplete:function(){SPA.enable()}}),this._isShownMenuSubmenu=!0,VMP.setActive("menu_submenu_body")},_hideMenuSubmenu:function(e){$("#standstill_menu_submenu").removeClass("show"),this.removeClassActive(),e?($("#standstill_menu_submenu").css("left","-"+($("#standstill_menu_submenu").width()+SPA.convertScale(100))+"px"),$("#standstill_menu_submenu").css("visibility","hidden")):(SPA.disable(),this.createRequestAnimateFrame({elementID:"standstill_menu_submenu",style:"left",value:"valuepx",start:SPA.convertScale(100),stop:-($("#standstill_menu_submenu").width()+SPA.convertScale(100)),step:100,onComplete:function(){$("#standstill_menu_submenu").css("visibility","hidden"),SPA.enable()}})),this._isShownMenuSubmenu=!1},_buildMenuSubMenu:function(e){this.submenuList=e;for(var t=(t="")+'<div id="standstill_menu_submenu" class="standstill_menu_text submenu">'+'    <div id="menu_submenu_body" class="menu_submenu_body" vmp-responsive="font-size" vmp-style="top-gap:20;visible-row:12;column:1;selected:focused;auto-hover:false">',i=0;i<e.length;i++){var o=e[i],n={action:"leftmenu_subcate"};n.keyword=getParam(o.KEYWORD,""),t=(t+='<div id="left_menu_submenu_row_'+i+'" vmp-row class="submenu_row">')+('  <span id="menu_submenu_'+i+'" submenu_index="'+i+'" vmp-item '+clsLogBehaviorV2.addLogBehaviorParamString(n)+" >"+o.CATE_NAME+"</span>")+"</div>"}t+="    </div> </div>",$("body #standstill_menu_wr #standstill_menu_submenu").remove(),$("body #standstill_menu_wr").append(t),SPA.autoResponsive("#standstill_menu_submenu",0)},createMenuSubmenu:function(e){null!=this.objMenuSubmenu&&(this.objMenuSubmenu.currentIndex=0,this.objMenuSubmenu.currentMouseIndex=0,this.objMenuSubmenu.init()),this.objMenuSubmenu=new clsAnimationView({wrap_obj_id:"menu_submenu_body",display_type:"vertical",use_auto_hightlight:!1,delay_focus_event:0,add_focus_hover:!1,onLostFocusLeftFn:function(e){_leftMenuFnc._hideMenuSubmenu(!0),_leftMenuFnc.removeClassSubmenu(),_leftMenuFnc.setClassActive("dynamic",!0),_leftMenuFnc._showMenuText(),VMP.setActive("standstill_menu_holder",_leftMenuFnc.getIndexHasSubmenu())},onLostFocusRightFn:function(e){_leftMenuFnc.hideAllLeftMenus("",!0)},onItemFocusFn:function(e){e=e.getSelectedItem();$(e).addClass("focused")},onItemLostFocusFn:function(e){e=e.getSelectedItem();$(e).removeClass("focused")},onItemClickFn:function(e){var e=e.getSelectedItem(),e=$(e).attr("submenu_index"),t=_leftMenuFnc.submenuList;null!=t&&0!=t.length&&(t=t[e],SPA.savePath(SPA.getFullURLCurrent()),_leftMenuFnc.onClickViewMore(t,"menu_submenu_body"))},onBackFn:function(e){_leftMenuFnc.hideAllLeftMenus("",!0),_leftMenuFnc.setClassSubmenu("dynamic")},VMP:VMP})},onClickPlayItem:function(e,t,i){if(null==e)this.removeSavredPath(),showAutoHideWarning("Có lỗi xảy ra, vui lòng thử lại 957");else if(e.TYPE_PROCESS)if(e.CONTENT_ID)if(e.LINKABLE_ID&&0<parseInt(e.LINKABLE_ID))e.VIEW_MORE=1,this.onClickViewMore(e,i);else{var o="";switch(parseInt(e.TYPE_PROCESS)){case 1:o="channelPlayer?id="+e.CONTENT_ID+"&module_id="+routerManager.getParam("module_id","")+"&service_code="+routerManager.getParam("service_code","");break;case 2:case 3:case 4:case 5:o="moviePlayerNew?id="+e.CONTENT_ID+"&type_process="+e.TYPE_PROCESS+"&show_detail="+e.SHOW_DETAIL+"&partition_to_watch="+getParam(e.PARTITION,0)+"&detail_type="+getParam(e.DETAIL_TYPE,0)+"&module_id="+routerManager.getParam("module_id","")+"&service_code="+routerManager.getParam("service_code","");break;case 6:var n="";"1"==getParam(e.TRAILER_TYPE,"")&&(n=encodeURIComponent(getParam(e.TRAILER_PATH,""))),o="eventsPlay?content_id="+e.CONTENT_ID+"&vod_type="+e.VOD_TYPE+"&start_time="+e.START_TIME+"&content_name="+e.CONTENT_TITLE+"&isSpecialModule="+e.isSpecialModule+"&module_id="+routerManager.getParam("module_id","")+"&service_code="+routerManager.getParam("service_code","")+"&type_id="+getParam(e.TYPE_ID,"")+"&trailer_path="+n+"&channel_id="+getParam(e.CHANNEL_ID,"")+"&d="+getParam(e.D,"")+"&st="+getParam(e.ST,"")+"&et="+getParam(e.ET,"");break;case 1e3:return void this.onClickViewMore(t,i)}""==o?(this.removeSavredPath(),showAutoHideWarning("Có lỗi xảy ra, vui lòng thử lại 957.3")):this.leaveFromLeftMenu(o)}else this.removeSavredPath(),showAutoHideWarning("Có lỗi xảy ra, vui lòng thử lại 957.2");else this.removeSavredPath(),showAutoHideWarning("Có lỗi xảy ra, vui lòng thử lại 957.1")},onClickViewMore:function(e,t){if(console.log(e),null==e)this.removeSavredPath(),showAutoHideWarning("Có lỗi xảy ra, vui lòng thử lại 956");else if(1!=e.VIEW_MORE)this.removeSavredPath(),showAutoHideWarning("Có lỗi xảy ra, vui lòng thử lại 958");else if(null==e.DATA_LINK)this.removeSavredPath(),showAutoHideWarning("Có lỗi xảy ra, vui lòng thử lại 959");else{var i="",o=e.CATE_ID,n=e.CATE_NAME,a=parseInt(e.CATE_NODE_TYPE),r=routerManager.getParam("module_id",""),l=getParam(e.SHOW_TITLE,0);switch(a){case 1:gMovieDataLst={api_cate_url:e.DATA_LINK.API_CATE_URL,params_cate:e.DATA_LINK.PARAMS_CATE,api_list_url:e.DATA_LINK.API_LIST_URL,params_list:e.DATA_LINK.PARAMS_LIST},i="specialModuleList?cateId="+o+"&cate_name="+n+"&id="+o+"&module_id="+r+"&service_code="+routerManager.getParam("service_code","")+"&show_title="+l;break;case 2:gMovieDataLst={api_cate_url:e.DATA_LINK.API_CATE_URL,params_cate:e.DATA_LINK.PARAMS_CATE,api_list_url:e.DATA_LINK.API_LIST_URL,params_list:e.DATA_LINK.PARAMS_LIST},i="specialModuleList?cateId="+o+"&cate_name="+n+"&id="+o+"&module_id="+r+"&notCate=true&"+e.DATA_LINK.PARAMS_LIST+"&service_code="+routerManager.getParam("service_code","")+"&show_title="+l;break;case 3:null==e.DATA_LINK.SHORTCUT_TYPE_CODE||""==e.DATA_LINK.SHORTCUT_TYPE_CODE?(this.removeSavredPath(),showAutoHideWarning("Có lỗi xảy ra, vui lòng thử lại 956")):i=this.getURLBaseOnShortcutTypeCode(e);break;case 4:if(null!=e.DATA_LINK.MODULE_ID&&""!=e.DATA_LINK.MODULE_ID)return void this.onItemClickServiceMenu(e.DATA_LINK.MODULE_ID,t);this.removeSavredPath(),showAutoHideWarning("Có lỗi xảy ra, vui lòng thử lại 956");break;case 5:null==e.DATA_LINK.CATE_CHANNEL_ID||""==e.DATA_LINK.CATE_CHANNEL_ID?(this.removeSavredPath(),showAutoHideWarning("Có lỗi xảy ra, vui lòng thử lại 956")):i="channel-list?id="+e.DATA_LINK.CATE_CHANNEL_ID+"&name="+n+"&module_id="+r+"&service_code="+routerManager.getParam("service_code","");break;case 6:if(e.DATA_LINK.CONTENT_ID&&e.DATA_LINK.TYPE_PROCESS)return void this.onClickPlayItem(e.DATA_LINK);break;default:i="homeNewUI"}""==i?(this.removeSavredPath(),showAutoHideWarning("Có lỗi xảy ra, vui lòng thử lại 956")):this.leaveFromLeftMenu(i)}},getURLBaseOnShortcutTypeCode:function(e){var t="";switch(e.DATA_LINK.SHORTCUT_TYPE_CODE){case"watching":gMovieDataLst={api_cate_url:e.DATA_LINK.API_CATE_URL,params_cate:e.DATA_LINK.PARAMS_CATE,api_list_url:e.DATA_LINK.API_LIST_URL,params_list:e.DATA_LINK.PARAMS_LIST,module_service_id:e.DATA_LINK.MODULE_SERVICE_ID},t="specialModuleList?cateId=watching-detail&cate_name="+e.CATE_NAME+"&id=watching-detail&notCate=true&DATAMODE=watching-list&show_title="+e.SHOW_TITLE;break;case"watching-service":gMovieDataLst={api_cate_url:e.DATA_LINK.API_CATE_URL,params_cate:e.DATA_LINK.PARAMS_CATE,api_list_url:e.DATA_LINK.API_LIST_URL,params_list:e.DATA_LINK.PARAMS_LIST,module_service_id:e.DATA_LINK.MODULE_SERVICE_ID},t="specialModuleList?cateId=watching-service-detail&cate_name="+e.CATE_NAME+"&id=watching-service-detail&notCate=true&DATAMODE=watching-service-list&show_title="+e.SHOW_TITLE;break;case"watch-later":gMovieDataLst={api_cate_url:"",params_cate:"",api_list_url:"watch-later-detail",params_list:""},t=this.showBookmark(e.CATE_NAME);break;case"more-recommend":gMovieDataLst={api_cate_url:e.DATA_LINK.API_CATE_URL,params_cate:e.DATA_LINK.PARAMS_CATE,api_list_url:e.DATA_LINK.API_LIST_URL,params_list:e.DATA_LINK.PARAMS_LIST,module_service_id:e.DATA_LINK.MODULE_SERVICE_ID},t="specialModuleList?cateId="+e.CATE_ID+"&cate_name="+e.CATE_NAME+"&id=more-recommend&notCate=true&DATAMODE=more-recommend-list&show_title="+e.SHOW_TITLE;break;case"mylist-channel":t="channel-list?id=-11&name="+e.CATE_NAME;break;case"support-0":t="mytvsupport";break;case"search":t="search";break;case"support-package":t="supportInfoPackage";break;case"profile":t="chooseProfile?isAuto=0";break;case"remote":t="supportRemote";break;case"notify":t="notifySupport";break;case"playlist":t="playlistHome?type_id="+e.DATA_LINK.TYPE_ID;break;case"livescore":t="liveScore";break;case"setup-galaxy":t="fimplusSetting"}return t},getCateId:function(e,t){if(null==e||""==e){for(var i=0,o=t.split("&"),n=0;n<o.length;n++)if(2==(a=o[n].split("=")).length&&"cate_id"==a[0]){i=a[1],console.info("====Has cateID====",i);break}}else for(var a,i=0,o=e.split("&"),n=0;n<o.length;n++)if(2==(a=o[n].split("=")).length&&"cate_id"==a[0]){i=a[1],console.info("====Has cateID====",i);break}return i},createRequestAnimateFrame:function(e){ModuleManager.loadFile("clsRequestAnimateFrame",function(){new clsRequestAnimateFrame(e)},null,!0)},pauseCurrentPlayingVideo:function(){},resumeCurrentPlayingVideo:function(){},showBookmark:function(e){gMovieDataLst={api_cate_url:"",params_cate:"",api_list_url:"watch-later-detail",params_list:""};return gMovie.mvList_logo="","specialModuleList?cateId=&cate_name=Danh sách&id=watch-later-detail&notCate=true&DATAMODE=watchLater"},imagesLoaded:0,imgLength:0,loadFailedTimer:null,checkImagesLoaded:function(e,t,i){var o=document.querySelectorAll(e);_leftMenuFnc.imgLength=o.length;for(var n,a=_leftMenuFnc.imagesLoaded=0;a<o.length;a++)""==o[a].src||null==o[a].src||"null"==o[a].src?_leftMenuFnc.imgLength--:((n=new window.Image).onload=function(){_leftMenuFnc.imagesLoaded++,_leftMenuFnc.onImagesLoaded(t,i)},n.onerror=function(){_leftMenuFnc.imgLength--,_leftMenuFnc.onImagesLoadFailed(t,i)},n.src=o[a].src)},onImagesLoaded:function(e,t){_leftMenuFnc.clearImageLoadFailTimer(),(_leftMenuFnc.imagesLoaded==_leftMenuFnc.imgLength?e:t)()},onImagesLoadFailed:function(e,t){_leftMenuFnc.clearImageLoadFailTimer(),_leftMenuFnc.loadFailedTimer=setTimeout(function(){_leftMenuFnc.onImagesLoaded(e,t)},1e3)},clearImageLoadFailTimer:function(){clearTimeout(_leftMenuFnc.loadFailedTimer),_leftMenuFnc.loadFailedTimer=null}},window.hideLeftMenuHomepage=function(){_leftMenuFnc.hideAllLeftMenus("",!1)},window._movieDetailInfo={max_length_desc:117,max_length_text_name_2line:54,max_length_text_name_3line:72,max_length_info:48,getInfoContentUI:function(e,t){var i=getParam(e.IMAGE_NAME,""),o="",n=e.UI_DETAIL_TYPE,a=("preview"==t&&(o+='<div id="banner_timer" class="promp-channel-desc" style="display: none;color: #32ed00;margin-top: 0px; margin-bottom: 10px" vmp-responsive="font-size, line-height, margin-bottom">   <img src="" style="position:relative; margin-right:8px;top:7px;width:35px;" vmp-responsive="font-size, width, margin-right, top"><span style="margin-left: 10px;"></span></div>'),31!=e.TYPE_ID&&1!=e.TYPE_ID&&(o+=this.getInfoSection(e)),"detail"==t&&1==n&&1==parseInt(e.IS_PRESENT)&&(o=(o+='<div class="mv_leftmenu_dt" vmp-responsive="font-size" style="font-size: 24px; padding-top: 0px; color: #1A85E8">')+'<img src="'+_pathImgNewUIv3+'player_icon/Headphones.png" style="width: '+SPA.convertScale(28)+"px; height: "+SPA.convertScale(28)+'px;vertical-align: text-top; margin-right: 5px;" />Thuyết minh</div>'),""),r="display: none;",r=""!=i?(a="","display: none;"):(a="display: none;",""),l=this.max_length_text_name_2line;return 3!=n&&4!=n||(l=this.max_length_text_name_3line),o=(o=(o+='<div id="promo-video-title" class="movie-title" vmp-responsive="font-size, margin-bottom">')+('   <a id="trailer-name" style="'+r+'" vmp-responsive="font-size">'+truncateV2(e.CONTENT_TITLE,l)+"</a>"))+('   <img id="trailer-image-name" style="'+a+'" class="movie-image-name" src="'+i+'" onerror="fn(\'onTrailerImageNameError\')" vmp-responsive="max-height">')+"</div>","detail"==t&&(o+=this.getDetailInfo(e.ARR_DESC)),("preview"==t||4!=n&&"detail"==t)&&(o+='<div id="banner_movie_desc" class="movie-desc" vmp-responsive="font-size, line-height, padding-left">'+truncateV2(getParam(e.CONTENT_DESC_SHORT,e.CONTENT_DESC),this.max_length_desc)+"</div>"),o},getInfoSection:function(e){var t,i=e.UI_DETAIL_TYPE,o="";return 0!=i&&3!=i&&4!=i&&5!=i&&(o+='<div class="movie-info" vmp-responsive="margin-bottom">',""!=e.CONTENT_PUBLISH_YEAR&&(o+='   <span id="trailer-year" vmp-responsive="font-size, margin-top, margin-bottom, margin-right, padding-right">'+e.CONTENT_PUBLISH_YEAR+"</span>"),""!=e.CONTENT_COUNTRY&&2!=i&&(o+='   <span id="trailer-country" vmp-responsive="font-size, margin-top, margin-bottom, margin-right, padding-right">'+e.CONTENT_COUNTRY+"</span>"),(t="")!=(t=1==e.CONTENT_SINGLE?e.CONTENT_DURATION&&0!=e.CONTENT_DURATION?this.secondsToHmTrailer(e.CONTENT_DURATION):"":e.TOTAL_EPISODE?e.TOTAL_EPISODE+" tập":"")&&(o+='   <span id="trailer-length" vmp-responsive="font-size, margin-top, margin-bottom, margin-right, padding-right">'+t+"</span>"),""!=e.LOCKED_LEVEL&&2!=i&&(o+='   <span id="trailer-age" class="movie-age" vmp-responsive="font-size, margin-top, margin-bottom, margin-right, padding-right, padding-left">'+e.LOCKED_LEVEL+"</span>"),o+="</div>"),o},getDetailInfo:function(e){var t="";if(void 0!==e)for(var i=0;i<e.length;i++)t+='<div class="mv_leftmenu_dt grey_text" vmp-responsive="font-size" style="font-size: 26px; padding-top: 0px; width: 110%">'+truncateV2(e[i],this.max_length_info)+"</div>";return t},secondsToHmTrailer:function(e){e=Number(e);var t=Math.floor(e%86400/3600),e=Math.floor(e%3600/60),e=0<e?e+"":"00";return(0<t?t+"h":"0h")+(e="00"!=e&&e<10?"0"+e:e)}};